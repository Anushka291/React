/*! For license information please see main.20eb553a.js.LICENSE.txt */
(()=>{var t={4:(t,e,n)=>{"use strict";var i=n(853),a=n(43),s=n(950);function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function c(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function h(t){if(l(t)!==t)throw Error(r(188))}function d(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t;for(t=t.child;null!==t;){if(null!==(e=d(t)))return e;t=t.sibling}return null}var u=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function P(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=T&&t[T]||t["@@iterator"])?t:null}var D=Symbol.for("react.client.reference");function R(t){if(null==t)return null;if("function"===typeof t)return t.$$typeof===D?null:t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case g:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case S:return"SuspenseList";case E:return"Activity"}if("object"===typeof t)switch(t.$$typeof){case m:return"Portal";case w:return(t.displayName||"Context")+".Provider";case y:return(t._context.displayName||"Context")+".Consumer";case _:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(e=t.displayName||null)?e:R(t.type)||"Memo";case M:e=t._payload,t=t._init;try{return R(t(e))}catch(n){}}return null}var L=Array.isArray,N=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},F=[],j=-1;function z(t){return{current:t}}function B(t){0>j||(t.current=F[j],F[j]=null,j--)}function W(t,e){j++,F[j]=t.current,t.current=e}var H=z(null),V=z(null),U=z(null),q=z(null);function G(t,e){switch(W(U,e),W(V,t),W(H,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?ad(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)t=sd(e=ad(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(H),W(H,t)}function Y(){B(H),B(V),B(U)}function X(t){null!==t.memoizedState&&W(q,t);var e=H.current,n=sd(e,t.type);e!==n&&(W(V,t),W(H,n))}function K(t){V.current===t&&(B(H),B(V)),q.current===t&&(B(q),Xd._currentValue=I)}var $=Object.prototype.hasOwnProperty,Q=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,Z=i.unstable_shouldYield,tt=i.unstable_requestPaint,et=i.unstable_now,nt=i.unstable_getCurrentPriorityLevel,it=i.unstable_ImmediatePriority,at=i.unstable_UserBlockingPriority,st=i.unstable_NormalPriority,rt=i.unstable_LowPriority,ot=i.unstable_IdlePriority,lt=i.log,ct=i.unstable_setDisableYieldValue,ht=null,dt=null;function ut(t){if("function"===typeof lt&&ct(t),dt&&"function"===typeof dt.setStrictMode)try{dt.setStrictMode(ht,t)}catch(e){}}var pt=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(ft(t)/mt|0)|0},ft=Math.log,mt=Math.LN2;var gt=256,vt=4194304;function bt(t){var e=42&t;if(0!==e)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&t;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&t;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xt(t,e,n){var i=t.pendingLanes;if(0===i)return 0;var a=0,s=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var o=134217727&i;return 0!==o?0!==(i=o&~s)?a=bt(i):0!==(r&=o)?a=bt(r):n||0!==(n=o&~t)&&(a=bt(n)):0!==(o=i&~s)?a=bt(o):0!==r?a=bt(r):n||0!==(n=i&~t)&&(a=bt(n)),0===a?0:0!==e&&e!==a&&0===(e&s)&&((s=a&-a)>=(n=e&-e)||32===s&&0!==(4194048&n))?e:a}function yt(t,e){return 0===(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)}function wt(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function _t(){var t=gt;return 0===(4194048&(gt<<=1))&&(gt=256),t}function kt(){var t=vt;return 0===(62914560&(vt<<=1))&&(vt=4194304),t}function St(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function At(t,e){t.pendingLanes|=e,268435456!==e&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mt(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-pt(e);t.entangledLanes|=e,t.entanglements[i]=1073741824|t.entanglements[i]|4194090&n}function Et(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-pt(n),a=1<<i;a&e|t[i]&e&&(t[i]|=e),n&=~a}}function Ct(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Tt(t){return 2<(t&=-t)?8<t?0!==(134217727&t)?32:268435456:8:2}function Pt(){var t=O.p;return 0!==t?t:void 0===(t=window.event)?32:cu(t.type)}var Dt=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Dt,Lt="__reactProps$"+Dt,Nt="__reactContainer$"+Dt,Ot="__reactEvents$"+Dt,It="__reactListeners$"+Dt,Ft="__reactHandles$"+Dt,jt="__reactResources$"+Dt,zt="__reactMarker$"+Dt;function Bt(t){delete t[Rt],delete t[Lt],delete t[Ot],delete t[It],delete t[Ft]}function Wt(t){var e=t[Rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nt]||n[Rt]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=xd(t);null!==t;){if(n=t[Rt])return n;t=xd(t)}return e}n=(t=n).parentNode}return null}function Ht(t){if(t=t[Rt]||t[Nt]){var e=t.tag;if(5===e||6===e||13===e||26===e||27===e||3===e)return t}return null}function Vt(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t.stateNode;throw Error(r(33))}function Ut(t){var e=t[jt];return e||(e=t[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function qt(t){t[zt]=!0}var Gt=new Set,Yt={};function Xt(t,e){Kt(t,e),Kt(t+"Capture",e)}function Kt(t,e){for(Yt[t]=e,t=0;t<e.length;t++)Gt.add(e[t])}var $t,Qt,Jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zt={},te={};function ee(t,e,n){if(a=e,$.call(te,a)||!$.call(Zt,a)&&(Jt.test(a)?te[a]=!0:(Zt[a]=!0,0)))if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":return void t.removeAttribute(e);case"boolean":var i=e.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void t.removeAttribute(e)}t.setAttribute(e,""+n)}var a}function ne(t,e,n){if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(e)}t.setAttribute(e,""+n)}}function ie(t,e,n,i){if(null===i)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(n)}t.setAttributeNS(e,n,""+i)}}function ae(t){if(void 0===$t)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$t=e&&e[1]||"",Qt=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$t+t+Qt}var se=!1;function re(t,e){if(!t||se)return"";se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var i=a}Reflect.construct(t,[],n)}else{try{n.call()}catch(s){i=s}t.call(n.prototype)}}else{try{throw Error()}catch(r){i=r}(n=t())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&i&&"string"===typeof o.stack)return[o.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),r=s[0],o=s[1];if(r&&o){var l=r.split("\n"),c=o.split("\n");for(a=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(i===l.length||a===c.length)for(i=l.length-1,a=c.length-1;1<=i&&0<=a&&l[i]!==c[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==c[a]){if(1!==i||1!==a)do{if(i--,0>--a||l[i]!==c[a]){var h="\n"+l[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}}while(1<=i&&0<=a);break}}}finally{se=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ae(n):""}function oe(t){switch(t.tag){case 26:case 27:case 5:return ae(t.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return re(t.type,!1);case 11:return re(t.type.render,!1);case 1:return re(t.type,!0);case 31:return ae("Activity");default:return""}}function le(t){try{var e="";do{e+=oe(t),t=t.return}while(t);return e}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ce(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function he(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function de(t){t._valueTracker||(t._valueTracker=function(t){var e=he(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(t){i=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function ue(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=he(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function pe(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}var fe=/[\n"\\]/g;function me(t){return t.replace(fe,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ge(t,e,n,i,a,s,r,o){t.name="",null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r?t.type=r:t.removeAttribute("type"),null!=e?"number"===r?(0===e&&""===t.value||t.value!=e)&&(t.value=""+ce(e)):t.value!==""+ce(e)&&(t.value=""+ce(e)):"submit"!==r&&"reset"!==r||t.removeAttribute("value"),null!=e?be(t,r,ce(e)):null!=n?be(t,r,ce(n)):null!=i&&t.removeAttribute("value"),null==a&&null!=s&&(t.defaultChecked=!!s),null!=a&&(t.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?t.name=""+ce(o):t.removeAttribute("name")}function ve(t,e,n,i,a,s,r,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(t.type=s),null!=e||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==e&&null!==e))return;n=null!=n?""+ce(n):"",e=null!=e?""+ce(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i="function"!==typeof(i=null!=i?i:a)&&"symbol"!==typeof i&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(t.name=r)}function be(t,e,n){"number"===e&&pe(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function xe(t,e,n,i){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ce(n),e=null,a=0;a<t.length;a++){if(t[a].value===n)return t[a].selected=!0,void(i&&(t[a].defaultSelected=!0));null!==e||t[a].disabled||(e=t[a])}null!==e&&(e.selected=!0)}}function ye(t,e,n){null==e||((e=""+ce(e))!==t.value&&(t.value=e),null!=n)?t.defaultValue=null!=n?""+ce(n):"":t.defaultValue!==e&&(t.defaultValue=e)}function we(t,e,n,i){if(null==e){if(null!=i){if(null!=n)throw Error(r(92));if(L(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),e=n}n=ce(e),t.defaultValue=n,(i=t.textContent)===n&&""!==i&&null!==i&&(t.value=i)}function _e(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Se(t,e,n){var i=0===e.indexOf("--");null==n||"boolean"===typeof n||""===n?i?t.setProperty(e,""):"float"===e?t.cssFloat="":t[e]="":i?t.setProperty(e,n):"number"!==typeof n||0===n||ke.has(e)?"float"===e?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Ae(t,e,n){if(null!=e&&"object"!==typeof e)throw Error(r(62));if(t=t.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=e&&e.hasOwnProperty(i)||(0===i.indexOf("--")?t.setProperty(i,""):"float"===i?t.cssFloat="":t[i]="");for(var a in e)i=e[a],e.hasOwnProperty(a)&&n[a]!==i&&Se(t,a,i)}else for(var s in e)e.hasOwnProperty(s)&&Se(t,s,e[s])}function Me(t){if(-1===t.indexOf("-"))return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ce=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Te(t){return Ce.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pe=null;function De(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Re=null,Le=null;function Ne(t){var e=Ht(t);if(e&&(t=e.stateNode)){var n=t[Lt]||null;t:switch(t=e.stateNode,e.type){case"input":if(ge(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+me(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var a=i[Lt]||null;if(!a)throw Error(r(90));ge(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)(i=n[e]).form===t.form&&ue(i)}break t;case"textarea":ye(t,n.value,n.defaultValue);break t;case"select":null!=(e=n.value)&&xe(t,!!n.multiple,e,!1)}}}var Oe=!1;function Ie(t,e,n){if(Oe)return t(e,n);Oe=!0;try{return t(e)}finally{if(Oe=!1,(null!==Re||null!==Le)&&(Wc(),Re&&(e=Re,t=Le,Le=Re=null,Ne(e),t)))for(e=0;e<t.length;e++)Ne(t[e])}}function Fe(t,e){var n=t.stateNode;if(null===n)return null;var i=n[Lt]||null;if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(r(231,e,typeof n));return n}var je=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ze=!1;if(je)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(Lu){ze=!1}var We=null,He=null,Ve=null;function Ue(){if(Ve)return Ve;var t,e,n=He,i=n.length,a="value"in We?We.value:We.textContent,s=a.length;for(t=0;t<i&&n[t]===a[t];t++);var r=i-t;for(e=1;e<=r&&n[i-e]===a[s-e];e++);return Ve=a.slice(t,1<e?1-e:void 0)}function qe(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function Ge(){return!0}function Ye(){return!1}function Xe(t){function e(e,n,i,a,s){for(var r in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(r)&&(e=t[r],this[r]=e?e(a):a[r]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Ge:Ye,this.isPropagationStopped=Ye,this}return u(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Ge)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Ge)},persist:function(){},isPersistent:Ge}),e}var Ke,$e,Qe,Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ze=Xe(Je),tn=u({},Je,{view:0,detail:0}),en=Xe(tn),nn=u({},tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qe&&(Qe&&"mousemove"===t.type?(Ke=t.screenX-Qe.screenX,$e=t.screenY-Qe.screenY):$e=Ke=0,Qe=t),Ke)},movementY:function(t){return"movementY"in t?t.movementY:$e}}),an=Xe(nn),sn=Xe(u({},nn,{dataTransfer:0})),rn=Xe(u({},tn,{relatedTarget:0})),on=Xe(u({},Je,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Xe(u({},Je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),cn=Xe(u({},Je,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=un[t])&&!!e[t]}function fn(){return pn}var mn=Xe(u({},tn,{key:function(t){if(t.key){var e=hn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=qe(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?dn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(t){return"keypress"===t.type?qe(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?qe(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),gn=Xe(u({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Xe(u({},tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),bn=Xe(u({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Xe(u({},nn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=Xe(u({},Je,{newState:0,oldState:0})),wn=[9,13,27,32],_n=je&&"CompositionEvent"in window,kn=null;je&&"documentMode"in document&&(kn=document.documentMode);var Sn=je&&"TextEvent"in window&&!kn,An=je&&(!_n||kn&&8<kn&&11>=kn),Mn=String.fromCharCode(32),En=!1;function Cn(t,e){switch(t){case"keyup":return-1!==wn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Pn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Dn[t.type]:"textarea"===e}function Ln(t,e,n,i){Re?Le?Le.push(i):Le=[i]:Re=i,0<(e=Uh(e,"onChange")).length&&(n=new Ze("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Nn=null,On=null;function In(t){Ih(t,0)}function Fn(t){if(ue(Vt(t)))return t}function jn(t,e){if("change"===t)return e}var zn=!1;if(je){var Bn;if(je){var Wn="oninput"in document;if(!Wn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Wn="function"===typeof Hn.oninput}Bn=Wn}else Bn=!1;zn=Bn&&(!document.documentMode||9<document.documentMode)}function Vn(){Nn&&(Nn.detachEvent("onpropertychange",Un),On=Nn=null)}function Un(t){if("value"===t.propertyName&&Fn(On)){var e=[];Ln(e,On,t,De(t)),Ie(In,e)}}function qn(t,e,n){"focusin"===t?(Vn(),On=n,(Nn=e).attachEvent("onpropertychange",Un)):"focusout"===t&&Vn()}function Gn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Fn(On)}function Yn(t,e){if("click"===t)return Fn(e)}function Xn(t,e){if("input"===t||"change"===t)return Fn(e)}var Kn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function $n(t,e){if(Kn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!$.call(e,a)||!Kn(t[a],e[a]))return!1}return!0}function Qn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jn(t,e){var n,i=Qn(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Qn(i)}}function Zn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Zn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function ti(t){for(var e=pe((t=null!=t&&null!=t.ownerDocument&&null!=t.ownerDocument.defaultView?t.ownerDocument.defaultView:window).document);e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=pe((t=e.contentWindow).document)}return e}function ei(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var ni=je&&"documentMode"in document&&11>=document.documentMode,ii=null,ai=null,si=null,ri=!1;function oi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ri||null==ii||ii!==pe(i)||("selectionStart"in(i=ii)&&ei(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},si&&$n(si,i)||(si=i,0<(i=Uh(ai,"onSelect")).length&&(e=new Ze("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ii)))}function li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},hi={},di={};function ui(t){if(hi[t])return hi[t];if(!ci[t])return t;var e,n=ci[t];for(e in n)if(n.hasOwnProperty(e)&&e in di)return hi[t]=n[e];return t}je&&(di=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var pi=ui("animationend"),fi=ui("animationiteration"),mi=ui("animationstart"),gi=ui("transitionrun"),vi=ui("transitionstart"),bi=ui("transitioncancel"),xi=ui("transitionend"),yi=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(t,e){yi.set(t,e),Xt(e,[t])}wi.push("scrollEnd");var ki=new WeakMap;function Si(t,e){if("object"===typeof t&&null!==t){var n=ki.get(t);return void 0!==n?n:(e={value:t,source:e,stack:le(e)},ki.set(t,e),e)}return{value:t,source:e,stack:le(e)}}var Ai=[],Mi=0,Ei=0;function Ci(){for(var t=Mi,e=Ei=Mi=0;e<t;){var n=Ai[e];Ai[e++]=null;var i=Ai[e];Ai[e++]=null;var a=Ai[e];Ai[e++]=null;var s=Ai[e];if(Ai[e++]=null,null!==i&&null!==a){var r=i.pending;null===r?a.next=a:(a.next=r.next,r.next=a),i.pending=a}0!==s&&Ri(n,a,s)}}function Ti(t,e,n,i){Ai[Mi++]=t,Ai[Mi++]=e,Ai[Mi++]=n,Ai[Mi++]=i,Ei|=i,t.lanes|=i,null!==(t=t.alternate)&&(t.lanes|=i)}function Pi(t,e,n,i){return Ti(t,e,n,i),Li(t)}function Di(t,e){return Ti(t,null,null,e),Li(t)}function Ri(t,e,n){t.lanes|=n;var i=t.alternate;null!==i&&(i.lanes|=n);for(var a=!1,s=t.return;null!==s;)s.childLanes|=n,null!==(i=s.alternate)&&(i.childLanes|=n),22===s.tag&&(null===(t=s.stateNode)||1&t._visibility||(a=!0)),t=s,s=s.return;return 3===t.tag?(s=t.stateNode,a&&null!==e&&(a=31-pt(n),null===(i=(t=s.hiddenUpdates)[a])?t[a]=[e]:i.push(e),e.lane=536870912|n),s):null}function Li(t){if(50<Rc)throw Rc=0,Lc=null,Error(r(185));for(var e=t.return;null!==e;)e=(t=e).return;return 3===t.tag?t.stateNode:null}var Ni={};function Oi(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(t,e,n,i){return new Oi(t,e,n,i)}function Fi(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ji(t,e){var n=t.alternate;return null===n?((n=Ii(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function zi(t,e){t.flags&=65011714;var n=t.alternate;return null===n?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Bi(t,e,n,i,a,s){var o=0;if(i=t,"function"===typeof t)Fi(t)&&(o=1);else if("string"===typeof t)o=function(t,e,n){if(1===n||null!=e.itemProp)return!1;switch(t){case"meta":case"title":return!0;case"style":if("string"!==typeof e.precedence||"string"!==typeof e.href||""===e.href)break;return!0;case"link":if("string"!==typeof e.rel||"string"!==typeof e.href||""===e.href||e.onLoad||e.onError)break;return"stylesheet"!==e.rel||(t=e.disabled,"string"===typeof e.precedence&&null==t);case"script":if(e.async&&"function"!==typeof e.async&&"symbol"!==typeof e.async&&!e.onLoad&&!e.onError&&e.src&&"string"===typeof e.src)return!0}return!1}(t,n,H.current)?26:"html"===t||"head"===t||"body"===t?27:5;else t:switch(t){case E:return(t=Ii(31,n,e,a)).elementType=E,t.lanes=s,t;case g:return Wi(n.children,a,s,e);case v:o=8,a|=24;break;case b:return(t=Ii(12,n,e,2|a)).elementType=b,t.lanes=s,t;case k:return(t=Ii(13,n,e,a)).elementType=k,t.lanes=s,t;case S:return(t=Ii(19,n,e,a)).elementType=S,t.lanes=s,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case x:case w:o=10;break t;case y:o=9;break t;case _:o=11;break t;case A:o=14;break t;case M:o=16,i=null;break t}o=29,n=Error(r(130,null===t?"null":typeof t,"")),i=null}return(e=Ii(o,n,e,a)).elementType=t,e.type=i,e.lanes=s,e}function Wi(t,e,n,i){return(t=Ii(7,t,i,e)).lanes=n,t}function Hi(t,e,n){return(t=Ii(6,t,null,e)).lanes=n,t}function Vi(t,e,n){return(e=Ii(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ui=[],qi=0,Gi=null,Yi=0,Xi=[],Ki=0,$i=null,Qi=1,Ji="";function Zi(t,e){Ui[qi++]=Yi,Ui[qi++]=Gi,Gi=t,Yi=e}function ta(t,e,n){Xi[Ki++]=Qi,Xi[Ki++]=Ji,Xi[Ki++]=$i,$i=t;var i=Qi;t=Ji;var a=32-pt(i)-1;i&=~(1<<a),n+=1;var s=32-pt(e)+a;if(30<s){var r=a-a%5;s=(i&(1<<r)-1).toString(32),i>>=r,a-=r,Qi=1<<32-pt(e)+a|n<<a|i,Ji=s+t}else Qi=1<<s|n<<a|i,Ji=t}function ea(t){null!==t.return&&(Zi(t,1),ta(t,1,0))}function na(t){for(;t===Gi;)Gi=Ui[--qi],Ui[qi]=null,Yi=Ui[--qi],Ui[qi]=null;for(;t===$i;)$i=Xi[--Ki],Xi[Ki]=null,Ji=Xi[--Ki],Xi[Ki]=null,Qi=Xi[--Ki],Xi[Ki]=null}var ia=null,aa=null,sa=!1,ra=null,oa=!1,la=Error(r(519));function ca(t){throw ma(Si(Error(r(418,"")),t)),la}function ha(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Rt]=t,e[Lt]=i,n){case"dialog":Fh("cancel",e),Fh("close",e);break;case"iframe":case"object":case"embed":Fh("load",e);break;case"video":case"audio":for(n=0;n<Nh.length;n++)Fh(Nh[n],e);break;case"source":Fh("error",e);break;case"img":case"image":case"link":Fh("error",e),Fh("load",e);break;case"details":Fh("toggle",e);break;case"input":Fh("invalid",e),ve(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),de(e);break;case"select":Fh("invalid",e);break;case"textarea":Fh("invalid",e),we(e,i.value,i.defaultValue,i.children),de(e)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||e.textContent===""+n||!0===i.suppressHydrationWarning||$h(e.textContent,n)?(null!=i.popover&&(Fh("beforetoggle",e),Fh("toggle",e)),null!=i.onScroll&&Fh("scroll",e),null!=i.onScrollEnd&&Fh("scrollend",e),null!=i.onClick&&(e.onclick=Qh),e=!0):e=!1,e||ca(t)}function da(t){for(ia=t.return;ia;)switch(ia.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:ia=ia.return}}function ua(t){if(t!==ia)return!1;if(!sa)return da(t),sa=!0,!1;var e,n=t.tag;if((e=3!==n&&27!==n)&&((e=5===n)&&(e=!("form"!==(e=t.type)&&"button"!==e)||rd(t.type,t.memoizedProps)),e=!e),e&&aa&&ca(t),da(t),13===n){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(8===t.nodeType)if("/$"===(e=t.data)){if(0===n){aa=vd(t.nextSibling);break t}n--}else"$"!==e&&"$!"!==e&&"$?"!==e||n++;t=t.nextSibling}aa=null}}else 27===n?(n=aa,pd(t.type)?(t=bd,bd=null,aa=t):aa=n):aa=ia?vd(t.stateNode.nextSibling):null;return!0}function pa(){aa=ia=null,sa=!1}function fa(){var t=ra;return null!==t&&(null===xc?xc=t:xc.push.apply(xc,t),ra=null),t}function ma(t){null===ra?ra=[t]:ra.push(t)}var ga=z(null),va=null,ba=null;function xa(t,e,n){W(ga,e._currentValue),e._currentValue=n}function ya(t){t._currentValue=ga.current,B(ga)}function wa(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function _a(t,e,n,i){var a=t.child;for(null!==a&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;t:for(;null!==s;){var l=s;s=a;for(var c=0;c<e.length;c++)if(l.context===e[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wa(s.return,n,t),i||(o=null);break t}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wa(o,n,t),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function ka(t,e,n,i){t=null;for(var a=e,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=a.type;Kn(a.pendingProps.value,o.value)||(null!==t?t.push(l):t=[l])}}else if(a===q.current){if(null===(o=a.alternate))throw Error(r(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==t?t.push(Xd):t=[Xd])}a=a.return}null!==t&&_a(e,t,n,i),e.flags|=262144}function Sa(t){for(t=t.firstContext;null!==t;){if(!Kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Aa(t){va=t,ba=null,null!==(t=t.dependencies)&&(t.firstContext=null)}function Ma(t){return Ca(va,t)}function Ea(t,e){return null===va&&Aa(t),Ca(t,e)}function Ca(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},null===ba){if(null===t)throw Error(r(308));ba=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ba=ba.next=e;return n}var Ta="undefined"!==typeof AbortController?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(e,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(t){return t()})}},Pa=i.unstable_scheduleCallback,Da=i.unstable_NormalPriority,Ra={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function La(){return{controller:new Ta,data:new Map,refCount:0}}function Na(t){t.refCount--,0===t.refCount&&Pa(Da,function(){t.controller.abort()})}var Oa=null,Ia=0,Fa=0,ja=null;function za(){if(0===--Ia&&null!==Oa){null!==ja&&(ja.status="fulfilled");var t=Oa;Oa=null,Fa=0,ja=null;for(var e=0;e<t.length;e++)(0,t[e])()}}var Ba=N.S;N.S=function(t,e){"object"===typeof e&&null!==e&&"function"===typeof e.then&&function(t,e){if(null===Oa){var n=Oa=[];Ia=0,Fa=Th(),ja={status:"pending",value:void 0,then:function(t){n.push(t)}}}Ia++,e.then(za,za)}(0,e),null!==Ba&&Ba(t,e)};var Wa=z(null);function Ha(){var t=Wa.current;return null!==t?t:ic.pooledCache}function Va(t,e){W(Wa,null===e?Wa.current:e.pool)}function Ua(){var t=Ha();return null===t?null:{parent:Ra._currentValue,pool:t}}var qa=Error(r(460)),Ga=Error(r(474)),Ya=Error(r(542)),Xa={then:function(){}};function Ka(t){return"fulfilled"===(t=t.status)||"rejected"===t}function $a(){}function Qa(t,e,n){switch(void 0===(n=t[n])?t.push(e):n!==e&&(e.then($a,$a),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw ts(t=e.reason),t;default:if("string"===typeof e.status)e.then($a,$a);else{if(null!==(t=ic)&&100<t.shellSuspendCounter)throw Error(r(482));(t=e).status="pending",t.then(function(t){if("pending"===e.status){var n=e;n.status="fulfilled",n.value=t}},function(t){if("pending"===e.status){var n=e;n.status="rejected",n.reason=t}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw ts(t=e.reason),t}throw Ja=e,qa}}var Ja=null;function Za(){if(null===Ja)throw Error(r(459));var t=Ja;return Ja=null,t}function ts(t){if(t===qa||t===Ya)throw Error(r(483))}var es=!1;function ns(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function is(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function as(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ss(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nc)){var a=i.pending;return null===a?e.next=e:(e.next=a.next,a.next=e),i.pending=e,e=Li(t),Ri(t,null,n),e}return Ti(t,i,e,n),Li(t)}function rs(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194048&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Et(t,n)}}function os(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=r:s=s.next=r,n=n.next}while(null!==n);null===s?a=s=e:s=s.next=e}else a=s=e;return n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ls=!1;function cs(){if(ls){if(null!==ja)throw ja}}function hs(t,e,n,i){ls=!1;var a=t.updateQueue;es=!1;var s=a.firstBaseUpdate,r=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===r?s=c:r.next=c,r=l;var h=t.alternate;null!==h&&((o=(h=h.updateQueue).lastBaseUpdate)!==r&&(null===o?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(r=0,h=c=l=null,o=s;;){var p=-536870913&o.lane,f=p!==o.lane;if(f?(sc&p)===p:(i&p)===p){0!==p&&p===Fa&&(ls=!0),null!==h&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var m=t,g=o;p=e;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,p);break t}d=m;break t;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(v,d,p):m)||void 0===p)break t;d=u({},d,p);break t;case 2:es=!0}}null!==(p=o.callback)&&(t.flags|=64,f&&(t.flags|=8192),null===(f=a.callbacks)?a.callbacks=[p]:f.push(p))}else f={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,l=d):h=h.next=f,r|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===h&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=h,null===s&&(a.shared.lanes=0),pc|=r,t.lanes=r,t.memoizedState=d}}function ds(t,e){if("function"!==typeof t)throw Error(r(191,t));t.call(e)}function us(t,e){var n=t.callbacks;if(null!==n)for(t.callbacks=null,t=0;t<n.length;t++)ds(n[t],e)}var ps=z(null),fs=z(0);function ms(t,e){W(fs,t=dc),W(ps,e),dc=t|e.baseLanes}function gs(){W(fs,dc),W(ps,ps.current)}function vs(){dc=fs.current,B(ps),B(fs)}var bs=0,xs=null,ys=null,ws=null,_s=!1,ks=!1,Ss=!1,As=0,Ms=0,Es=null,Cs=0;function Ts(){throw Error(r(321))}function Ps(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function Ds(t,e,n,i,a,s){return bs=s,xs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N.H=null===t||null===t.memoizedState?qr:Gr,Ss=!1,s=n(i,a),Ss=!1,ks&&(s=Ls(e,n,i,a)),Rs(t),s}function Rs(t){N.H=Ur;var e=null!==ys&&null!==ys.next;if(bs=0,ws=ys=xs=null,_s=!1,Ms=0,Es=null,e)throw Error(r(300));null===t||Eo||null!==(t=t.dependencies)&&Sa(t)&&(Eo=!0)}function Ls(t,e,n,i){xs=t;var a=0;do{if(ks&&(Es=null),Ms=0,ks=!1,25<=a)throw Error(r(301));if(a+=1,ws=ys=null,null!=t.updateQueue){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}N.H=Yr,s=e(n,i)}while(ks);return s}function Ns(){var t=N.H,e=t.useState()[0];return e="function"===typeof e.then?Bs(e):e,t=t.useState()[0],(null!==ys?ys.memoizedState:null)!==t&&(xs.flags|=1024),e}function Os(){var t=0!==As;return As=0,t}function Is(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Fs(t){if(_s){for(t=t.memoizedState;null!==t;){var e=t.queue;null!==e&&(e.pending=null),t=t.next}_s=!1}bs=0,ws=ys=xs=null,ks=!1,Ms=As=0,Es=null}function js(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?xs.memoizedState=ws=t:ws=ws.next=t,ws}function zs(){if(null===ys){var t=xs.alternate;t=null!==t?t.memoizedState:null}else t=ys.next;var e=null===ws?xs.memoizedState:ws.next;if(null!==e)ws=e,ys=t;else{if(null===t){if(null===xs.alternate)throw Error(r(467));throw Error(r(310))}t={memoizedState:(ys=t).memoizedState,baseState:ys.baseState,baseQueue:ys.baseQueue,queue:ys.queue,next:null},null===ws?xs.memoizedState=ws=t:ws=ws.next=t}return ws}function Bs(t){var e=Ms;return Ms+=1,null===Es&&(Es=[]),t=Qa(Es,t,e),e=xs,null===(null===ws?e.memoizedState:ws.next)&&(e=e.alternate,N.H=null===e||null===e.memoizedState?qr:Gr),t}function Ws(t){if(null!==t&&"object"===typeof t){if("function"===typeof t.then)return Bs(t);if(t.$$typeof===w)return Ma(t)}throw Error(r(438,String(t)))}function Hs(t){var e=null,n=xs.updateQueue;if(null!==n&&(e=n.memoCache),null==e){var i=xs.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(e={data:i.data.map(function(t){return t.slice()}),index:0})))}if(null==e&&(e={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=n),n.memoCache=e,void 0===(n=e.data[e.index]))for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=C;return e.index++,n}function Vs(t,e){return"function"===typeof e?e(t):e}function Us(t){return qs(zs(),ys,t)}function qs(t,e,n){var i=t.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=t.baseQueue,s=i.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}e.baseQueue=a=s,i.pending=null}if(s=t.baseState,null===a)t.memoizedState=s;else{var l=o=null,c=null,h=e=a.next,d=!1;do{var u=-536870913&h.lane;if(u!==h.lane?(sc&u)===u:(bs&u)===u){var p=h.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),u===Fa&&(d=!0);else{if((bs&p)===p){h=h.next,p===Fa&&(d=!0);continue}u={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},null===c?(l=c=u,o=s):c=c.next=u,xs.lanes|=p,pc|=p}u=h.action,Ss&&n(s,u),s=h.hasEagerState?h.eagerState:n(s,u)}else p={lane:u,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},null===c?(l=c=p,o=s):c=c.next=p,xs.lanes|=u,pc|=u;h=h.next}while(null!==h&&h!==e);if(null===c?o=s:c.next=l,!Kn(s,t.memoizedState)&&(Eo=!0,d&&null!==(n=ja)))throw n;t.memoizedState=s,t.baseState=o,t.baseQueue=c,i.lastRenderedState=s}return null===a&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Gs(t){var e=zs(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=n.dispatch,a=n.pending,s=e.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=t(s,o.action),o=o.next}while(o!==a);Kn(s,e.memoizedState)||(Eo=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Ys(t,e,n){var i=xs,a=zs(),s=sa;if(s){if(void 0===n)throw Error(r(407));n=n()}else n=e();var o=!Kn((ys||a).memoizedState,n);if(o&&(a.memoizedState=n,Eo=!0),a=a.queue,gr(2048,8,$s.bind(null,i,a,t),[t]),a.getSnapshot!==e||o||null!==ws&&1&ws.memoizedState.tag){if(i.flags|=2048,pr(9,{destroy:void 0,resource:void 0},Ks.bind(null,i,a,n,e),null),null===ic)throw Error(r(349));s||0!==(124&bs)||Xs(i,e,n)}return n}function Xs(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=xs.updateQueue)?(e={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ks(t,e,n,i){e.value=n,e.getSnapshot=i,Qs(e)&&Js(t)}function $s(t,e,n){return n(function(){Qs(e)&&Js(t)})}function Qs(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch(i){return!0}}function Js(t){var e=Di(t,2);null!==e&&Ic(e,t,2)}function Zs(t){var e=js();if("function"===typeof t){var n=t;if(t=n(),Ss){ut(!0);try{n()}finally{ut(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:t},e}function tr(t,e,n,i){return t.baseState=n,qs(t,ys,"function"===typeof i?i:Vs)}function er(t,e,n,i,a){if(Wr(t))throw Error(r(485));if(null!==(t=e.action)){var s={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(t){s.listeners.push(t)}};null!==N.T?n(!0):s.isTransition=!1,i(s),null===(n=e.pending)?(s.next=e.pending=s,nr(e,s)):(s.next=n.next,e.pending=n.next=s)}}function nr(t,e){var n=e.action,i=e.payload,a=t.state;if(e.isTransition){var s=N.T,r={};N.T=r;try{var o=n(a,i),l=N.S;null!==l&&l(r,o),ir(t,e,o)}catch(c){sr(t,e,c)}finally{N.T=s}}else try{ir(t,e,s=n(a,i))}catch(h){sr(t,e,h)}}function ir(t,e,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ar(t,e,n)},function(n){return sr(t,e,n)}):ar(t,e,n)}function ar(t,e,n){e.status="fulfilled",e.value=n,rr(e),t.state=n,null!==(e=t.pending)&&((n=e.next)===e?t.pending=null:(n=n.next,e.next=n,nr(t,n)))}function sr(t,e,n){var i=t.pending;if(t.pending=null,null!==i){i=i.next;do{e.status="rejected",e.reason=n,rr(e),e=e.next}while(e!==i)}t.action=null}function rr(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function or(t,e){return e}function lr(t,e){if(sa){var n=ic.formState;if(null!==n){t:{var i=xs;if(sa){if(aa){e:{for(var a=aa,s=oa;8!==a.nodeType;){if(!s){a=null;break e}if(null===(a=vd(a.nextSibling))){a=null;break e}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){aa=vd(a.nextSibling),i="F!"===a.data;break t}}ca(i)}i=!1}i&&(e=n[0])}}return(n=js()).memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:e},n.queue=i,n=jr.bind(null,xs,i),i.dispatch=n,i=Zs(!1),s=Br.bind(null,xs,!1,i.queue),a={state:e,dispatch:null,action:t,pending:null},(i=js()).queue=a,n=er.bind(null,xs,a,s,n),a.dispatch=n,i.memoizedState=t,[e,n,!1]}function cr(t){return hr(zs(),ys,t)}function hr(t,e,n){if(e=qs(t,e,or)[0],t=Us(Vs)[0],"object"===typeof e&&null!==e&&"function"===typeof e.then)try{var i=Bs(e)}catch(r){if(r===qa)throw Ya;throw r}else i=e;var a=(e=zs()).queue,s=a.dispatch;return n!==e.memoizedState&&(xs.flags|=2048,pr(9,{destroy:void 0,resource:void 0},dr.bind(null,a,n),null)),[i,s,t]}function dr(t,e){t.action=e}function ur(t){var e=zs(),n=ys;if(null!==n)return hr(e,n,t);zs(),e=e.memoizedState;var i=(n=zs()).queue.dispatch;return n.memoizedState=t,[e,i,!1]}function pr(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},null===(e=xs.updateQueue)&&(e={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=e),null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function fr(){return zs().memoizedState}function mr(t,e,n,i){var a=js();i=void 0===i?null:i,xs.flags|=t,a.memoizedState=pr(1|e,{destroy:void 0,resource:void 0},n,i)}function gr(t,e,n,i){var a=zs();i=void 0===i?null:i;var s=a.memoizedState.inst;null!==ys&&null!==i&&Ps(i,ys.memoizedState.deps)?a.memoizedState=pr(e,s,n,i):(xs.flags|=t,a.memoizedState=pr(1|e,s,n,i))}function vr(t,e){mr(8390656,8,t,e)}function br(t,e){gr(2048,8,t,e)}function xr(t,e){return gr(4,2,t,e)}function yr(t,e){return gr(4,4,t,e)}function wr(t,e){if("function"===typeof e){t=t();var n=e(t);return function(){"function"===typeof n?n():e(null)}}if(null!==e&&void 0!==e)return t=t(),e.current=t,function(){e.current=null}}function _r(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,gr(4,4,wr.bind(null,e,t),n)}function kr(){}function Sr(t,e){var n=zs();e=void 0===e?null:e;var i=n.memoizedState;return null!==e&&Ps(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ar(t,e){var n=zs();e=void 0===e?null:e;var i=n.memoizedState;if(null!==e&&Ps(e,i[1]))return i[0];if(i=t(),Ss){ut(!0);try{t()}finally{ut(!1)}}return n.memoizedState=[i,e],i}function Mr(t,e,n){return void 0===n||0!==(1073741824&bs)?t.memoizedState=e:(t.memoizedState=n,t=Oc(),xs.lanes|=t,pc|=t,n)}function Er(t,e,n,i){return Kn(n,e)?n:null!==ps.current?(t=Mr(t,n,i),Kn(t,e)||(Eo=!0),t):0===(42&bs)?(Eo=!0,t.memoizedState=n):(t=Oc(),xs.lanes|=t,pc|=t,e)}function Cr(t,e,n,i,a){var s=O.p;O.p=0!==s&&8>s?s:8;var r=N.T,o={};N.T=o,Br(t,!1,e,n);try{var l=a(),c=N.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zr(t,e,function(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(t){n.push(t)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var t=0;t<n.length;t++)(0,n[t])(e)},function(t){for(i.status="rejected",i.reason=t,t=0;t<n.length;t++)(0,n[t])(void 0)}),i}(l,i),Nc());else zr(t,e,i,Nc())}catch(h){zr(t,e,{then:function(){},status:"rejected",reason:h},Nc())}finally{O.p=s,N.T=r}}function Tr(){}function Pr(t,e,n,i){if(5!==t.tag)throw Error(r(476));var a=Dr(t).queue;Cr(t,a,e,I,null===n?Tr:function(){return Rr(t),n(i)})}function Dr(t){var e=t.memoizedState;if(null!==e)return e;var n={};return(e={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:n},next:null},t.memoizedState=e,null!==(t=t.alternate)&&(t.memoizedState=e),e}function Rr(t){zr(t,Dr(t).next.queue,{},Nc())}function Lr(){return Ma(Xd)}function Nr(){return zs().memoizedState}function Or(){return zs().memoizedState}function Ir(t){for(var e=t.return;null!==e;){switch(e.tag){case 24:case 3:var n=Nc(),i=ss(e,t=as(n),n);return null!==i&&(Ic(i,e,n),rs(i,e,n)),e={cache:La()},void(t.payload=e)}e=e.return}}function Fr(t,e,n){var i=Nc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Wr(t)?Hr(e,n):null!==(n=Pi(t,e,n,i))&&(Ic(n,t,i),Vr(n,e,i))}function jr(t,e,n){zr(t,e,n,Nc())}function zr(t,e,n,i){var a={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wr(t))Hr(e,a);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var r=e.lastRenderedState,o=s(r,n);if(a.hasEagerState=!0,a.eagerState=o,Kn(o,r))return Ti(t,e,a,0),null===ic&&Ci(),!1}catch(l){}if(null!==(n=Pi(t,e,a,i)))return Ic(n,t,i),Vr(n,e,i),!0}return!1}function Br(t,e,n,i){if(i={lane:2,revertLane:Th(),action:i,hasEagerState:!1,eagerState:null,next:null},Wr(t)){if(e)throw Error(r(479))}else null!==(e=Pi(t,n,i,2))&&Ic(e,t,2)}function Wr(t){var e=t.alternate;return t===xs||null!==e&&e===xs}function Hr(t,e){ks=_s=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vr(t,e,n){if(0!==(4194048&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Et(t,n)}}var Ur={readContext:Ma,use:Ws,useCallback:Ts,useContext:Ts,useEffect:Ts,useImperativeHandle:Ts,useLayoutEffect:Ts,useInsertionEffect:Ts,useMemo:Ts,useReducer:Ts,useRef:Ts,useState:Ts,useDebugValue:Ts,useDeferredValue:Ts,useTransition:Ts,useSyncExternalStore:Ts,useId:Ts,useHostTransitionStatus:Ts,useFormState:Ts,useActionState:Ts,useOptimistic:Ts,useMemoCache:Ts,useCacheRefresh:Ts},qr={readContext:Ma,use:Ws,useCallback:function(t,e){return js().memoizedState=[t,void 0===e?null:e],t},useContext:Ma,useEffect:vr,useImperativeHandle:function(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,mr(4194308,4,wr.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mr(4194308,4,t,e)},useInsertionEffect:function(t,e){mr(4,2,t,e)},useMemo:function(t,e){var n=js();e=void 0===e?null:e;var i=t();if(Ss){ut(!0);try{t()}finally{ut(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=js();if(void 0!==n){var a=n(e);if(Ss){ut(!0);try{n(e)}finally{ut(!1)}}}else a=e;return i.memoizedState=i.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},i.queue=t,t=t.dispatch=Fr.bind(null,xs,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},js().memoizedState=t},useState:function(t){var e=(t=Zs(t)).queue,n=jr.bind(null,xs,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:kr,useDeferredValue:function(t,e){return Mr(js(),t,e)},useTransition:function(){var t=Zs(!1);return t=Cr.bind(null,xs,t.queue,!0,!1),js().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=xs,a=js();if(sa){if(void 0===n)throw Error(r(407));n=n()}else{if(n=e(),null===ic)throw Error(r(349));0!==(124&sc)||Xs(i,e,n)}a.memoizedState=n;var s={value:n,getSnapshot:e};return a.queue=s,vr($s.bind(null,i,s,t),[t]),i.flags|=2048,pr(9,{destroy:void 0,resource:void 0},Ks.bind(null,i,s,n,e),null),n},useId:function(){var t=js(),e=ic.identifierPrefix;if(sa){var n=Ji;e="\xab"+e+"R"+(n=(Qi&~(1<<32-pt(Qi)-1)).toString(32)+n),0<(n=As++)&&(e+="H"+n.toString(32)),e+="\xbb"}else e="\xab"+e+"r"+(n=Cs++).toString(32)+"\xbb";return t.memoizedState=e},useHostTransitionStatus:Lr,useFormState:lr,useActionState:lr,useOptimistic:function(t){var e=js();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Br.bind(null,xs,!0,n),n.dispatch=e,[t,e]},useMemoCache:Hs,useCacheRefresh:function(){return js().memoizedState=Ir.bind(null,xs)}},Gr={readContext:Ma,use:Ws,useCallback:Sr,useContext:Ma,useEffect:br,useImperativeHandle:_r,useInsertionEffect:xr,useLayoutEffect:yr,useMemo:Ar,useReducer:Us,useRef:fr,useState:function(){return Us(Vs)},useDebugValue:kr,useDeferredValue:function(t,e){return Er(zs(),ys.memoizedState,t,e)},useTransition:function(){var t=Us(Vs)[0],e=zs().memoizedState;return["boolean"===typeof t?t:Bs(t),e]},useSyncExternalStore:Ys,useId:Nr,useHostTransitionStatus:Lr,useFormState:cr,useActionState:cr,useOptimistic:function(t,e){return tr(zs(),0,t,e)},useMemoCache:Hs,useCacheRefresh:Or},Yr={readContext:Ma,use:Ws,useCallback:Sr,useContext:Ma,useEffect:br,useImperativeHandle:_r,useInsertionEffect:xr,useLayoutEffect:yr,useMemo:Ar,useReducer:Gs,useRef:fr,useState:function(){return Gs(Vs)},useDebugValue:kr,useDeferredValue:function(t,e){var n=zs();return null===ys?Mr(n,t,e):Er(n,ys.memoizedState,t,e)},useTransition:function(){var t=Gs(Vs)[0],e=zs().memoizedState;return["boolean"===typeof t?t:Bs(t),e]},useSyncExternalStore:Ys,useId:Nr,useHostTransitionStatus:Lr,useFormState:ur,useActionState:ur,useOptimistic:function(t,e){var n=zs();return null!==ys?tr(n,0,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Hs,useCacheRefresh:Or},Xr=null,Kr=0;function $r(t){var e=Kr;return Kr+=1,null===Xr&&(Xr=[]),Qa(Xr,t,e)}function Qr(t,e){e=e.props.ref,t.ref=void 0!==e?e:null}function Jr(t,e){if(e.$$typeof===p)throw Error(r(525));throw t=Object.prototype.toString.call(e),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zr(t){return(0,t._init)(t._payload)}function to(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t){for(var e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(t,e){return(t=ji(t,e)).index=0,t.sibling=null,t}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=67108866,n):i:(e.flags|=67108866,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=67108866),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Hi(n,t.mode,i)).return=t,e):((e=a(e,n)).return=t,e)}function c(t,e,n,i){var s=n.type;return s===g?d(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&Zr(s)===e.type)?(Qr(e=a(e,n.props),n),e.return=t,e):(Qr(e=Bi(n.type,n.key,n.props,null,t.mode,i),n),e.return=t,e)}function h(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Vi(n,t.mode,i)).return=t,e):((e=a(e,n.children||[])).return=t,e)}function d(t,e,n,i,s){return null===e||7!==e.tag?((e=Wi(n,t.mode,i,s)).return=t,e):((e=a(e,n)).return=t,e)}function u(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e||"bigint"===typeof e)return(e=Hi(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case f:return Qr(n=Bi(e.type,e.key,e.props,null,t.mode,n),e),n.return=t,n;case m:return(e=Vi(e,t.mode,n)).return=t,e;case M:return u(t,e=(0,e._init)(e._payload),n)}if(L(e)||P(e))return(e=Wi(e,t.mode,n,null)).return=t,e;if("function"===typeof e.then)return u(t,$r(e),n);if(e.$$typeof===w)return u(t,Ea(t,e),n);Jr(t,e)}return null}function p(t,e,n,i){var a=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===a?c(t,e,n,i):null;case m:return n.key===a?h(t,e,n,i):null;case M:return p(t,e,n=(a=n._init)(n._payload),i)}if(L(n)||P(n))return null!==a?null:d(t,e,n,i,null);if("function"===typeof n.then)return p(t,e,$r(n),i);if(n.$$typeof===w)return p(t,e,Ea(t,n),i);Jr(t,n)}return null}function v(t,e,n,i,a){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(e,t=t.get(n)||null,""+i,a);if("object"===typeof i&&null!==i){switch(i.$$typeof){case f:return c(e,t=t.get(null===i.key?n:i.key)||null,i,a);case m:return h(e,t=t.get(null===i.key?n:i.key)||null,i,a);case M:return v(t,e,n,i=(0,i._init)(i._payload),a)}if(L(i)||P(i))return d(e,t=t.get(n)||null,i,a,null);if("function"===typeof i.then)return v(t,e,n,$r(i),a);if(i.$$typeof===w)return v(t,e,n,Ea(e,i),a);Jr(e,i)}return null}function b(l,c,h,d){if("object"===typeof h&&null!==h&&h.type===g&&null===h.key&&(h=h.props.children),"object"===typeof h&&null!==h){switch(h.$$typeof){case f:t:{for(var x=h.key;null!==c;){if(c.key===x){if((x=h.type)===g){if(7===c.tag){n(l,c.sibling),(d=a(c,h.props.children)).return=l,l=d;break t}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===M&&Zr(x)===c.type){n(l,c.sibling),Qr(d=a(c,h.props),h),d.return=l,l=d;break t}n(l,c);break}e(l,c),c=c.sibling}h.type===g?((d=Wi(h.props.children,l.mode,d,h.key)).return=l,l=d):(Qr(d=Bi(h.type,h.key,h.props,null,l.mode,d),h),d.return=l,l=d)}return o(l);case m:t:{for(x=h.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===h.containerInfo&&c.stateNode.implementation===h.implementation){n(l,c.sibling),(d=a(c,h.children||[])).return=l,l=d;break t}n(l,c);break}e(l,c),c=c.sibling}(d=Vi(h,l.mode,d)).return=l,l=d}return o(l);case M:return b(l,c,h=(x=h._init)(h._payload),d)}if(L(h))return function(a,r,o,l){for(var c=null,h=null,d=r,f=r=0,m=null;null!==d&&f<o.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=p(a,d,o[f],l);if(null===g){null===d&&(d=m);break}t&&d&&null===g.alternate&&e(a,d),r=s(g,r,f),null===h?c=g:h.sibling=g,h=g,d=m}if(f===o.length)return n(a,d),sa&&Zi(a,f),c;if(null===d){for(;f<o.length;f++)null!==(d=u(a,o[f],l))&&(r=s(d,r,f),null===h?c=d:h.sibling=d,h=d);return sa&&Zi(a,f),c}for(d=i(d);f<o.length;f++)null!==(m=v(d,a,f,o[f],l))&&(t&&null!==m.alternate&&d.delete(null===m.key?f:m.key),r=s(m,r,f),null===h?c=m:h.sibling=m,h=m);return t&&d.forEach(function(t){return e(a,t)}),sa&&Zi(a,f),c}(l,c,h,d);if(P(h)){if("function"!==typeof(x=P(h)))throw Error(r(150));return function(a,o,l,c){if(null==l)throw Error(r(151));for(var h=null,d=null,f=o,m=o=0,g=null,b=l.next();null!==f&&!b.done;m++,b=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var x=p(a,f,b.value,c);if(null===x){null===f&&(f=g);break}t&&f&&null===x.alternate&&e(a,f),o=s(x,o,m),null===d?h=x:d.sibling=x,d=x,f=g}if(b.done)return n(a,f),sa&&Zi(a,m),h;if(null===f){for(;!b.done;m++,b=l.next())null!==(b=u(a,b.value,c))&&(o=s(b,o,m),null===d?h=b:d.sibling=b,d=b);return sa&&Zi(a,m),h}for(f=i(f);!b.done;m++,b=l.next())null!==(b=v(f,a,m,b.value,c))&&(t&&null!==b.alternate&&f.delete(null===b.key?m:b.key),o=s(b,o,m),null===d?h=b:d.sibling=b,d=b);return t&&f.forEach(function(t){return e(a,t)}),sa&&Zi(a,m),h}(l,c,h=x.call(h),d)}if("function"===typeof h.then)return b(l,c,$r(h),d);if(h.$$typeof===w)return b(l,c,Ea(l,h),d);Jr(l,h)}return"string"===typeof h&&""!==h||"number"===typeof h||"bigint"===typeof h?(h=""+h,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,h)).return=l,l=d):(n(l,c),(d=Hi(h,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(t,e,n,i){try{Kr=0;var a=b(t,e,n,i);return Xr=null,a}catch(r){if(r===qa||r===Ya)throw r;var s=Ii(29,r,null,t.mode);return s.lanes=i,s.return=t,s}}}var eo=to(!0),no=to(!1),io=z(null),ao=null;function so(t){var e=t.alternate;W(co,1&co.current),W(io,t),null===ao&&(null===e||null!==ps.current||null!==e.memoizedState)&&(ao=t)}function ro(t){if(22===t.tag){if(W(co,co.current),W(io,t),null===ao){var e=t.alternate;null!==e&&null!==e.memoizedState&&(ao=t)}}else oo()}function oo(){W(co,co.current),W(io,io.current)}function lo(t){B(io),ao===t&&(ao=null),B(co)}var co=z(0);function ho(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function uo(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:u({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var po={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Nc(),a=as(i);a.payload=e,void 0!==n&&null!==n&&(a.callback=n),null!==(e=ss(t,a,i))&&(Ic(e,t,i),rs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Nc(),a=as(i);a.tag=1,a.payload=e,void 0!==n&&null!==n&&(a.callback=n),null!==(e=ss(t,a,i))&&(Ic(e,t,i),rs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nc(),i=as(n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=ss(t,i,n))&&(Ic(e,t,n),rs(e,t,n))}};function fo(t,e,n,i,a,s,r){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,s,r):!e.prototype||!e.prototype.isPureReactComponent||(!$n(n,i)||!$n(a,s))}function mo(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&po.enqueueReplaceState(e,e.state,null)}function go(t,e){var n=e;if("ref"in e)for(var i in n={},e)"ref"!==i&&(n[i]=e[i]);if(t=t.defaultProps)for(var a in n===e&&(n=u({},n)),t)void 0===n[a]&&(n[a]=t[a]);return n}var vo="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function bo(t){vo(t)}function xo(t){console.error(t)}function yo(t){vo(t)}function wo(t,e){try{(0,t.onUncaughtError)(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function _o(t,e,n){try{(0,t.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===e.tag?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function ko(t,e,n){return(n=as(n)).tag=3,n.payload={element:null},n.callback=function(){wo(t,e)},n}function So(t){return(t=as(t)).tag=3,t}function Ao(t,e,n,i){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var s=i.value;t.payload=function(){return a(s)},t.callback=function(){_o(e,n,i)}}var r=n.stateNode;null!==r&&"function"===typeof r.componentDidCatch&&(t.callback=function(){_o(e,n,i),"function"!==typeof a&&(null===Sc?Sc=new Set([this]):Sc.add(this));var t=i.stack;this.componentDidCatch(i.value,{componentStack:null!==t?t:""})})}var Mo=Error(r(461)),Eo=!1;function Co(t,e,n,i){e.child=null===t?no(e,null,n,i):eo(e,t.child,n,i)}function To(t,e,n,i,a){n=n.render;var s=e.ref;if("ref"in i){var r={};for(var o in i)"ref"!==o&&(r[o]=i[o])}else r=i;return Aa(e),i=Ds(t,e,n,r,s,a),o=Os(),null===t||Eo?(sa&&o&&ea(e),e.flags|=1,Co(t,e,i,a),e.child):(Is(t,e,a),Ko(t,e,a))}function Po(t,e,n,i,a){if(null===t){var s=n.type;return"function"!==typeof s||Fi(s)||void 0!==s.defaultProps||null!==n.compare?((t=Bi(n.type,null,i,e,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Do(t,e,s,i,a))}if(s=t.child,!$o(t,a)){var r=s.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(r,i)&&t.ref===e.ref)return Ko(t,e,a)}return e.flags|=1,(t=ji(s,i)).ref=e.ref,t.return=e,e.child=t}function Do(t,e,n,i,a){if(null!==t){var s=t.memoizedProps;if($n(s,i)&&t.ref===e.ref){if(Eo=!1,e.pendingProps=i=s,!$o(t,a))return e.lanes=t.lanes,Ko(t,e,a);0!==(131072&t.flags)&&(Eo=!0)}}return Oo(t,e,n,i,a)}function Ro(t,e,n){var i=e.pendingProps,a=i.children,s=null!==t?t.memoizedState:null;if("hidden"===i.mode){if(0!==(128&e.flags)){if(i=null!==s?s.baseLanes|n:n,null!==t){for(a=e.child=t.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;e.childLanes=s&~i}else e.childLanes=0,e.child=null;return Lo(t,e,i,n)}if(0===(536870912&n))return e.lanes=e.childLanes=536870912,Lo(t,e,null!==s?s.baseLanes|n:n,n);e.memoizedState={baseLanes:0,cachePool:null},null!==t&&Va(0,null!==s?s.cachePool:null),null!==s?ms(e,s):gs(),ro(e)}else null!==s?(Va(0,s.cachePool),ms(e,s),oo(),e.memoizedState=null):(null!==t&&Va(0,null),gs(),oo());return Co(t,e,a,n),e.child}function Lo(t,e,n,i){var a=Ha();return a=null===a?null:{parent:Ra._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},null!==t&&Va(0,null),gs(),ro(e),null!==t&&ka(t,e,i,!0),null}function No(t,e){var n=e.ref;if(null===n)null!==t&&null!==t.ref&&(e.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(r(284));null!==t&&t.ref===n||(e.flags|=4194816)}}function Oo(t,e,n,i,a){return Aa(e),n=Ds(t,e,n,i,void 0,a),i=Os(),null===t||Eo?(sa&&i&&ea(e),e.flags|=1,Co(t,e,n,a),e.child):(Is(t,e,a),Ko(t,e,a))}function Io(t,e,n,i,a,s){return Aa(e),e.updateQueue=null,n=Ls(e,i,n,a),Rs(t),i=Os(),null===t||Eo?(sa&&i&&ea(e),e.flags|=1,Co(t,e,n,s),e.child):(Is(t,e,s),Ko(t,e,s))}function Fo(t,e,n,i,a){if(Aa(e),null===e.stateNode){var s=Ni,r=n.contextType;"object"===typeof r&&null!==r&&(s=Ma(r)),s=new n(i,s),e.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=po,e.stateNode=s,s._reactInternals=e,(s=e.stateNode).props=i,s.state=e.memoizedState,s.refs={},ns(e),r=n.contextType,s.context="object"===typeof r&&null!==r?Ma(r):Ni,s.state=e.memoizedState,"function"===typeof(r=n.getDerivedStateFromProps)&&(uo(e,n,r,i),s.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(r=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),r!==s.state&&po.enqueueReplaceState(s,s.state,null),hs(e,i,s,a),cs(),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308),i=!0}else if(null===t){s=e.stateNode;var o=e.memoizedProps,l=go(n,o);s.props=l;var c=s.context,h=n.contextType;r=Ni,"object"===typeof h&&null!==h&&(r=Ma(h));var d=n.getDerivedStateFromProps;h="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=e.pendingProps!==o,h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==r)&&mo(e,s,i,r),es=!1;var u=e.memoizedState;s.state=u,hs(e,i,s,a),cs(),c=e.memoizedState,o||u!==c||es?("function"===typeof d&&(uo(e,n,d,i),c=e.memoizedState),(l=es||fo(e,n,l,i,u,c,r))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=r,i=l):("function"===typeof s.componentDidMount&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,is(t,e),h=go(n,r=e.memoizedProps),s.props=h,d=e.pendingProps,u=s.context,c=n.contextType,l=Ni,"object"===typeof c&&null!==c&&(l=Ma(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(r!==d||u!==l)&&mo(e,s,i,l),es=!1,u=e.memoizedState,s.state=u,hs(e,i,s,a),cs();var p=e.memoizedState;r!==d||u!==p||es||null!==t&&null!==t.dependencies&&Sa(t.dependencies)?("function"===typeof o&&(uo(e,n,o,i),p=e.memoizedState),(h=es||fo(e,n,h,i,u,p,l)||null!==t&&null!==t.dependencies&&Sa(t.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=l,i=h):("function"!==typeof s.componentDidUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||r===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,No(t,e),i=0!==(128&e.flags),s||i?(s=e.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),e.flags|=1,null!==t&&i?(e.child=eo(e,t.child,null,a),e.child=eo(e,null,n,a)):Co(t,e,n,a),e.memoizedState=s.state,t=e.child):t=Ko(t,e,a),t}function jo(t,e,n,i){return pa(),e.flags|=256,Co(t,e,n,i),e.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(t){return{baseLanes:t,cachePool:Ua()}}function Wo(t,e,n){return t=null!==t?t.childLanes&~n:0,e&&(t|=gc),t}function Ho(t,e,n){var i,a=e.pendingProps,s=!1,o=0!==(128&e.flags);if((i=o)||(i=(null===t||null!==t.memoizedState)&&0!==(2&co.current)),i&&(s=!0,e.flags&=-129),i=0!==(32&e.flags),e.flags&=-33,null===t){if(sa){if(s?so(e):oo(),sa){var l,c=aa;if(l=c){t:{for(l=c,c=oa;8!==l.nodeType;){if(!c){c=null;break t}if(null===(l=vd(l.nextSibling))){c=null;break t}}c=l}null!==c?(e.memoizedState={dehydrated:c,treeContext:null!==$i?{id:Qi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},(l=Ii(18,null,null,0)).stateNode=c,l.return=e,e.child=l,ia=e,aa=null,l=!0):l=!1}l||ca(e)}if(null!==(c=e.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?e.lanes=32:e.lanes=536870912,null;lo(e)}return c=a.children,a=a.fallback,s?(oo(),c=Uo({mode:"hidden",children:c},s=e.mode),a=Wi(a,s,n,null),c.return=e,a.return=e,c.sibling=a,e.child=c,(s=e.child).memoizedState=Bo(n),s.childLanes=Wo(t,i,n),e.memoizedState=zo,a):(so(e),Vo(e,c))}if(null!==(l=t.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&e.flags?(so(e),e.flags&=-257,e=qo(t,e,n)):null!==e.memoizedState?(oo(),e.child=t.child,e.flags|=128,e=null):(oo(),s=a.fallback,c=e.mode,a=Uo({mode:"visible",children:a.children},c),(s=Wi(s,c,n,null)).flags|=2,a.return=e,s.return=e,a.sibling=s,e.child=a,eo(e,t.child,null,n),(a=e.child).memoizedState=Bo(n),a.childLanes=Wo(t,i,n),e.memoizedState=zo,e=s);else if(so(e),gd(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var h=i.dgst;i=h,(a=Error(r(419))).stack="",a.digest=i,ma({value:a,source:null,stack:null}),e=qo(t,e,n)}else if(Eo||ka(t,e,n,!1),i=0!==(n&t.childLanes),Eo||i){if(null!==(i=ic)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Ct(a))&(i.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Di(t,a),Ic(i,t,a),Mo;"$?"===c.data||Yc(),e=qo(t,e,n)}else"$?"===c.data?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,aa=vd(c.nextSibling),ia=e,sa=!0,ra=null,oa=!1,null!==t&&(Xi[Ki++]=Qi,Xi[Ki++]=Ji,Xi[Ki++]=$i,Qi=t.id,Ji=t.overflow,$i=e),(e=Vo(e,a.children)).flags|=4096);return e}return s?(oo(),s=a.fallback,c=e.mode,h=(l=t.child).sibling,(a=ji(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==h?s=ji(h,s):(s=Wi(s,c,n,null)).flags|=2,s.return=e,a.return=e,a.sibling=s,e.child=a,a=s,s=e.child,null===(c=t.child.memoizedState)?c=Bo(n):(null!==(l=c.cachePool)?(h=Ra._currentValue,l=l.parent!==h?{parent:h,pool:h}:l):l=Ua(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Wo(t,i,n),e.memoizedState=zo,a):(so(e),t=(n=t.child).sibling,(n=ji(n,{mode:"visible",children:a.children})).return=e,n.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n)}function Vo(t,e){return(e=Uo({mode:"visible",children:e},t.mode)).return=t,t.child=e}function Uo(t,e){return(t=Ii(22,t,null,e)).lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function qo(t,e,n){return eo(e,t.child,null,n),(t=Vo(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Go(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),wa(t.return,e,n)}function Yo(t,e,n,i,a){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=a)}function Xo(t,e,n){var i=e.pendingProps,a=i.revealOrder,s=i.tail;if(Co(t,e,i.children,n),0!==(2&(i=co.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Go(t,n,e);else if(19===t.tag)Go(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(W(co,i),a){case"forwards":for(n=e.child,a=null;null!==n;)null!==(t=n.alternate)&&null===ho(t)&&(a=n),n=n.sibling;null===(n=a)?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),Yo(e,!1,a,n,s);break;case"backwards":for(n=null,a=e.child,e.child=null;null!==a;){if(null!==(t=a.alternate)&&null===ho(t)){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Yo(e,!0,n,null,s);break;case"together":Yo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ko(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),pc|=e.lanes,0===(n&e.childLanes)){if(null===t)return null;if(ka(t,e,n,!1),0===(n&e.childLanes))return null}if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(n=ji(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=ji(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $o(t,e){return 0!==(t.lanes&e)||!(null===(t=t.dependencies)||!Sa(t))}function Qo(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps)Eo=!0;else{if(!$o(t,n)&&0===(128&e.flags))return Eo=!1,function(t,e,n){switch(e.tag){case 3:G(e,e.stateNode.containerInfo),xa(0,Ra,t.memoizedState.cache),pa();break;case 27:case 5:X(e);break;case 4:G(e,e.stateNode.containerInfo);break;case 10:xa(0,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(null!==i)return null!==i.dehydrated?(so(e),e.flags|=128,null):0!==(n&e.child.childLanes)?Ho(t,e,n):(so(e),null!==(t=Ko(t,e,n))?t.sibling:null);so(e);break;case 19:var a=0!==(128&t.flags);if((i=0!==(n&e.childLanes))||(ka(t,e,n,!1),i=0!==(n&e.childLanes)),a){if(i)return Xo(t,e,n);e.flags|=128}if(null!==(a=e.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),W(co,co.current),i)break;return null;case 22:case 23:return e.lanes=0,Ro(t,e,n);case 24:xa(0,Ra,t.memoizedState.cache)}return Ko(t,e,n)}(t,e,n);Eo=0!==(131072&t.flags)}else Eo=!1,sa&&0!==(1048576&e.flags)&&ta(e,Yi,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var i=e.elementType,a=i._init;if(i=a(i._payload),e.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((a=i.$$typeof)===_){e.tag=11,e=To(null,e,i,t,n);break t}if(a===A){e.tag=14,e=Po(null,e,i,t,n);break t}}throw e=R(i)||i,Error(r(306,e,""))}Fi(i)?(t=go(i,t),e.tag=1,e=Fo(null,e,i,t,n)):(e.tag=0,e=Oo(null,e,i,t,n))}return e;case 0:return Oo(t,e,e.type,e.pendingProps,n);case 1:return Fo(t,e,i=e.type,a=go(i,e.pendingProps),n);case 3:t:{if(G(e,e.stateNode.containerInfo),null===t)throw Error(r(387));i=e.pendingProps;var s=e.memoizedState;a=s.element,is(t,e),hs(e,i,null,n);var o=e.memoizedState;if(i=o.cache,xa(0,Ra,i),i!==s.cache&&_a(e,[Ra],n,!0),cs(),i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=jo(t,e,i,n);break t}if(i!==a){ma(a=Si(Error(r(424)),e)),e=jo(t,e,i,n);break t}if(9===(t=e.stateNode.containerInfo).nodeType)t=t.body;else t="HTML"===t.nodeName?t.ownerDocument.body:t;for(aa=vd(t.firstChild),ia=e,sa=!0,ra=null,oa=!0,n=no(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),i===a){e=Ko(t,e,n);break t}Co(t,e,i,n)}e=e.child}return e;case 26:return No(t,e),null===t?(n=Cd(e.type,null,e.pendingProps,null))?e.memoizedState=n:sa||(n=e.type,t=e.pendingProps,(i=id(U.current).createElement(n))[Rt]=e,i[Lt]=t,td(i,n,t),qt(i),e.stateNode=i):e.memoizedState=Cd(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return X(e),null===t&&sa&&(i=e.stateNode=yd(e.type,e.pendingProps,U.current),ia=e,oa=!0,a=aa,pd(e.type)?(bd=a,aa=vd(i.firstChild)):aa=a),Co(t,e,e.pendingProps.children,n),No(t,e),null===t&&(e.flags|=4194304),e.child;case 5:return null===t&&sa&&((a=i=aa)&&(null!==(i=function(t,e,n,i){for(;1===t.nodeType;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&("INPUT"!==t.nodeName||"hidden"!==t.type))break}else if(i){if(!t[zt])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if("stylesheet"===(s=t.getAttribute("rel"))&&t.hasAttribute("data-precedence"))break;if(s!==a.rel||t.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||t.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||t.getAttribute("title")!==(null==a.title?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(((s=t.getAttribute("src"))!==(null==a.src?null:a.src)||t.getAttribute("type")!==(null==a.type?null:a.type)||t.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else{if("input"!==e||"hidden"!==t.type)return t;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&t.getAttribute("name")===s)return t}if(null===(t=vd(t.nextSibling)))break}return null}(i,e.type,e.pendingProps,oa))?(e.stateNode=i,ia=e,aa=vd(i.firstChild),oa=!1,a=!0):a=!1),a||ca(e)),X(e),a=e.type,s=e.pendingProps,o=null!==t?t.memoizedProps:null,i=s.children,rd(a,s)?i=null:null!==o&&rd(a,o)&&(e.flags|=32),null!==e.memoizedState&&(a=Ds(t,e,Ns,null,null,n),Xd._currentValue=a),No(t,e),Co(t,e,i,n),e.child;case 6:return null===t&&sa&&((t=n=aa)&&(null!==(n=function(t,e,n){if(""===e)return null;for(;3!==t.nodeType;){if((1!==t.nodeType||"INPUT"!==t.nodeName||"hidden"!==t.type)&&!n)return null;if(null===(t=vd(t.nextSibling)))return null}return t}(n,e.pendingProps,oa))?(e.stateNode=n,ia=e,aa=null,t=!0):t=!1),t||ca(e)),null;case 13:return Ho(t,e,n);case 4:return G(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=eo(e,null,i,n):Co(t,e,i,n),e.child;case 11:return To(t,e,e.type,e.pendingProps,n);case 7:return Co(t,e,e.pendingProps,n),e.child;case 8:case 12:return Co(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,xa(0,e.type,i.value),Co(t,e,i.children,n),e.child;case 9:return a=e.type._context,i=e.pendingProps.children,Aa(e),i=i(a=Ma(a)),e.flags|=1,Co(t,e,i,n),e.child;case 14:return Po(t,e,e.type,e.pendingProps,n);case 15:return Do(t,e,e.type,e.pendingProps,n);case 19:return Xo(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},null===t?((n=Uo(i,n)).ref=e.ref,e.child=n,n.return=e,e=n):((n=ji(t.child,i)).ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Ro(t,e,n);case 24:return Aa(e),i=Ma(Ra),null===t?(null===(a=Ha())&&(a=ic,s=La(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),e.memoizedState={parent:i,cache:a},ns(e),xa(0,Ra,a)):(0!==(t.lanes&n)&&(is(t,e),hs(e,null,null,n),cs()),a=t.memoizedState,s=e.memoizedState,a.parent!==i?(a={parent:i,cache:i},e.memoizedState=a,0===e.lanes&&(e.memoizedState=e.updateQueue.baseState=a),xa(0,Ra,i)):(i=s.cache,xa(0,Ra,i),i!==a.cache&&_a(e,[Ra],n,!0))),Co(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Jo(t){t.flags|=4}function Zo(t,e){if("stylesheet"!==e.type||0!==(4&e.state.loading))t.flags&=-16777217;else if(t.flags|=16777216,!Wd(e)){if(null!==(e=io.current)&&((4194048&sc)===sc?null!==ao:(62914560&sc)!==sc&&0===(536870912&sc)||e!==ao))throw Ja=Xa,Ga;t.flags|=8192}}function tl(t,e){null!==e&&(t.flags|=4),16384&t.flags&&(e=22!==t.tag?kt():536870912,t.lanes|=e,vc|=e)}function el(t,e){if(!sa)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function nl(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var a=t.child;null!==a;)n|=a.lanes|a.childLanes,i|=65011712&a.subtreeFlags,i|=65011712&a.flags,a.return=t,a=a.sibling;else for(a=t.child;null!==a;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function il(t,e,n){var i=e.pendingProps;switch(na(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(e),null;case 3:return n=e.stateNode,i=null,null!==t&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ya(Ra),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(ua(e)?Jo(e):null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,fa())),nl(e),null;case 26:return n=e.memoizedState,null===t?(Jo(e),null!==n?(nl(e),Zo(e,n)):(nl(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Jo(e),nl(e),Zo(e,n)):(nl(e),e.flags&=-16777217):(t.memoizedProps!==i&&Jo(e),nl(e),e.flags&=-16777217),null;case 27:K(e),n=U.current;var a=e.type;if(null!==t&&null!=e.stateNode)t.memoizedProps!==i&&Jo(e);else{if(!i){if(null===e.stateNode)throw Error(r(166));return nl(e),null}t=H.current,ua(e)?ha(e):(t=yd(a,i,n),e.stateNode=t,Jo(e))}return nl(e),null;case 5:if(K(e),n=e.type,null!==t&&null!=e.stateNode)t.memoizedProps!==i&&Jo(e);else{if(!i){if(null===e.stateNode)throw Error(r(166));return nl(e),null}if(t=H.current,ua(e))ha(e);else{switch(a=id(U.current),t){case 1:t=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(t=a.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t="string"===typeof i.is?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t="string"===typeof i.is?a.createElement(n,{is:i.is}):a.createElement(n)}}t[Rt]=e,t[Lt]=i;t:for(a=e.child;null!==a;){if(5===a.tag||6===a.tag)t.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break t;for(;null===a.sibling;){if(null===a.return||a.return===e)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=t;t:switch(td(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Jo(e)}}return nl(e),e.flags&=-16777217,null;case 6:if(t&&null!=e.stateNode)t.memoizedProps!==i&&Jo(e);else{if("string"!==typeof i&&null===e.stateNode)throw Error(r(166));if(t=U.current,ua(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,null!==(a=ia))switch(a.tag){case 27:case 5:i=a.memoizedProps}t[Rt]=e,(t=!!(t.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||$h(t.nodeValue,n)))||ca(e)}else(t=id(t).createTextNode(i))[Rt]=e,e.stateNode=t}return nl(e),null;case 13:if(i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(a=ua(e),null!==i&&null!==i.dehydrated){if(null===t){if(!a)throw Error(r(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(r(317));a[Rt]=e}else pa(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;nl(e),a=!1}else a=fa(),null!==t&&null!==t.memoizedState&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&e.flags?(lo(e),e):(lo(e),null)}if(lo(e),0!==(128&e.flags))return e.lanes=n,e;if(n=null!==i,t=null!==t&&null!==t.memoizedState,n){a=null,null!==(i=e.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool);var s=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),tl(e,e.updateQueue),nl(e),null;case 4:return Y(),null===t&&Bh(e.stateNode.containerInfo),nl(e),null;case 10:return ya(e.type),nl(e),null;case 19:if(B(co),null===(a=e.memoizedState))return nl(e),null;if(i=0!==(128&e.flags),null===(s=a.rendering))if(i)el(a,!1);else{if(0!==uc||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(s=ho(t))){for(e.flags|=128,el(a,!1),t=s.updateQueue,e.updateQueue=t,tl(e,t),e.subtreeFlags=0,t=n,n=e.child;null!==n;)zi(n,t),n=n.sibling;return W(co,1&co.current|2),e.child}t=t.sibling}null!==a.tail&&et()>_c&&(e.flags|=128,i=!0,el(a,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=ho(s))){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,tl(e,t),el(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!sa)return nl(e),null}else 2*et()-a.renderingStartTime>_c&&536870912!==n&&(e.flags|=128,i=!0,el(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(null!==(t=a.last)?t.sibling=s:e.child=s,a.last=s)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=et(),e.sibling=null,t=co.current,W(co,i?1&t|2:1&t),e):(nl(e),null);case 22:case 23:return lo(e),vs(),i=null!==e.memoizedState,null!==t?null!==t.memoizedState!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?0!==(536870912&n)&&0===(128&e.flags)&&(nl(e),6&e.subtreeFlags&&(e.flags|=8192)):nl(e),null!==(n=e.updateQueue)&&tl(e,n.retryQueue),n=null,null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),i=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),null!==t&&B(Wa),null;case 24:return n=null,null!==t&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ya(Ra),nl(e),null;case 25:case 30:return null}throw Error(r(156,e.tag))}function al(t,e){switch(na(e),e.tag){case 1:return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ya(Ra),Y(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 26:case 27:case 5:return K(e),null;case 13:if(lo(e),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(r(340));pa()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return B(co),null;case 4:return Y(),null;case 10:return ya(e.type),null;case 22:case 23:return lo(e),vs(),null!==t&&B(Wa),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 24:return ya(Ra),null;default:return null}}function sl(t,e){switch(na(e),e.tag){case 3:ya(Ra),Y();break;case 26:case 27:case 5:K(e);break;case 4:Y();break;case 13:lo(e);break;case 19:B(co);break;case 10:ya(e.type);break;case 22:case 23:lo(e),vs(),null!==t&&B(Wa);break;case 24:ya(Ra)}}function rl(t,e){try{var n=e.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var a=i.next;n=a;do{if((n.tag&t)===t){i=void 0;var s=n.create,r=n.inst;i=s(),r.destroy=i}n=n.next}while(n!==a)}}catch(o){hh(e,e.return,o)}}function ol(t,e,n){try{var i=e.updateQueue,a=null!==i?i.lastEffect:null;if(null!==a){var s=a.next;i=s;do{if((i.tag&t)===t){var r=i.inst,o=r.destroy;if(void 0!==o){r.destroy=void 0,a=e;var l=n,c=o;try{c()}catch(h){hh(a,l,h)}}}i=i.next}while(i!==s)}}catch(h){hh(e,e.return,h)}}function ll(t){var e=t.updateQueue;if(null!==e){var n=t.stateNode;try{us(e,n)}catch(i){hh(t,t.return,i)}}}function cl(t,e,n){n.props=go(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){hh(t,e,i)}}function hl(t,e){try{var n=t.ref;if(null!==n){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;default:i=t.stateNode}"function"===typeof n?t.refCleanup=n(i):n.current=i}}catch(a){hh(t,e,a)}}function dl(t,e){var n=t.ref,i=t.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(a){hh(t,e,a)}finally{t.refCleanup=null,null!=(t=t.alternate)&&(t.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){hh(t,e,s)}else n.current=null}function ul(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){hh(t,t.return,a)}}function pl(t,e,n){try{var i=t.stateNode;!function(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,h=null,d=null;for(f in n){var u=n[f];if(n.hasOwnProperty(f)&&null!=u)switch(f){case"checked":case"value":break;case"defaultValue":c=u;default:i.hasOwnProperty(f)||Jh(t,e,f,null,i,u)}}for(var p in i){var f=i[p];if(u=n[p],i.hasOwnProperty(p)&&(null!=f||null!=u))switch(p){case"type":s=f;break;case"name":a=f;break;case"checked":h=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,e));break;default:f!==u&&Jh(t,e,p,f,i,u)}}return void ge(t,o,l,c,h,d,s,a);case"select":for(s in f=o=l=p=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":f=c;default:i.hasOwnProperty(s)||Jh(t,e,s,null,i,c)}for(a in i)if(s=i[a],c=n[a],i.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Jh(t,e,a,s,i,c)}return e=l,n=o,i=f,void(null!=p?xe(t,!!n,p,!1):!!i!==!!n&&(null!=e?xe(t,!!n,e,!0):xe(t,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Jh(t,e,l,null,i,a)}for(o in i)if(a=i[o],s=n[o],i.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":p=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==s&&Jh(t,e,o,a,i,s)}return void ye(t,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!i.hasOwnProperty(m))if("selected"===m)t.selected=!1;else Jh(t,e,m,null,i,p);for(c in i)if(p=i[c],f=n[c],i.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)t.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Jh(t,e,c,p,i,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&Jh(t,e,g,null,i,p);for(h in i)if(p=i[h],f=n[h],i.hasOwnProperty(h)&&p!==f&&(null!=p||null!=f))switch(h){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,e));break;default:Jh(t,e,h,p,i,f)}return;default:if(Me(e)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!i.hasOwnProperty(v)&&Zh(t,e,v,void 0,i,p);for(d in i)p=i[d],f=n[d],!i.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Zh(t,e,d,p,i,f);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!i.hasOwnProperty(b)&&Jh(t,e,b,null,i,p);for(u in i)p=i[u],f=n[u],!i.hasOwnProperty(u)||p===f||null==p&&null==f||Jh(t,e,u,p,i,f)}(i,t.type,n,e),i[Lt]=e}catch(a){hh(t,t.return,a)}}function fl(t){return 5===t.tag||3===t.tag||26===t.tag||27===t.tag&&pd(t.type)||4===t.tag}function ml(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||fl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(27===t.tag&&pd(t.type))continue t;if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function gl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(t,e):((e=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Qh));else if(4!==i&&(27===i&&pd(t.type)&&(n=t.stateNode,e=null),null!==(t=t.child)))for(gl(t,e,n),t=t.sibling;null!==t;)gl(t,e,n),t=t.sibling}function vl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&(27===i&&pd(t.type)&&(n=t.stateNode),null!==(t=t.child)))for(vl(t,e,n),t=t.sibling;null!==t;)vl(t,e,n),t=t.sibling}function bl(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);td(e,i,n),e[Rt]=t,e[Lt]=n}catch(s){hh(t,t.return,s)}}var xl=!1,yl=!1,wl=!1,_l="function"===typeof WeakSet?WeakSet:Set,kl=null;function Sl(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(t,n),4&i&&rl(5,n);break;case 1:if(Fl(t,n),4&i)if(t=n.stateNode,null===e)try{t.componentDidMount()}catch(r){hh(n,n.return,r)}else{var a=go(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){hh(n,n.return,o)}}64&i&&ll(n),512&i&&hl(n,n.return);break;case 3:if(Fl(t,n),64&i&&null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{us(t,e)}catch(r){hh(n,n.return,r)}}break;case 27:null===e&&4&i&&bl(n);case 26:case 5:Fl(t,n),null===e&&4&i&&ul(n),512&i&&hl(n,n.return);break;case 12:Fl(t,n);break;case 13:Fl(t,n),4&i&&Pl(t,n),64&i&&(null!==(t=n.memoizedState)&&(null!==(t=t.dehydrated)&&function(t,e){var n=t.ownerDocument;if("$?"!==t.data||"complete"===n.readyState)e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}(t,n=fh.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||xl)){e=null!==e&&null!==e.memoizedState||yl,a=xl;var s=yl;xl=i,(yl=e)&&!s?zl(t,n,0!==(8772&n.subtreeFlags)):Fl(t,n),xl=a,yl=s}break;case 30:break;default:Fl(t,n)}}function Al(t){var e=t.alternate;null!==e&&(t.alternate=null,Al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&Bt(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ml=null,El=!1;function Cl(t,e,n){for(n=n.child;null!==n;)Tl(t,e,n),n=n.sibling}function Tl(t,e,n){if(dt&&"function"===typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ht,n)}catch(s){}switch(n.tag){case 26:yl||dl(n,e),Cl(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:yl||dl(n,e);var i=Ml,a=El;pd(n.type)&&(Ml=n.stateNode,El=!1),Cl(t,e,n),wd(n.stateNode),Ml=i,El=a;break;case 5:yl||dl(n,e);case 6:if(i=Ml,a=El,Ml=null,Cl(t,e,n),El=a,null!==(Ml=i))if(El)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(r){hh(n,e,r)}else try{Ml.removeChild(n.stateNode)}catch(r){hh(n,e,r)}break;case 18:null!==Ml&&(El?(fd(9===(t=Ml).nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t,n.stateNode),Eu(t)):fd(Ml,n.stateNode));break;case 4:i=Ml,a=El,Ml=n.stateNode.containerInfo,El=!0,Cl(t,e,n),Ml=i,El=a;break;case 0:case 11:case 14:case 15:yl||ol(2,n,e),yl||ol(4,n,e),Cl(t,e,n);break;case 1:yl||(dl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount&&cl(n,e,i)),Cl(t,e,n);break;case 21:Cl(t,e,n);break;case 22:yl=(i=yl)||null!==n.memoizedState,Cl(t,e,n),yl=i;break;default:Cl(t,e,n)}}function Pl(t,e){if(null===e.memoizedState&&(null!==(t=e.alternate)&&(null!==(t=t.memoizedState)&&null!==(t=t.dehydrated))))try{Eu(t)}catch(n){hh(e,e.return,n)}}function Dl(t,e){var n=function(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return null===e&&(e=t.stateNode=new _l),e;case 22:return null===(e=(t=t.stateNode)._retryCache)&&(e=t._retryCache=new _l),e;default:throw Error(r(435,t.tag))}}(t);e.forEach(function(e){var i=mh.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))})}function Rl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],s=t,o=e,l=o;t:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Ml=l.stateNode,El=!1;break t}break;case 5:Ml=l.stateNode,El=!1;break t;case 3:case 4:Ml=l.stateNode.containerInfo,El=!0;break t}l=l.return}if(null===Ml)throw Error(r(160));Tl(s,o,a),Ml=null,El=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13878&e.subtreeFlags)for(e=e.child;null!==e;)Nl(e,t),e=e.sibling}var Ll=null;function Nl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rl(e,t),Ol(t),4&i&&(ol(3,t,t.return),rl(3,t),ol(5,t,t.return));break;case 1:Rl(e,t),Ol(t),512&i&&(yl||null===n||dl(n,n.return)),64&i&&xl&&(null!==(t=t.updateQueue)&&(null!==(i=t.callbacks)&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var a=Ll;if(Rl(e,t),Ol(t),512&i&&(yl||null===n||dl(n,n.return)),4&i){var s=null!==n?n.memoizedState:null;if(i=t.memoizedState,null===n)if(null===i)if(null===t.stateNode){t:{i=t.type,n=t.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":(!(s=a.getElementsByTagName("title")[0])||s[zt]||s[Rt]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(i),a.head.insertBefore(s,a.querySelector("head > title"))),td(s,i,n),s[Rt]=t,qt(s),i=s;break t;case"link":var o=zd("link","href",a).get(i+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break e}td(s=a.createElement(i),i,n),a.head.appendChild(s);break;case"meta":if(o=zd("meta","content",a).get(i+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break e}td(s=a.createElement(i),i,n),a.head.appendChild(s);break;default:throw Error(r(468,i))}s[Rt]=t,qt(s),i=s}t.stateNode=i}else Bd(a,t.type,t.stateNode);else t.stateNode=Nd(a,i,t.memoizedProps);else s!==i?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===i?Bd(a,t.type,t.stateNode):Nd(a,i,t.memoizedProps)):null===i&&null!==t.stateNode&&pl(t,t.memoizedProps,n.memoizedProps)}break;case 27:Rl(e,t),Ol(t),512&i&&(yl||null===n||dl(n,n.return)),null!==n&&4&i&&pl(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Rl(e,t),Ol(t),512&i&&(yl||null===n||dl(n,n.return)),32&t.flags){a=t.stateNode;try{_e(a,"")}catch(f){hh(t,t.return,f)}}4&i&&null!=t.stateNode&&pl(t,a=t.memoizedProps,null!==n?n.memoizedProps:a),1024&i&&(wl=!0);break;case 6:if(Rl(e,t),Ol(t),4&i){if(null===t.stateNode)throw Error(r(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(f){hh(t,t.return,f)}}break;case 3:if(jd=null,a=Ll,Ll=Sd(e.containerInfo),Rl(e,t),Ll=a,Ol(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Eu(e.containerInfo)}catch(f){hh(t,t.return,f)}wl&&(wl=!1,Il(t));break;case 4:i=Ll,Ll=Sd(t.stateNode.containerInfo),Rl(e,t),Ol(t),Ll=i;break;case 12:default:Rl(e,t),Ol(t);break;case 13:Rl(e,t),Ol(t),8192&t.child.flags&&null!==t.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=et()),4&i&&(null!==(i=t.updateQueue)&&(t.updateQueue=null,Dl(t,i)));break;case 22:a=null!==t.memoizedState;var c=null!==n&&null!==n.memoizedState,h=xl,d=yl;if(xl=h||a,yl=d||c,Rl(e,t),yl=d,xl=h,Ol(t),8192&i)t:for(e=t.stateNode,e._visibility=a?-2&e._visibility:1|e._visibility,a&&(null===n||c||xl||yl||jl(t)),n=null,e=t;;){if(5===e.tag||26===e.tag){if(null===n){c=n=e;try{if(s=c.stateNode,a)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var u=c.memoizedProps.style,p=void 0!==u&&null!==u&&u.hasOwnProperty("display")?u.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){hh(c,c.return,f)}}}else if(6===e.tag){if(null===n){c=e;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){hh(c,c.return,f)}}}else if((22!==e.tag&&23!==e.tag||null===e.memoizedState||e===t)&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}4&i&&(null!==(i=t.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Dl(t,n))));break;case 19:Rl(e,t),Ol(t),4&i&&(null!==(i=t.updateQueue)&&(t.updateQueue=null,Dl(t,i)));case 30:case 21:}}function Ol(t){var e=t.flags;if(2&e){try{for(var n,i=t.return;null!==i;){if(fl(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode;vl(t,ml(t),a);break;case 5:var s=n.stateNode;32&n.flags&&(_e(s,""),n.flags&=-33),vl(t,ml(t),s);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(t,ml(t),o);break;default:throw Error(r(161))}}catch(l){hh(t,t.return,l)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function Il(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var e=t;Il(e),5===e.tag&&1024&e.flags&&e.stateNode.reset(),t=t.sibling}}function Fl(t,e){if(8772&e.subtreeFlags)for(e=e.child;null!==e;)Sl(t,e.alternate,e),e=e.sibling}function jl(t){for(t=t.child;null!==t;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ol(4,e,e.return),jl(e);break;case 1:dl(e,e.return);var n=e.stateNode;"function"===typeof n.componentWillUnmount&&cl(e,e.return,n),jl(e);break;case 27:wd(e.stateNode);case 26:case 5:dl(e,e.return),jl(e);break;case 22:null===e.memoizedState&&jl(e);break;default:jl(e)}t=t.sibling}}function zl(t,e,n){for(n=n&&0!==(8772&e.subtreeFlags),e=e.child;null!==e;){var i=e.alternate,a=t,s=e,r=s.flags;switch(s.tag){case 0:case 11:case 15:zl(a,s,n),rl(4,s);break;case 1:if(zl(a,s,n),"function"===typeof(a=(i=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){hh(i,i.return,c)}if(null!==(a=(i=s).updateQueue)){var o=i.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)ds(l[a],o)}catch(c){hh(i,i.return,c)}}n&&64&r&&ll(s),hl(s,s.return);break;case 27:bl(s);case 26:case 5:zl(a,s,n),n&&null===i&&4&r&&ul(s),hl(s,s.return);break;case 12:zl(a,s,n);break;case 13:zl(a,s,n),n&&4&r&&Pl(a,s);break;case 22:null===s.memoizedState&&zl(a,s,n),hl(s,s.return);break;case 30:break;default:zl(a,s,n)}e=e.sibling}}function Bl(t,e){var n=null;null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),t=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),t!==n&&(null!=t&&t.refCount++,null!=n&&Na(n))}function Wl(t,e){t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&Na(t))}function Hl(t,e,n,i){if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Vl(t,e,n,i),e=e.sibling}function Vl(t,e,n,i){var a=e.flags;switch(e.tag){case 0:case 11:case 15:Hl(t,e,n,i),2048&a&&rl(9,e);break;case 1:case 13:default:Hl(t,e,n,i);break;case 3:Hl(t,e,n,i),2048&a&&(t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&Na(t)));break;case 12:if(2048&a){Hl(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,r=s.id,o=s.onPostCommit;"function"===typeof o&&o(r,null===e.alternate?"mount":"update",t.passiveEffectDuration,-0)}catch(l){hh(e,e.return,l)}}else Hl(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,r=e.alternate,null!==e.memoizedState?2&s._visibility?Hl(t,e,n,i):ql(t,e):2&s._visibility?Hl(t,e,n,i):(s._visibility|=2,Ul(t,e,n,i,0!==(10256&e.subtreeFlags))),2048&a&&Bl(r,e);break;case 24:Hl(t,e,n,i),2048&a&&Wl(e.alternate,e)}}function Ul(t,e,n,i,a){for(a=a&&0!==(10256&e.subtreeFlags),e=e.child;null!==e;){var s=t,r=e,o=n,l=i,c=r.flags;switch(r.tag){case 0:case 11:case 15:Ul(s,r,o,l,a),rl(8,r);break;case 23:break;case 22:var h=r.stateNode;null!==r.memoizedState?2&h._visibility?Ul(s,r,o,l,a):ql(s,r):(h._visibility|=2,Ul(s,r,o,l,a)),a&&2048&c&&Bl(r.alternate,r);break;case 24:Ul(s,r,o,l,a),a&&2048&c&&Wl(r.alternate,r);break;default:Ul(s,r,o,l,a)}e=e.sibling}}function ql(t,e){if(10256&e.subtreeFlags)for(e=e.child;null!==e;){var n=t,i=e,a=i.flags;switch(i.tag){case 22:ql(n,i),2048&a&&Bl(i.alternate,i);break;case 24:ql(n,i),2048&a&&Wl(i.alternate,i);break;default:ql(n,i)}e=e.sibling}}var Gl=8192;function Yl(t){if(t.subtreeFlags&Gl)for(t=t.child;null!==t;)Xl(t),t=t.sibling}function Xl(t){switch(t.tag){case 26:Yl(t),t.flags&Gl&&null!==t.memoizedState&&function(t,e,n){if(null===Hd)throw Error(r(475));var i=Hd;if("stylesheet"===e.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&e.state.loading)){if(null===e.instance){var a=Td(n.href),s=t.querySelector(Pd(a));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(i.count++,i=Ud.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=s,void qt(s);s=t.ownerDocument||t,n=Dd(n),(a=_d.get(a))&&Id(n,a),qt(s=s.createElement("link"));var o=s;o._p=new Promise(function(t,e){o.onload=t,o.onerror=e}),td(s,"link",n),e.instance=s}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&0===(3&e.state.loading)&&(i.count++,e=Ud.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}(Ll,t.memoizedState,t.memoizedProps);break;case 5:default:Yl(t);break;case 3:case 4:var e=Ll;Ll=Sd(t.stateNode.containerInfo),Yl(t),Ll=e;break;case 22:null===t.memoizedState&&(null!==(e=t.alternate)&&null!==e.memoizedState?(e=Gl,Gl=16777216,Yl(t),Gl=e):Yl(t))}}function Kl(t){var e=t.alternate;if(null!==e&&null!==(t=e.child)){e.child=null;do{e=t.sibling,t.sibling=null,t=e}while(null!==t)}}function $l(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];kl=i,Zl(i,t)}Kl(t)}if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Ql(t),t=t.sibling}function Ql(t){switch(t.tag){case 0:case 11:case 15:$l(t),2048&t.flags&&ol(9,t,t.return);break;case 3:case 12:default:$l(t);break;case 22:var e=t.stateNode;null!==t.memoizedState&&2&e._visibility&&(null===t.return||13!==t.return.tag)?(e._visibility&=-3,Jl(t)):$l(t)}}function Jl(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];kl=i,Zl(i,t)}Kl(t)}for(t=t.child;null!==t;){switch((e=t).tag){case 0:case 11:case 15:ol(8,e,e.return),Jl(e);break;case 22:2&(n=e.stateNode)._visibility&&(n._visibility&=-3,Jl(e));break;default:Jl(e)}t=t.sibling}}function Zl(t,e){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,e);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Na(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,kl=i;else t:for(n=t;null!==kl;){var a=(i=kl).sibling,s=i.return;if(Al(i),i===n){kl=null;break t}if(null!==a){a.return=s,kl=a;break t}kl=s}}}var tc={getCacheForType:function(t){var e=Ma(Ra),n=e.data.get(t);return void 0===n&&(n=t(),e.data.set(t,n)),n}},ec="function"===typeof WeakMap?WeakMap:Map,nc=0,ic=null,ac=null,sc=0,rc=0,oc=null,lc=!1,cc=!1,hc=!1,dc=0,uc=0,pc=0,fc=0,mc=0,gc=0,vc=0,bc=null,xc=null,yc=!1,wc=0,_c=1/0,kc=null,Sc=null,Ac=0,Mc=null,Ec=null,Cc=0,Tc=0,Pc=null,Dc=null,Rc=0,Lc=null;function Nc(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==N.T){return 0!==Fa?Fa:Th()}return Pt()}function Oc(){0===gc&&(gc=0===(536870912&sc)||sa?_t():536870912);var t=io.current;return null!==t&&(t.flags|=32),gc}function Ic(t,e,n){(t!==ic||2!==rc&&9!==rc)&&null===t.cancelPendingCommit||(Vc(t,0),Bc(t,sc,gc,!1)),At(t,n),0!==(2&nc)&&t===ic||(t===ic&&(0===(2&nc)&&(fc|=n),4===uc&&Bc(t,sc,gc,!1)),_h(t))}function Fc(t,e,n){if(0!==(6&nc))throw Error(r(327));for(var i=!n&&0===(124&e)&&0===(e&t.expiredLanes)||yt(t,e),a=i?function(t,e){var n=nc;nc|=2;var i=qc(),a=Gc();ic!==t||sc!==e?(kc=null,_c=et()+500,Vc(t,e)):cc=yt(t,e);t:for(;;)try{if(0!==rc&&null!==ac){e=ac;var s=oc;e:switch(rc){case 1:rc=0,oc=null,Zc(t,e,s,1);break;case 2:case 9:if(Ka(s)){rc=0,oc=null,Jc(e);break}e=function(){2!==rc&&9!==rc||ic!==t||(rc=7),_h(t)},s.then(e,e);break t;case 3:rc=7;break t;case 4:rc=5;break t;case 7:Ka(s)?(rc=0,oc=null,Jc(e)):(rc=0,oc=null,Zc(t,e,s,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||Wd(o)){rc=0,oc=null;var c=l.sibling;if(null!==c)ac=c;else{var h=l.return;null!==h?(ac=h,th(h)):ac=null}break e}}rc=0,oc=null,Zc(t,e,s,5);break;case 6:rc=0,oc=null,Zc(t,e,s,6);break;case 8:Hc(),uc=6;break t;default:throw Error(r(462))}}$c();break}catch(d){Uc(t,d)}return ba=va=null,N.H=i,N.A=a,nc=n,null!==ac?0:(ic=null,sc=0,Ci(),uc)}(t,e):Xc(t,e,!0),s=i;;){if(0===a){cc&&!i&&Bc(t,e,0,!1);break}if(n=t.current.alternate,!s||zc(n)){if(2===a){if(s=e,t.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&t.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){e=o;t:{var l=t;a=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,o).flags|=256),2!==(o=Xc(l,o,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=s,fc|=s,a=4;break t}s=xc,xc=a,null!==s&&(null===xc?xc=s:xc.push.apply(xc,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){Vc(t,0),Bc(t,e,0,!0);break}t:{switch(i=t,s=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&e)!==e)break;case 6:Bc(i,e,gc,!lc);break t;case 2:xc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&e)===e&&10<(a=wc+300-et())){if(Bc(i,e,gc,!lc),0!==xt(i,0,!0))break t;i.timeoutHandle=ld(jc.bind(null,i,n,xc,kc,yc,e,gc,fc,vc,lc,s,2,-0,0),a)}else jc(i,n,xc,kc,yc,e,gc,fc,vc,lc,s,0,-0,0)}break}a=Xc(t,e,!1),s=!1}_h(t)}function jc(t,e,n,i,a,s,o,l,c,h,d,u,p,f){if(t.timeoutHandle=-1,(8192&(u=e.subtreeFlags)||16785408===(16785408&u))&&(Hd={stylesheets:null,count:0,unsuspend:Vd},Xl(e),null!==(u=function(){if(null===Hd)throw Error(r(475));var t=Hd;return t.stylesheets&&0===t.count&&Gd(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Gd(t,t.stylesheets),t.unsuspend){var e=t.unsuspend;t.unsuspend=null,e()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}())))return t.cancelPendingCommit=u(nh.bind(null,t,e,s,n,i,a,o,l,c,d,1,p,f)),void Bc(t,s,o,!h);nh(t,e,s,n,i,a,o,l,c)}function zc(t){for(var e=t;;){var n=e.tag;if((0===n||11===n||15===n)&&16384&e.flags&&(null!==(n=e.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var a=n[i],s=a.getSnapshot;a=a.value;try{if(!Kn(s(),a))return!1}catch(r){return!1}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bc(t,e,n,i){e&=~mc,e&=~fc,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var a=e;0<a;){var s=31-pt(a),r=1<<s;i[s]=-1,a&=~r}0!==n&&Mt(t,n,e)}function Wc(){return 0!==(6&nc)||(kh(0,!1),!1)}function Hc(){if(null!==ac){if(0===rc)var t=ac.return;else ba=va=null,Fs(t=ac),Xr=null,Kr=0,t=ac;for(;null!==t;)sl(t.alternate,t),t=t.return;ac=null}}function Vc(t,e){var n=t.timeoutHandle;-1!==n&&(t.timeoutHandle=-1,cd(n)),null!==(n=t.cancelPendingCommit)&&(t.cancelPendingCommit=null,n()),Hc(),ic=t,ac=n=ji(t.current,null),sc=e,rc=0,oc=null,lc=!1,cc=yt(t,e),hc=!1,vc=gc=mc=fc=pc=uc=0,xc=bc=null,yc=!1,0!==(8&e)&&(e|=32&e);var i=t.entangledLanes;if(0!==i)for(t=t.entanglements,i&=e;0<i;){var a=31-pt(i),s=1<<a;e|=t[a],i&=~s}return dc=e,Ci(),n}function Uc(t,e){xs=null,N.H=Ur,e===qa||e===Ya?(e=Za(),rc=3):e===Ga?(e=Za(),rc=4):rc=e===Mo?8:null!==e&&"object"===typeof e&&"function"===typeof e.then?6:1,oc=e,null===ac&&(uc=1,wo(t,Si(e,t.current)))}function qc(){var t=N.H;return N.H=Ur,null===t?Ur:t}function Gc(){var t=N.A;return N.A=tc,t}function Yc(){uc=4,lc||(4194048&sc)!==sc&&null!==io.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===ic||Bc(ic,sc,gc,!1)}function Xc(t,e,n){var i=nc;nc|=2;var a=qc(),s=Gc();ic===t&&sc===e||(kc=null,Vc(t,e)),e=!1;var r=uc;t:for(;;)try{if(0!==rc&&null!==ac){var o=ac,l=oc;switch(rc){case 8:Hc(),r=6;break t;case 3:case 2:case 9:case 6:null===io.current&&(e=!0);var c=rc;if(rc=0,oc=null,Zc(t,o,l,c),n&&cc){r=0;break t}break;default:c=rc,rc=0,oc=null,Zc(t,o,l,c)}}Kc(),r=uc;break}catch(h){Uc(t,h)}return e&&t.shellSuspendCounter++,ba=va=null,nc=i,N.H=a,N.A=s,null===ac&&(ic=null,sc=0,Ci()),r}function Kc(){for(;null!==ac;)Qc(ac)}function $c(){for(;null!==ac&&!Z();)Qc(ac)}function Qc(t){var e=Qo(t.alternate,t,dc);t.memoizedProps=t.pendingProps,null===e?th(t):ac=e}function Jc(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Io(n,e,e.pendingProps,e.type,void 0,sc);break;case 11:e=Io(n,e,e.pendingProps,e.type.render,e.ref,sc);break;case 5:Fs(e);default:sl(n,e),e=Qo(n,e=ac=zi(e,dc),dc)}t.memoizedProps=t.pendingProps,null===e?th(t):ac=e}function Zc(t,e,n,i){ba=va=null,Fs(e),Xr=null,Kr=0;var a=e.return;try{if(function(t,e,n,i,a){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(e=n.alternate)&&ka(e,n,a,!0),null!==(n=io.current)){switch(n.tag){case 13:return null===ao?Yc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Xa?n.flags|=16384:(null===(e=n.updateQueue)?n.updateQueue=new Set([i]):e.add(i),dh(t,i,a)),!1;case 22:return n.flags|=65536,i===Xa?n.flags|=16384:(null===(e=n.updateQueue)?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):null===(n=e.retryQueue)?e.retryQueue=new Set([i]):n.add(i),dh(t,i,a)),!1}throw Error(r(435,n.tag))}return dh(t,i,a),Yc(),!1}if(sa)return null!==(e=io.current)?(0===(65536&e.flags)&&(e.flags|=256),e.flags|=65536,e.lanes=a,i!==la&&ma(Si(t=Error(r(422),{cause:i}),n))):(i!==la&&ma(Si(e=Error(r(423),{cause:i}),n)),(t=t.current.alternate).flags|=65536,a&=-a,t.lanes|=a,i=Si(i,n),os(t,a=ko(t.stateNode,i,a)),4!==uc&&(uc=2)),!1;var s=Error(r(520),{cause:i});if(s=Si(s,n),null===bc?bc=[s]:bc.push(s),4!==uc&&(uc=2),null===e)return!0;i=Si(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,os(n,t=ko(n.stateNode,i,t)),!1;case 1:if(e=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof e.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Sc||!Sc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Ao(a=So(a),t,n,i),os(n,a),!1}n=n.return}while(null!==n);return!1}(t,a,e,n,sc))return uc=1,wo(t,Si(n,t.current)),void(ac=null)}catch(s){if(null!==a)throw ac=a,s;return uc=1,wo(t,Si(n,t.current)),void(ac=null)}32768&e.flags?(sa||1===i?t=!0:cc||0!==(536870912&sc)?t=!1:(lc=t=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=io.current)&&13===i.tag&&(i.flags|=16384))),eh(e,t)):th(e)}function th(t){var e=t;do{if(0!==(32768&e.flags))return void eh(e,lc);t=e.return;var n=il(e.alternate,e,dc);if(null!==n)return void(ac=n);if(null!==(e=e.sibling))return void(ac=e);ac=e=t}while(null!==e);0===uc&&(uc=5)}function eh(t,e){do{var n=al(t.alternate,t);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=t.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&null!==(t=t.sibling))return void(ac=t);ac=t=n}while(null!==t);uc=6,ac=null}function nh(t,e,n,i,a,s,o,l,c){t.cancelPendingCommit=null;do{oh()}while(0!==Ac);if(0!==(6&nc))throw Error(r(327));if(null!==e){if(e===t.current)throw Error(r(177));if(s=e.lanes|e.childLanes,function(t,e,n,i,a,s){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=r&~n;0<n;){var h=31-pt(n),d=1<<h;o[h]=0,l[h]=-1;var u=c[h];if(null!==u)for(c[h]=null,h=0;h<u.length;h++){var p=u[h];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&Mt(t,i,0),0!==s&&0===a&&0!==t.tag&&(t.suspendedLanes|=s&~(r&~e))}(t,n,s|=Ei,o,l,c),t===ic&&(ac=ic=null,sc=0),Ec=e,Mc=t,Cc=n,Tc=s,Pc=a,Dc=i,0!==(10256&e.subtreeFlags)||0!==(10256&e.flags)?(t.callbackNode=null,t.callbackPriority=0,Q(st,function(){return lh(),null})):(t.callbackNode=null,t.callbackPriority=0),i=0!==(13878&e.flags),0!==(13878&e.subtreeFlags)||i){i=N.T,N.T=null,a=O.p,O.p=2,o=nc,nc|=4;try{!function(t,e){if(t=t.containerInfo,ed=nu,ei(t=ti(t))){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break t}var o=0,l=-1,c=-1,h=0,d=0,u=t,p=null;e:for(;;){for(var f;u!==n||0!==a&&3!==u.nodeType||(l=o+a),u!==s||0!==i&&3!==u.nodeType||(c=o+i),3===u.nodeType&&(o+=u.nodeValue.length),null!==(f=u.firstChild);)p=u,u=f;for(;;){if(u===t)break e;if(p===n&&++h===a&&(l=o),p===s&&++d===i&&(c=o),null!==(f=u.nextSibling))break;p=(u=p).parentNode}u=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:t,selectionRange:n},nu=!1,kl=e;null!==kl;)if(t=(e=kl).child,0!==(1024&e.subtreeFlags)&&null!==t)t.return=e,kl=t;else for(;null!==kl;){switch(s=(e=kl).alternate,t=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&t)&&null!==s){t=void 0,n=e,a=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var m=go(n.type,a,(n.elementType,n.type));t=i.getSnapshotBeforeUpdate(m,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(v){hh(n,n.return,v)}}break;case 3:if(0!==(1024&t))if(9===(n=(t=e.stateNode.containerInfo).nodeType))md(t);else if(1===n)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}break;default:if(0!==(1024&t))throw Error(r(163))}if(null!==(t=e.sibling)){t.return=e.return,kl=t;break}kl=e.return}}(t,e)}finally{nc=o,O.p=a,N.T=i}}Ac=1,ih(),ah(),sh()}}function ih(){if(1===Ac){Ac=0;var t=Mc,e=Ec,n=0!==(13878&e.flags);if(0!==(13878&e.subtreeFlags)||n){n=N.T,N.T=null;var i=O.p;O.p=2;var a=nc;nc|=4;try{Nl(e,t);var s=nd,r=ti(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(r!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&ei(o)){var c=l.start,h=l.end;if(void 0===h&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var d=o.ownerDocument||document,u=d&&d.defaultView||window;if(u.getSelection){var p=u.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(r=g,g=m,m=r);var v=Jn(o,m),b=Jn(o,g);if(v&&b&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var x=d.createRange();x.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(x),p.extend(b.node,b.offset)):(x.setEnd(b.node,b.offset),p.addRange(x))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var y=d[o];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}nu=!!ed,nd=ed=null}finally{nc=a,O.p=i,N.T=n}}t.current=e,Ac=2}}function ah(){if(2===Ac){Ac=0;var t=Mc,e=Ec,n=0!==(8772&e.flags);if(0!==(8772&e.subtreeFlags)||n){n=N.T,N.T=null;var i=O.p;O.p=2;var a=nc;nc|=4;try{Sl(t,e.alternate,e)}finally{nc=a,O.p=i,N.T=n}}Ac=3}}function sh(){if(4===Ac||3===Ac){Ac=0,tt();var t=Mc,e=Ec,n=Cc,i=Dc;0!==(10256&e.subtreeFlags)||0!==(10256&e.flags)?Ac=5:(Ac=0,Ec=Mc=null,rh(t,t.pendingLanes));var a=t.pendingLanes;if(0===a&&(Sc=null),Tt(n),e=e.stateNode,dt&&"function"===typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ht,e,void 0,128===(128&e.current.flags))}catch(l){}if(null!==i){e=N.T,a=O.p,O.p=2,N.T=null;try{for(var s=t.onRecoverableError,r=0;r<i.length;r++){var o=i[r];s(o.value,{componentStack:o.stack})}}finally{N.T=e,O.p=a}}0!==(3&Cc)&&oh(),_h(t),a=t.pendingLanes,0!==(4194090&n)&&0!==(42&a)?t===Lc?Rc++:(Rc=0,Lc=t):Rc=0,kh(0,!1)}}function rh(t,e){0===(t.pooledCacheLanes&=e)&&(null!=(e=t.pooledCache)&&(t.pooledCache=null,Na(e)))}function oh(t){return ih(),ah(),sh(),lh()}function lh(){if(5!==Ac)return!1;var t=Mc,e=Tc;Tc=0;var n=Tt(Cc),i=N.T,a=O.p;try{O.p=32>n?32:n,N.T=null,n=Pc,Pc=null;var s=Mc,o=Cc;if(Ac=0,Ec=Mc=null,Cc=0,0!==(6&nc))throw Error(r(331));var l=nc;if(nc|=4,Ql(s.current),Vl(s,s.current,o,n),nc=l,kh(0,!1),dt&&"function"===typeof dt.onPostCommitFiberRoot)try{dt.onPostCommitFiberRoot(ht,s)}catch(c){}return!0}finally{O.p=a,N.T=i,rh(t,e)}}function ch(t,e,n){e=Si(n,e),null!==(t=ss(t,e=ko(t.stateNode,e,2),2))&&(At(t,2),_h(t))}function hh(t,e,n){if(3===t.tag)ch(t,t,n);else for(;null!==e;){if(3===e.tag){ch(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Sc||!Sc.has(i))){t=Si(n,t),null!==(i=ss(e,n=So(2),2))&&(Ao(n,i,e,t),At(i,2),_h(i));break}}e=e.return}}function dh(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new ec;var a=new Set;i.set(e,a)}else void 0===(a=i.get(e))&&(a=new Set,i.set(e,a));a.has(n)||(hc=!0,a.add(n),t=uh.bind(null,t,e,n),e.then(t,t))}function uh(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ic===t&&(sc&n)===n&&(4===uc||3===uc&&(62914560&sc)===sc&&300>et()-wc?0===(2&nc)&&Vc(t,0):mc|=n,vc===sc&&(vc=0)),_h(t)}function ph(t,e){0===e&&(e=kt()),null!==(t=Di(t,e))&&(At(t,e),_h(t))}function fh(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),ph(t,n)}function mh(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,a=t.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(e),ph(t,n)}var gh=null,vh=null,bh=!1,xh=!1,yh=!1,wh=0;function _h(t){t!==vh&&null===t.next&&(null===vh?gh=vh=t:vh=vh.next=t),xh=!0,bh||(bh=!0,dd(function(){0!==(6&nc)?Q(it,Sh):Ah()}))}function kh(t,e){if(!yh&&xh){yh=!0;do{for(var n=!1,i=gh;null!==i;){if(!e)if(0!==t){var a=i.pendingLanes;if(0===a)var s=0;else{var r=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-pt(42|t)+1)-1,s=201326741&(s&=a&~(r&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Ch(i,s))}else s=sc,0===(3&(s=xt(i,i===ic?s:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||yt(i,s)||(n=!0,Ch(i,s));i=i.next}}while(n);yh=!1}}function Sh(){Ah()}function Ah(){xh=bh=!1;var t=0;0!==wh&&(function(){var t=window.event;if(t&&"popstate"===t.type)return t!==od&&(od=t,!0);return od=null,!1}()&&(t=wh),wh=0);for(var e=et(),n=null,i=gh;null!==i;){var a=i.next,s=Mh(i,e);0===s?(i.next=null,null===n?gh=a:n.next=a,null===a&&(vh=n)):(n=i,(0!==t||0!==(3&s))&&(xh=!0)),i=a}kh(t,!1)}function Mh(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,s=-62914561&t.pendingLanes;0<s;){var r=31-pt(s),o=1<<r,l=a[r];-1===l?0!==(o&n)&&0===(o&i)||(a[r]=wt(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(n=sc,n=xt(t,t===(e=ic)?n:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle),i=t.callbackNode,0===n||t===e&&(2===rc||9===rc)||null!==t.cancelPendingCommit)return null!==i&&null!==i&&J(i),t.callbackNode=null,t.callbackPriority=0;if(0===(3&n)||yt(t,n)){if((e=n&-n)===t.callbackPriority)return e;switch(null!==i&&J(i),Tt(n)){case 2:case 8:n=at;break;case 32:default:n=st;break;case 268435456:n=ot}return i=Eh.bind(null,t),n=Q(n,i),t.callbackPriority=e,t.callbackNode=n,e}return null!==i&&null!==i&&J(i),t.callbackPriority=2,t.callbackNode=null,2}function Eh(t,e){if(0!==Ac&&5!==Ac)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(oh()&&t.callbackNode!==n)return null;var i=sc;return 0===(i=xt(t,t===ic?i:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle))?null:(Fc(t,i,e),Mh(t,et()),null!=t.callbackNode&&t.callbackNode===n?Eh.bind(null,t):null)}function Ch(t,e){if(oh())return null;Fc(t,e,!0)}function Th(){return 0===wh&&(wh=_t()),wh}function Ph(t){return null==t||"symbol"===typeof t||"boolean"===typeof t?null:"function"===typeof t?t:Te(""+t)}function Dh(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}for(var Rh=0;Rh<wi.length;Rh++){var Lh=wi[Rh];_i(Lh.toLowerCase(),"on"+(Lh[0].toUpperCase()+Lh.slice(1)))}_i(pi,"onAnimationEnd"),_i(fi,"onAnimationIteration"),_i(mi,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(gi,"onTransitionRun"),_i(vi,"onTransitionStart"),_i(bi,"onTransitionCancel"),_i(xi,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nh));function Ih(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],a=i.event;i=i.listeners;t:{var s=void 0;if(e)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break t;s=o,a.currentTarget=c;try{s(a)}catch(h){vo(h)}a.currentTarget=null,s=l}else for(r=0;r<i.length;r++){if(l=(o=i[r]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break t;s=o,a.currentTarget=c;try{s(a)}catch(h){vo(h)}a.currentTarget=null,s=l}}}}function Fh(t,e){var n=e[Ot];void 0===n&&(n=e[Ot]=new Set);var i=t+"__bubble";n.has(i)||(Wh(e,t,2,!1),n.add(i))}function jh(t,e,n){var i=0;e&&(i|=4),Wh(n,t,i,e)}var zh="_reactListening"+Math.random().toString(36).slice(2);function Bh(t){if(!t[zh]){t[zh]=!0,Gt.forEach(function(e){"selectionchange"!==e&&(Oh.has(e)||jh(e,!1,t),jh(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zh]||(e[zh]=!0,jh("selectionchange",!1,e))}}function Wh(t,e,n,i){switch(cu(e)){case 2:var a=iu;break;case 8:a=au;break;default:a=su}n=a.bind(null,e,n,t),a=void 0,!ze||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(a=!0),i?void 0!==a?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):void 0!==a?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function Hh(t,e,n,i,a){var s=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var r=i.tag;if(3===r||4===r){var o=i.stateNode.containerInfo;if(o===a)break;if(4===r)for(r=i.return;null!==r;){var c=r.tag;if((3===c||4===c)&&r.stateNode.containerInfo===a)return;r=r.return}for(;null!==o;){if(null===(r=Wt(o)))return;if(5===(c=r.tag)||6===c||26===c||27===c){i=s=r;continue t}o=o.parentNode}}i=i.return}Ie(function(){var i=s,a=De(n),r=[];t:{var o=yi.get(t);if(void 0!==o){var c=Ze,h=t;switch(t){case"keypress":if(0===qe(n))break t;case"keydown":case"keyup":c=mn;break;case"focusin":h="focus",c=rn;break;case"focusout":h="blur",c=rn;break;case"beforeblur":case"afterblur":c=rn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pi:case fi:case mi:c=on;break;case xi:c=bn;break;case"scroll":case"scrollend":c=en;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=yn}var d=0!==(4&e),u=!d&&("scroll"===t||"scrollend"===t),p=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=i;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Fe(m,p))&&d.push(Vh(m,g,f)),u)break;m=m.return}0<d.length&&(o=new c(o,h,null,n,a),r.push({event:o,listeners:d}))}}if(0===(7&e)){if(c="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||n===Pe||!(h=n.relatedTarget||n.fromElement)||!Wt(h)&&!h[Nt])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=i,null!==(h=(h=n.relatedTarget||n.toElement)?Wt(h):null)&&(u=l(h),d=h.tag,h!==u||5!==d&&27!==d&&6!==d)&&(h=null)):(c=null,h=i),c!==h)){if(d=an,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==t&&"pointerover"!==t||(d=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==c?o:Vt(c),f=null==h?o:Vt(h),(o=new d(g,m+"leave",c,n,a)).target=u,o.relatedTarget=f,g=null,Wt(a)===i&&((d=new d(p,m+"enter",h,n,a)).target=f,d.relatedTarget=u,g=d),u=g,c&&h)t:{for(p=h,m=0,f=d=c;f;f=qh(f))m++;for(f=0,g=p;g;g=qh(g))f++;for(;0<m-f;)d=qh(d),m--;for(;0<f-m;)p=qh(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break t;d=qh(d),p=qh(p)}d=null}else d=null;null!==c&&Gh(r,o,c,d,!1),null!==h&&null!==u&&Gh(r,u,h,d,!0)}if("select"===(c=(o=i?Vt(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=jn;else if(Rn(o))if(zn)v=Xn;else{v=Gn;var b=qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?i&&Me(i.elementType)&&(v=jn):v=Yn;switch(v&&(v=v(t,i))?Ln(r,v,n,a):(b&&b(t,o,i),"focusout"===t&&i&&"number"===o.type&&null!=i.memoizedProps.value&&be(o,"number",o.value)),b=i?Vt(i):window,t){case"focusin":(Rn(b)||"true"===b.contentEditable)&&(ii=b,ai=i,si=null);break;case"focusout":si=ai=ii=null;break;case"mousedown":ri=!0;break;case"contextmenu":case"mouseup":case"dragend":ri=!1,oi(r,n,a);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":oi(r,n,a)}var x;if(_n)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Pn?Cn(t,n)&&(y="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(y="onCompositionStart");y&&(An&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Pn&&(x=Ue()):(He="value"in(We=a)?We.value:We.textContent,Pn=!0)),0<(b=Uh(i,y)).length&&(y=new cn(y,t,null,n,a),r.push({event:y,listeners:b}),x?y.data=x:null!==(x=Tn(n))&&(y.data=x))),(x=Sn?function(t,e){switch(t){case"compositionend":return Tn(e);case"keypress":return 32!==e.which?null:(En=!0,Mn);case"textInput":return(t=e.data)===Mn&&En?null:t;default:return null}}(t,n):function(t,e){if(Pn)return"compositionend"===t||!_n&&Cn(t,e)?(t=Ue(),Ve=He=We=null,Pn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return An&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(y=Uh(i,"onBeforeInput")).length&&(b=new cn("onBeforeInput","beforeinput",null,n,a),r.push({event:b,listeners:y}),b.data=x)),function(t,e,n,i,a){if("submit"===e&&n&&n.stateNode===a){var s=Ph((a[Lt]||null).action),r=i.submitter;r&&null!==(e=(e=r[Lt]||null)?Ph(e.formAction):r.getAttribute("formAction"))&&(s=e,r=null);var o=new Ze("action","action",null,i,a);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==wh){var t=r?Dh(a,r):new FormData(a);Pr(n,{pending:!0,data:t,method:a.method,action:s},null,t)}}else"function"===typeof s&&(o.preventDefault(),t=r?Dh(a,r):new FormData(a),Pr(n,{pending:!0,data:t,method:a.method,action:s},s,t))},currentTarget:a}]})}}(r,t,i,n,a)}Ih(r,e)})}function Vh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uh(t,e){for(var n=e+"Capture",i=[];null!==t;){var a=t,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Fe(t,n))&&i.unshift(Vh(t,a,s)),null!=(a=Fe(t,e))&&i.push(Vh(t,a,s))),3===t.tag)return i;t=t.return}return[]}function qh(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag&&27!==t.tag);return t||null}function Gh(t,e,n,i,a){for(var s=e._reactName,r=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===i)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Fe(n,s))&&r.unshift(Vh(n,c,l)):a||null!=(c=Fe(n,s))&&r.push(Vh(n,c,l))),n=n.return}0!==r.length&&t.push({event:e,listeners:r})}var Yh=/\r\n?/g,Xh=/\u0000|\uFFFD/g;function Kh(t){return("string"===typeof t?t:""+t).replace(Yh,"\n").replace(Xh,"")}function $h(t,e){return e=Kh(e),Kh(t)===e}function Qh(){}function Jh(t,e,n,i,a,s){switch(n){case"children":"string"===typeof i?"body"===e||"textarea"===e&&""===i||_e(t,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==e&&_e(t,""+i);break;case"className":ne(t,"class",i);break;case"tabIndex":ne(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ne(t,n,i);break;case"style":Ae(t,i,s);break;case"data":if("object"!==e){ne(t,"data",i);break}case"src":case"href":if(""===i&&("a"!==e||"href"!==n)){t.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){t.removeAttribute(n);break}i=Te(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==e&&Jh(t,e,"name",a.name,a,null),Jh(t,e,"formEncType",a.formEncType,a,null),Jh(t,e,"formMethod",a.formMethod,a,null),Jh(t,e,"formTarget",a.formTarget,a,null)):(Jh(t,e,"encType",a.encType,a,null),Jh(t,e,"method",a.method,a,null),Jh(t,e,"target",a.target,a,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){t.removeAttribute(n);break}i=Te(""+i),t.setAttribute(n,i);break;case"onClick":null!=i&&(t.onclick=Qh);break;case"onScroll":null!=i&&Fh("scroll",t);break;case"onScrollEnd":null!=i&&Fh("scrollend",t);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":t.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){t.removeAttribute("xlink:href");break}n=Te(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":!0===i?t.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Fh("beforetoggle",t),Fh("toggle",t),ee(t,"popover",i);break;case"xlinkActuate":ie(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ie(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ie(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ie(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ie(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ie(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ie(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ie(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ie(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ee(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ee(t,n=Ee.get(n)||n,i)}}function Zh(t,e,n,i,a,s){switch(n){case"style":Ae(t,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));t.innerHTML=n}}break;case"children":"string"===typeof i?_e(t,i):("number"===typeof i||"bigint"===typeof i)&&_e(t,""+i);break;case"onScroll":null!=i&&Fh("scroll",t);break;case"onScrollEnd":null!=i&&Fh("scrollend",t);break;case"onClick":null!=i&&(t.onclick=Qh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Yt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),"function"===typeof(s=null!=(s=t[Lt]||null)?s[n]:null)&&t.removeEventListener(e,s,a),"function"!==typeof i)?n in t?t[n]=i:!0===i?t.setAttribute(n,""):ee(t,n,i):("function"!==typeof s&&null!==s&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,a)))}}function td(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fh("error",t),Fh("load",t);var i,a=!1,s=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Jh(t,e,i,o,n,null)}}return s&&Jh(t,e,"srcSet",n.srcSet,n,null),void(a&&Jh(t,e,"src",n.src,n,null));case"input":Fh("invalid",t);var l=i=o=s=null,c=null,h=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,e));break;default:Jh(t,e,a,d,n,null)}}return ve(t,i,l,c,h,o,s,!1),void de(t);case"select":for(s in Fh("invalid",t),a=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Jh(t,e,s,l,n,null)}return e=i,n=o,t.multiple=!!a,void(null!=e?xe(t,!!a,e,!1):null!=n&&xe(t,!!a,n,!0));case"textarea":for(o in Fh("invalid",t),i=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:Jh(t,e,o,l,n,null)}return we(t,a,s,i),void de(t);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)t.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Jh(t,e,c,a,n,null);return;case"dialog":Fh("beforetoggle",t),Fh("toggle",t),Fh("cancel",t),Fh("close",t);break;case"iframe":case"object":Fh("load",t);break;case"video":case"audio":for(a=0;a<Nh.length;a++)Fh(Nh[a],t);break;case"image":Fh("error",t),Fh("load",t);break;case"details":Fh("toggle",t);break;case"embed":case"source":case"link":Fh("error",t),Fh("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&null!=(a=n[h]))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Jh(t,e,h,a,n,null)}return;default:if(Me(e)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Zh(t,e,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Jh(t,e,l,a,n,null))}var ed=null,nd=null;function id(t){return 9===t.nodeType?t:t.ownerDocument}function ad(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(t,e){if(0===t)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return 1===t&&"foreignObject"===e?0:t}function rd(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"bigint"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,hd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hd?function(t){return hd.resolve(null).then(t).catch(ud)}:ld;function ud(t){setTimeout(function(){throw t})}function pd(t){return"head"===t}function fd(t,e){var n=e,i=0,a=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<i&&8>i){n=i;var r=t.ownerDocument;if(1&n&&wd(r.documentElement),2&n&&wd(r.body),4&n)for(wd(n=r.head),r=n.firstChild;r;){var o=r.nextSibling,l=r.nodeName;r[zt]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===r.rel.toLowerCase()||n.removeChild(r),r=o}}if(0===a)return t.removeChild(s),void Eu(e);a--}else"$"===n||"$?"===n||"$!"===n?a++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);Eu(e)}function md(t){var e=t.firstChild;for(e&&10===e.nodeType&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Bt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}t.removeChild(n)}}function gd(t){return"$!"===t.data||"$?"===t.data&&"complete"===t.ownerDocument.readyState}function vd(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e||"F!"===e||"F"===e)break;if("/$"===e)return null}}return t}var bd=null;function xd(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}function yd(t,e,n){switch(e=id(n),t){case"html":if(!(t=e.documentElement))throw Error(r(452));return t;case"head":if(!(t=e.head))throw Error(r(453));return t;case"body":if(!(t=e.body))throw Error(r(454));return t;default:throw Error(r(451))}}function wd(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Bt(t)}var _d=new Map,kd=new Set;function Sd(t){return"function"===typeof t.getRootNode?t.getRootNode():9===t.nodeType?t:t.ownerDocument}var Ad=O.d;O.d={f:function(){var t=Ad.f(),e=Wc();return t||e},r:function(t){var e=Ht(t);null!==e&&5===e.tag&&"form"===e.type?Rr(e):Ad.r(t)},D:function(t){Ad.D(t),Ed("dns-prefetch",t,null)},C:function(t,e){Ad.C(t,e),Ed("preconnect",t,e)},L:function(t,e,n){Ad.L(t,e,n);var i=Md;if(i&&t&&e){var a='link[rel="preload"][as="'+me(e)+'"]';"image"===e&&n&&n.imageSrcSet?(a+='[imagesrcset="'+me(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+me(n.imageSizes)+'"]')):a+='[href="'+me(t)+'"]';var s=a;switch(e){case"style":s=Td(t);break;case"script":s=Rd(t)}_d.has(s)||(t=u({rel:"preload",href:"image"===e&&n&&n.imageSrcSet?void 0:t,as:e},n),_d.set(s,t),null!==i.querySelector(a)||"style"===e&&i.querySelector(Pd(s))||"script"===e&&i.querySelector(Ld(s))||(td(e=i.createElement("link"),"link",t),qt(e),i.head.appendChild(e)))}},m:function(t,e){Ad.m(t,e);var n=Md;if(n&&t){var i=e&&"string"===typeof e.as?e.as:"script",a='link[rel="modulepreload"][as="'+me(i)+'"][href="'+me(t)+'"]',s=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Rd(t)}if(!_d.has(s)&&(t=u({rel:"modulepreload",href:t},e),_d.set(s,t),null===n.querySelector(a))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ld(s)))return}td(i=n.createElement("link"),"link",t),qt(i),n.head.appendChild(i)}}},X:function(t,e){Ad.X(t,e);var n=Md;if(n&&t){var i=Ut(n).hoistableScripts,a=Rd(t),s=i.get(a);s||((s=n.querySelector(Ld(a)))||(t=u({src:t,async:!0},e),(e=_d.get(a))&&Fd(t,e),qt(s=n.createElement("script")),td(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(a,s))}},S:function(t,e,n){Ad.S(t,e,n);var i=Md;if(i&&t){var a=Ut(i).hoistableStyles,s=Td(t);e=e||"default";var r=a.get(s);if(!r){var o={loading:0,preload:null};if(r=i.querySelector(Pd(s)))o.loading=5;else{t=u({rel:"stylesheet",href:t,"data-precedence":e},n),(n=_d.get(s))&&Id(t,n);var l=r=i.createElement("link");qt(l),td(l,"link",t),l._p=new Promise(function(t,e){l.onload=t,l.onerror=e}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Od(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:o},a.set(s,r)}}},M:function(t,e){Ad.M(t,e);var n=Md;if(n&&t){var i=Ut(n).hoistableScripts,a=Rd(t),s=i.get(a);s||((s=n.querySelector(Ld(a)))||(t=u({src:t,async:!0,type:"module"},e),(e=_d.get(a))&&Fd(t,e),qt(s=n.createElement("script")),td(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(a,s))}}};var Md="undefined"===typeof document?null:document;function Ed(t,e,n){var i=Md;if(i&&"string"===typeof e&&e){var a=me(e);a='link[rel="'+t+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),kd.has(a)||(kd.add(a),t={rel:t,crossOrigin:n,href:e},null===i.querySelector(a)&&(td(e=i.createElement("link"),"link",t),qt(e),i.head.appendChild(e)))}}function Cd(t,e,n,i){var a,s,o,l,c=(c=U.current)?Sd(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(e=Td(n.href),(i=(n=Ut(c).hoistableStyles).get(e))||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){t=Td(n.href);var h=Ut(c).hoistableStyles,d=h.get(t);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,d),(h=c.querySelector(Pd(t)))&&!h._p&&(d.instance=h,d.state.loading=5),_d.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(t,n),h||(a=c,s=t,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),td(s,"link",o),qt(s),a.head.appendChild(s))))),e&&null===i)throw Error(r(528,""));return d}if(e&&null!==i)throw Error(r(529,""));return null;case"script":return e=n.async,"string"===typeof(n=n.src)&&e&&"function"!==typeof e&&"symbol"!==typeof e?(e=Rd(n),(i=(n=Ut(c).hoistableScripts).get(e))||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Td(t){return'href="'+me(t)+'"'}function Pd(t){return'link[rel="stylesheet"]['+t+"]"}function Dd(t){return u({},t,{"data-precedence":t.precedence,precedence:null})}function Rd(t){return'[src="'+me(t)+'"]'}function Ld(t){return"script[async]"+t}function Nd(t,e,n){if(e.count++,null===e.instance)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+me(n.href)+'"]');if(i)return e.instance=i,qt(i),i;var a=u({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qt(i=(t.ownerDocument||t).createElement("style")),td(i,"style",a),Od(i,n.precedence,t),e.instance=i;case"stylesheet":a=Td(n.href);var s=t.querySelector(Pd(a));if(s)return e.state.loading|=4,e.instance=s,qt(s),s;i=Dd(n),(a=_d.get(a))&&Id(i,a),qt(s=(t.ownerDocument||t).createElement("link"));var o=s;return o._p=new Promise(function(t,e){o.onload=t,o.onerror=e}),td(s,"link",i),e.state.loading|=4,Od(s,n.precedence,t),e.instance=s;case"script":return s=Rd(n.src),(a=t.querySelector(Ld(s)))?(e.instance=a,qt(a),a):(i=n,(a=_d.get(s))&&Fd(i=u({},n),a),qt(a=(t=t.ownerDocument||t).createElement("script")),td(a,"link",i),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(r(443,e.type))}else"stylesheet"===e.type&&0===(4&e.state.loading)&&(i=e.instance,e.state.loading|=4,Od(i,n.precedence,t));return e.instance}function Od(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,s=a,r=0;r<i.length;r++){var o=i[r];if(o.dataset.precedence===e)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=9===n.nodeType?n.head:n).insertBefore(t,e.firstChild)}function Id(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.title&&(t.title=e.title)}function Fd(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.integrity&&(t.integrity=e.integrity)}var jd=null;function zd(t,e,n){if(null===jd){var i=new Map,a=jd=new Map;a.set(n,i)}else(i=(a=jd).get(n))||(i=new Map,a.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var s=n[a];if(!(s[zt]||s[Rt]||"link"===t&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var r=s.getAttribute(e)||"";r=t+r;var o=i.get(r);o?o.push(s):i.set(r,[s])}}return i}function Bd(t,e,n){(t=t.ownerDocument||t).head.insertBefore(n,"title"===e?t.querySelector("head > title"):null)}function Wd(t){return"stylesheet"!==t.type||0!==(3&t.state.loading)}var Hd=null;function Vd(){}function Ud(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}var qd=null;function Gd(t,e){t.stylesheets=null,null!==t.unsuspend&&(t.count++,qd=new Map,e.forEach(Yd,t),qd=null,Ud.call(t))}function Yd(t,e){if(!(4&e.state.loading)){var n=qd.get(t);if(n)var i=n.get(null);else{n=new Map,qd.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var r=a[s];"LINK"!==r.nodeName&&"not all"===r.getAttribute("media")||(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}r=(a=e.instance).getAttribute("data-precedence"),(s=n.get(r)||i)===i&&n.set(null,a),n.set(r,a),this.count++,i=Ud.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),s?s.parentNode.insertBefore(a,s.nextSibling):(t=9===t.nodeType?t.head:t).insertBefore(a,t.firstChild),e.state.loading|=4}}var Xd={$$typeof:w,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Kd(t,e,n,i,a,s,r,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function $d(t,e,n,i,a,s,r,o,l,c,h,d){return t=new Kd(t,e,n,r,o,l,c,d),e=1,!0===s&&(e|=24),s=Ii(3,null,null,e),t.current=s,s.stateNode=t,(e=La()).refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},ns(s),t}function Qd(t){return t?t=Ni:Ni}function Jd(t,e,n,i,a,s){a=Qd(a),null===i.context?i.context=a:i.pendingContext=a,(i=as(e)).payload={element:n},null!==(s=void 0===s?null:s)&&(i.callback=s),null!==(n=ss(t,i,e))&&(Ic(n,0,e),rs(n,t,e))}function Zd(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tu(t,e){Zd(t,e),(t=t.alternate)&&Zd(t,e)}function eu(t){if(13===t.tag){var e=Di(t,67108864);null!==e&&Ic(e,0,67108864),tu(t,67108864)}}var nu=!0;function iu(t,e,n,i){var a=N.T;N.T=null;var s=O.p;try{O.p=2,su(t,e,n,i)}finally{O.p=s,N.T=a}}function au(t,e,n,i){var a=N.T;N.T=null;var s=O.p;try{O.p=8,su(t,e,n,i)}finally{O.p=s,N.T=a}}function su(t,e,n,i){if(nu){var a=ru(i);if(null===a)Hh(t,e,i,ou,n),bu(t,i);else if(function(t,e,n,i,a){switch(e){case"focusin":return du=xu(du,t,e,n,i,a),!0;case"dragenter":return uu=xu(uu,t,e,n,i,a),!0;case"mouseover":return pu=xu(pu,t,e,n,i,a),!0;case"pointerover":var s=a.pointerId;return fu.set(s,xu(fu.get(s)||null,t,e,n,i,a)),!0;case"gotpointercapture":return s=a.pointerId,mu.set(s,xu(mu.get(s)||null,t,e,n,i,a)),!0}return!1}(a,t,e,n,i))i.stopPropagation();else if(bu(t,i),4&e&&-1<vu.indexOf(t)){for(;null!==a;){var s=Ht(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var r=bt(s.pendingLanes);if(0!==r){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var l=1<<31-pt(r);o.entanglements[1]|=l,r&=~l}_h(s),0===(6&nc)&&(_c=et()+500,kh(0,!1))}}break;case 13:null!==(o=Di(s,2))&&Ic(o,0,2),Wc(),tu(s,2)}if(null===(s=ru(i))&&Hh(t,e,i,ou,n),s===a)break;a=s}null!==a&&i.stopPropagation()}else Hh(t,e,i,null,n)}}function ru(t){return lu(t=De(t))}var ou=null;function lu(t){if(ou=null,null!==(t=Wt(t))){var e=l(t);if(null===e)t=null;else{var n=e.tag;if(13===n){if(null!==(t=c(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ou=t,null}function cu(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case it:return 2;case at:return 8;case st:case rt:return 32;case ot:return 268435456;default:return 32}default:return 32}}var hu=!1,du=null,uu=null,pu=null,fu=new Map,mu=new Map,gu=[],vu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bu(t,e){switch(t){case"focusin":case"focusout":du=null;break;case"dragenter":case"dragleave":uu=null;break;case"mouseover":case"mouseout":pu=null;break;case"pointerover":case"pointerout":fu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(e.pointerId)}}function xu(t,e,n,i,a,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[a]},null!==e&&(null!==(e=Ht(e))&&eu(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==a&&-1===e.indexOf(a)&&e.push(a),t)}function yu(t){var e=Wt(t.target);if(null!==e){var n=l(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=c(n)))return t.blockedOn=e,void function(t,e){var n=O.p;try{return O.p=t,e()}finally{O.p=n}}(t.priority,function(){if(13===n.tag){var t=Nc();t=Ct(t);var e=Di(n,t);null!==e&&Ic(e,0,t),tu(n,t)}})}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function wu(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=ru(t.nativeEvent);if(null!==n)return null!==(e=Ht(n))&&eu(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);Pe=i,n.target.dispatchEvent(i),Pe=null,e.shift()}return!0}function _u(t,e,n){wu(t)&&n.delete(e)}function ku(){hu=!1,null!==du&&wu(du)&&(du=null),null!==uu&&wu(uu)&&(uu=null),null!==pu&&wu(pu)&&(pu=null),fu.forEach(_u),mu.forEach(_u)}function Su(t,e){t.blockedOn===e&&(t.blockedOn=null,hu||(hu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ku)))}var Au=null;function Mu(t){Au!==t&&(Au=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Au===t&&(Au=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],a=t[e+2];if("function"!==typeof i){if(null===lu(i||n))continue;break}var s=Ht(n);null!==s&&(t.splice(e,3),e-=3,Pr(s,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function Eu(t){function e(e){return Su(e,t)}null!==du&&Su(du,t),null!==uu&&Su(uu,t),null!==pu&&Su(pu,t),fu.forEach(e),mu.forEach(e);for(var n=0;n<gu.length;n++){var i=gu[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<gu.length&&null===(n=gu[0]).blockedOn;)yu(n),null===n.blockedOn&&gu.shift();if(null!=(n=(t.ownerDocument||t).$$reactFormReplay))for(i=0;i<n.length;i+=3){var a=n[i],s=n[i+1],r=a[Lt]||null;if("function"===typeof s)r||Mu(n);else if(r){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,r=s[Lt]||null)o=r.formAction;else if(null!==lu(a))continue}else o=r.action;"function"===typeof o?n[i+1]=o:(n.splice(i,3),i-=3),Mu(n)}}}function Cu(t){this._internalRoot=t}function Tu(t){this._internalRoot=t}Tu.prototype.render=Cu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(r(409));Jd(e.current,Nc(),t,e,null,null)},Tu.prototype.unmount=Cu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;Jd(t.current,2,null,t,null,null),Wc(),e[Nt]=null}},Tu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pt();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gu.length&&0!==e&&e<gu[n].priority;n++);gu.splice(n,0,t),0===n&&yu(t)}};var Pu=a.version;if("19.1.1"!==Pu)throw Error(r(527,Pu,"19.1.1"));O.findDOMNode=function(t){var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(r(188));throw t=Object.keys(t).join(","),Error(r(268,t))}return t=function(t){var e=t.alternate;if(!e){if(null===(e=l(t)))throw Error(r(188));return e!==t?null:t}for(var n=t,i=e;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(i=a.return)){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return h(a),t;if(s===i)return h(a),e;s=s.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=s;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,i=s;break}if(c===i){o=!0,i=a,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,i=a;break}if(c===i){o=!0,i=s,n=a;break}c=c.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?t:e}(e),t=null===(t=null!==t?d(t):null)?null:t.stateNode};var Du={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{ht=Ru.inject(Du),dt=Ru}catch(Nu){}}e.createRoot=function(t,e){if(!o(t))throw Error(r(299));var n=!1,i="",a=bo,s=xo,l=yo;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onUncaughtError&&(a=e.onUncaughtError),void 0!==e.onCaughtError&&(s=e.onCaughtError),void 0!==e.onRecoverableError&&(l=e.onRecoverableError),void 0!==e.unstable_transitionCallbacks&&e.unstable_transitionCallbacks),e=$d(t,1,!1,null,0,n,i,a,s,l,0,null),t[Nt]=e.current,Bh(t),new Cu(e)},e.hydrateRoot=function(t,e,n){if(!o(t))throw Error(r(299));var i=!1,a="",s=bo,l=xo,c=yo,h=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(h=n.formState)),(e=$d(t,1,!0,e,0,i,a,s,l,c,0,h)).context=Qd(null),n=e.current,(a=as(i=Ct(i=Nc()))).callback=null,ss(n,a,i),n=i,e.current.lanes=n,At(e,n),_h(e),t[Nt]=e.current,Bh(t),new Tu(e)},e.version="19.1.1"},43:(t,e,n)=>{"use strict";t.exports=n(288)},45:(t,e,n)=>{var i=n(738).default;t.exports=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,e||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},92:t=>{"use strict";t.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},125:t=>{"use strict";t.exports={rE:"6.0.1"}},146:(t,e,n)=>{"use strict";var i=n(897).default;const a=n(125).rE,s=n(706);t.exports=i(i({},s),{},{workerPath:"https://cdn.jsdelivr.net/npm/tesseract.js@v".concat(a,"/dist/worker.min.js")})},163:(t,e,n)=>{"use strict";const i=n(343);t.exports={recognize:async(t,e,n)=>{const a=await i(e,1,n);return a.recognize(t).finally(async()=>{await a.terminate()})},detect:async(t,e)=>{const n=await i("osd",0,e);return n.detect(t).finally(async()=>{await n.terminate()})}}},171:t=>{"use strict";t.exports=(t,e)=>{t.onmessage=t=>{let{data:n}=t;e(n)}}},173:(t,e,n)=>{t.exports=n(497)()},218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},246:t=>{"use strict";const e=t=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{e(i.result)},i.onerror=t=>{let{target:{error:{code:e}}}=t;n(Error("File could not be read! Code=".concat(e)))},i.readAsArrayBuffer(t)}),n=async t=>{let i=t;if("undefined"===typeof t)return"undefined";if("string"===typeof t)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t))i=atob(t.split(",")[1]).split("").map(t=>t.charCodeAt(0));else{const e=await fetch(t);i=await e.arrayBuffer()}else if("undefined"!==typeof HTMLElement&&t instanceof HTMLElement)"IMG"===t.tagName&&(i=await n(t.src)),"VIDEO"===t.tagName&&(i=await n(t.poster)),"CANVAS"===t.tagName&&await new Promise(n=>{t.toBlob(async t=>{i=await e(t),n()})});else if("undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas){const n=await t.convertToBlob();i=await e(n)}else(t instanceof File||t instanceof Blob)&&(i=await e(t));return new Uint8Array(i)};t.exports=n},257:(t,e,n)=>{"use strict";var i=n(897).default;const a=n(432),s=n(343),r=n(163),o=n(92),l=n(600),c=n(783),{setLogging:h}=n(597);t.exports=i({languages:o,OEM:l,PSM:c,createScheduler:a,createWorker:s,setLogging:h},r)},282:t=>{"use strict";t.exports=t=>{let e,{workerPath:n,workerBlobURL:i}=t;if(Blob&&URL&&i){const t=new Blob(['importScripts("'.concat(n,'");')],{type:"application/javascript"});e=new Worker(URL.createObjectURL(t))}else e=new Worker(n);return e}},288:(t,e)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||f}function b(){}function x(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=v.prototype;var y=x.prototype=new b;y.constructor=x,m(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function S(t,e,i,a,s,r){return i=r.ref,{$$typeof:n,type:t,key:e,ref:void 0!==i?i:null,props:r}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var M=/\/+/g;function E(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function C(){}function T(t,e,a,s,r){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l,c,h=!1;if(null===t)h=!0;else switch(o){case"bigint":case"string":case"number":h=!0;break;case"object":switch(t.$$typeof){case n:case i:h=!0;break;case u:return T((h=t._init)(t._payload),e,a,s,r)}}if(h)return r=r(t),h=""===s?"."+E(t,0):s,w(r)?(a="",null!=h&&(a=h.replace(M,"$&/")+"/"),T(r,e,a,"",function(t){return t})):null!=r&&(A(r)&&(l=r,c=a+(null==r.key||t&&t.key===r.key?"":(""+r.key).replace(M,"$&/")+"/")+h,r=S(l.type,c,void 0,0,0,l.props)),e.push(r)),1;h=0;var d,f=""===s?".":s+":";if(w(t))for(var m=0;m<t.length;m++)h+=T(s=t[m],e,a,o=f+E(s,m),r);else if("function"===typeof(m=null===(d=t)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(t=m.call(t),m=0;!(s=t.next()).done;)h+=T(s=s.value,e,a,o=f+E(s,m++),r);else if("object"===o){if("function"===typeof t.then)return T(function(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"===typeof t.status?t.then(C,C):(t.status="pending",t.then(function(e){"pending"===t.status&&(t.status="fulfilled",t.value=e)},function(e){"pending"===t.status&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}(t),e,a,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return h}function P(t,e,n){if(null==t)return t;var i=[],a=0;return T(t,i,"","",function(t){return e.call(n,t,a++)}),i}function D(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function L(){}e.Children={map:P,forEach:function(t,e,n){P(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return P(t,function(){e++}),e},toArray:function(t){return P(t,function(t){return t})||[]},only:function(t){if(!A(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=a,e.Profiler=r,e.PureComponent=x,e.StrictMode=s,e.Suspense=h,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,e.__COMPILER_RUNTIME={__proto__:null,c:function(t){return _.H.useMemoCache(t)}},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("The argument must be a React element, but you passed "+t+".");var i=m({},t.props),a=t.key;if(null!=e)for(s in void 0!==e.ref&&void 0,void 0!==e.key&&(a=""+e.key),e)!k.call(e,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===e.ref||(i[s]=e[s]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var r=Array(s),o=0;o<s;o++)r[o]=arguments[o+2];i.children=r}return S(t.type,a,void 0,0,0,i)},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:o,_context:t},t},e.createElement=function(t,e,n){var i,a={},s=null;if(null!=e)for(i in void 0!==e.key&&(s=""+e.key),e)k.call(e,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(a[i]=e[i]);var r=arguments.length-2;if(1===r)a.children=n;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];a.children=o}if(t&&t.defaultProps)for(i in r=t.defaultProps)void 0===a[i]&&(a[i]=r[i]);return S(t,s,void 0,0,0,a)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:u,_payload:{_status:-1,_result:t},_init:D}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=_.T,n={};_.T=n;try{var i=t(),a=_.S;null!==a&&a(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(L,R)}catch(s){R(s)}finally{_.T=e}},e.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},e.use=function(t){return _.H.use(t)},e.useActionState=function(t,e,n){return _.H.useActionState(t,e,n)},e.useCallback=function(t,e){return _.H.useCallback(t,e)},e.useContext=function(t){return _.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,e){return _.H.useDeferredValue(t,e)},e.useEffect=function(t,e,n){var i=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)},e.useId=function(){return _.H.useId()},e.useImperativeHandle=function(t,e,n){return _.H.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return _.H.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return _.H.useLayoutEffect(t,e)},e.useMemo=function(t,e){return _.H.useMemo(t,e)},e.useOptimistic=function(t,e){return _.H.useOptimistic(t,e)},e.useReducer=function(t,e,n){return _.H.useReducer(t,e,n)},e.useRef=function(t){return _.H.useRef(t)},e.useState=function(t){return _.H.useState(t)},e.useSyncExternalStore=function(t,e,n){return _.H.useSyncExternalStore(t,e,n)},e.useTransition=function(){return _.H.useTransition()},e.version="19.1.1"},343:(t,e,n)=>{"use strict";var i=n(897).default,a=n(847).default;const s=["logger","errorHandler"],r=n(599),o=n(362),{log:l}=n(597),c=n(674),h=n(600),{defaultOptions:d,spawnWorker:u,terminateWorker:p,onMessage:f,loadImage:m,send:g}=n(919);let v=0;t.exports=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.LSTM_ONLY,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const x=c("Worker",v),y=r(i(i({},d),n)),{logger:w,errorHandler:_}=y,k=a(y,s),S={},A="string"===typeof t?t.split("+"):t;let M=e,E=b;const C=[h.DEFAULT,h.LSTM_ONLY].includes(e)&&!k.legacyCore;let T,P;const D=new Promise((t,e)=>{P=t,T=e});let R=u(k);R.onerror=t=>{T(t.message)},v+=1;const L=t=>{let{id:e,action:n,payload:i}=t;return new Promise((t,a)=>{l("[".concat(x,"]: Start ").concat(e,", action=").concat(n));const s="".concat(n,"-").concat(e);S[s]={resolve:t,reject:a},g(R,{workerId:x,jobId:e,action:n,payload:i})})},N=(t,e)=>L(o({id:e,action:"loadLanguage",payload:{langs:t,options:{langPath:k.langPath,dataPath:k.dataPath,cachePath:k.cachePath,cacheMethod:k.cacheMethod,gzip:k.gzip,lstmOnly:[h.DEFAULT,h.LSTM_ONLY].includes(M)&&!k.legacyLang}}})),O=(t,e,n,i)=>L(o({id:i,action:"initialize",payload:{langs:t,oem:e,config:n}}));f(R,t=>{let{workerId:e,jobId:n,status:a,action:s,data:r}=t;const o="".concat(s,"-").concat(n);if("resolve"===a)l("[".concat(e,"]: Complete ").concat(n)),S[o].resolve({jobId:n,data:r}),delete S[o];else if("reject"===a){if(S[o].reject(r),delete S[o],"load"===s&&T(r),!_)throw Error(r);_(r)}else"progress"===a&&w(i(i({},r),{},{userJobId:n}))});const I={id:x,worker:R,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(t,e,n)=>L(o({id:n,action:"FS",payload:{method:"writeFile",args:[t,e]}})),readText:(t,e)=>L(o({id:e,action:"FS",payload:{method:"readFile",args:[t,{encoding:"utf8"}]}})),removeFile:(t,e)=>L(o({id:e,action:"FS",payload:{method:"unlink",args:[t]}})),FS:(t,e,n)=>L(o({id:n,action:"FS",payload:{method:t,args:e}})),reinitialize:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(C&&[h.TESSERACT_ONLY,h.TESSERACT_LSTM_COMBINED].includes(e))throw Error("Legacy model requested but code missing.");const a=e||M;M=a;const s=n||E;E=s;const r=("string"===typeof t?t.split("+"):t).filter(t=>!A.includes(t));return A.push(...r),r.length>0?N(r,i).then(()=>O(t,a,s,i)):O(t,a,s,i)},setParameters:function(){return L(o({id:arguments.length>1?arguments[1]:void 0,action:"setParameters",payload:{params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}))},recognize:async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{text:!0};return L(o({id:arguments.length>3?arguments[3]:void 0,action:"recognize",payload:{image:await m(t),options:e,output:n}}))},detect:async(t,e)=>{if(C)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return L(o({id:e,action:"detect",payload:{image:await m(t)}}))},terminate:async()=>(null!==R&&(p(R),R=null),Promise.resolve())};var F;return L(o({id:F,action:"load",payload:{options:{lstmOnly:C,corePath:k.corePath,logging:k.logging}}})).then(()=>N(t)).then(()=>O(t,e,b)).then(()=>P(I)).catch(()=>{}),D}},362:(t,e,n)=>{"use strict";const i=n(674);let a=0;t.exports=t=>{let{id:e,action:n,payload:s={}}=t,r=e;return"undefined"===typeof r&&(r=i("Job",a),a+=1),{id:r,action:n,payload:s}}},391:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4)},432:function(t,e,n){"use strict";const i=n(362),{log:a}=n(597),s=n(674);let r=0;t.exports=()=>{const t=s("Scheduler",r),e={},n={};let o=[];r+=1;const l=()=>Object.keys(e).length,c=()=>{if(0!==o.length){const t=Object.keys(e);for(let i=0;i<t.length;i+=1)if("undefined"===typeof n[t[i]]){o[0](e[t[i]]);break}}},h=(e,s)=>new Promise((r,l)=>{const h=i({action:e,payload:s});o.push(async t=>{o.shift(),n[t.id]=h;try{r(await t[e].apply(this,[...s,h.id]))}catch(i){l(i)}finally{delete n[t.id],c()}}),a("[".concat(t,"]: Add ").concat(h.id," to JobQueue")),a("[".concat(t,"]: JobQueue length=").concat(o.length)),c()});return{addWorker:n=>(e[n.id]=n,a("[".concat(t,"]: Add ").concat(n.id)),a("[".concat(t,"]: Number of workers=").concat(l())),c(),n.id),addJob:async function(e){if(0===l())throw Error("[".concat(t,"]: You need to have at least one worker before adding jobs"));for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return h(e,i)},terminate:async()=>{Object.keys(e).forEach(async t=>{await e[t].terminate()}),o=[]},getQueueLen:()=>o.length,getNumWorkers:l}}},497:(t,e,n)=>{"use strict";var i=n(218);function a(){}function s(){}s.resetWarningCache=a,t.exports=function(){function t(t,e,n,a,s,r){if(r!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},579:(t,e,n)=>{"use strict";t.exports=n(799)},597:function(t,e){"use strict";var n=this;let i=!1;e.logging=i,e.setLogging=t=>{i=t},e.log=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return i?console.log.apply(n,e):null}},599:(t,e,n)=>{"use strict";var i=n(897).default;const a="browser"===n(734)("type")?t=>new URL(t,window.location.href).href:t=>t;t.exports=t=>{const e=i({},t);return["corePath","workerPath","langPath"].forEach(n=>{t[n]&&(e[n]=a(e[n]))}),e}},600:t=>{"use strict";t.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},628:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(0===n.length)return!0;var i=t.name||"",a=(t.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return n.some(function(t){var e=t.trim().toLowerCase();return"."===e.charAt(0)?i.toLowerCase().endsWith(e):e.endsWith("/*")?s===e.replace(/\/.*$/,""):a===e})}return!0}},672:(t,e,n)=>{"use strict";var i=n(43);function a(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(t,e){return"font"===t?"":"string"===typeof e?"use-credentials"===e?e:"":void 0}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)throw Error(a(299));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.flushSync=function(t){var e=l.T,n=r.p;try{if(l.T=null,r.p=2,t)return t()}finally{l.T=e,r.p=n,r.d.f()}},e.preconnect=function(t,e){"string"===typeof t&&(e?e="string"===typeof(e=e.crossOrigin)?"use-credentials"===e?e:"":void 0:e=null,r.d.C(t,e))},e.prefetchDNS=function(t){"string"===typeof t&&r.d.D(t)},e.preinit=function(t,e){if("string"===typeof t&&e&&"string"===typeof e.as){var n=e.as,i=c(n,e.crossOrigin),a="string"===typeof e.integrity?e.integrity:void 0,s="string"===typeof e.fetchPriority?e.fetchPriority:void 0;"style"===n?r.d.S(t,"string"===typeof e.precedence?e.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:s}):"script"===n&&r.d.X(t,{crossOrigin:i,integrity:a,fetchPriority:s,nonce:"string"===typeof e.nonce?e.nonce:void 0})}},e.preinitModule=function(t,e){if("string"===typeof t)if("object"===typeof e&&null!==e){if(null==e.as||"script"===e.as){var n=c(e.as,e.crossOrigin);r.d.M(t,{crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0})}}else null==e&&r.d.M(t)},e.preload=function(t,e){if("string"===typeof t&&"object"===typeof e&&null!==e&&"string"===typeof e.as){var n=e.as,i=c(n,e.crossOrigin);r.d.L(t,n,{crossOrigin:i,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0,type:"string"===typeof e.type?e.type:void 0,fetchPriority:"string"===typeof e.fetchPriority?e.fetchPriority:void 0,referrerPolicy:"string"===typeof e.referrerPolicy?e.referrerPolicy:void 0,imageSrcSet:"string"===typeof e.imageSrcSet?e.imageSrcSet:void 0,imageSizes:"string"===typeof e.imageSizes?e.imageSizes:void 0,media:"string"===typeof e.media?e.media:void 0})}},e.preloadModule=function(t,e){if("string"===typeof t)if(e){var n=c(e.as,e.crossOrigin);r.d.m(t,{as:"string"===typeof e.as&&"script"!==e.as?e.as:void 0,crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0})}else r.d.m(t)},e.requestFormReset=function(t){r.d.r(t)},e.unstable_batchedUpdates=function(t,e){return t(e)},e.useFormState=function(t,e,n){return l.H.useFormState(t,e,n)},e.useFormStatus=function(){return l.H.useHostTransitionStatus()},e.version="19.1.1"},674:t=>{"use strict";t.exports=(t,e)=>"".concat(t,"-").concat(e,"-").concat(Math.random().toString(16).slice(3,8))},677:t=>{"use strict";t.exports=async(t,e)=>{t.postMessage(e)}},693:(t,e,n)=>{var i=n(736);t.exports=function(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},706:t=>{"use strict";t.exports={workerBlobURL:!0,logger:()=>{}}},734:t=>{"use strict";t.exports=t=>{const e={};return"undefined"!==typeof WorkerGlobalScope?e.type="webworker":"object"===typeof document?e.type="browser":"object"===typeof process&&(e.type="node"),"undefined"===typeof t?e:e[t]}},736:(t,e,n)=>{var i=n(738).default,a=n(45);t.exports=function(t){var e=a(t,"string");return"symbol"==i(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},738:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},783:t=>{"use strict";t.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},799:(t,e)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(t,e,i){var a=null;if(void 0!==i&&(a=""+i),void 0!==e.key&&(a=""+e.key),"key"in e)for(var s in i={},e)"key"!==s&&(i[s]=e[s]);else i=e;return e=i.ref,{$$typeof:n,type:t,key:a,ref:void 0!==e?e:null,props:i}}e.Fragment=i,e.jsx=a,e.jsxs=a},826:t=>{"use strict";t.exports=t=>{t.terminate()}},847:(t,e,n)=>{var i=n(893);t.exports=function(t,e){if(null==t)return{};var n,a,s=i(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s},t.exports.__esModule=!0,t.exports.default=t.exports},853:(t,e,n)=>{"use strict";t.exports=n(896)},893:t=>{t.exports=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n},t.exports.__esModule=!0,t.exports.default=t.exports},896:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,a=t[i];if(!(0<s(a,e)))break t;t[i]=e,t[n]=a,n=i}}function i(t){return 0===t.length?null:t[0]}function a(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,a=t.length,r=a>>>1;i<r;){var o=2*(i+1)-1,l=t[o],c=o+1,h=t[c];if(0>s(l,n))c<a&&0>s(h,l)?(t[i]=h,t[c]=n,i=c):(t[i]=l,t[o]=n,i=o);else{if(!(c<a&&0>s(h,n)))break t;t[i]=h,t[c]=n,i=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(e.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],h=[],d=1,u=null,p=3,f=!1,m=!1,g=!1,v=!1,b="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=i(h);null!==e;){if(null===e.callback)a(h);else{if(!(e.startTime<=t))break;a(h),e.sortIndex=e.expirationTime,n(c,e)}e=i(h)}}function _(t){if(g=!1,w(t),!m)if(null!==i(c))m=!0,S||(S=!0,k());else{var e=i(h);null!==e&&R(_,e.startTime-t)}}var k,S=!1,A=-1,M=5,E=-1;function C(){return!!v||!(e.unstable_now()-E<M)}function T(){if(v=!1,S){var t=e.unstable_now();E=t;var n=!0;try{t:{m=!1,g&&(g=!1,x(A),A=-1),f=!0;var s=p;try{e:{for(w(t),u=i(c);null!==u&&!(u.expirationTime>t&&C());){var r=u.callback;if("function"===typeof r){u.callback=null,p=u.priorityLevel;var o=r(u.expirationTime<=t);if(t=e.unstable_now(),"function"===typeof o){u.callback=o,w(t),n=!0;break e}u===i(c)&&a(c),w(t)}else a(c);u=i(c)}if(null!==u)n=!0;else{var l=i(h);null!==l&&R(_,l.startTime-t),n=!1}}break t}finally{u=null,p=s,f=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof y)k=function(){y(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=T,k=function(){D.postMessage(null)}}else k=function(){b(T,0)};function R(t,n){A=b(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,a,s){var r=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?r+s:r:s=r,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:d++,callback:a,priorityLevel:t,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>r?(t.sortIndex=s,n(h,t),null===i(c)&&t===i(h)&&(g?(x(A),A=-1):g=!0,R(_,s-r))):(t.sortIndex=o,n(c,t),m||f||(m=!0,S||(S=!0,k()))),t},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},897:(t,e,n)=>{var i=n(693);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){i(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t},t.exports.__esModule=!0,t.exports.default=t.exports},919:(t,e,n)=>{"use strict";const i=n(146),a=n(282),s=n(826),r=n(171),o=n(677),l=n(246);t.exports={defaultOptions:i,spawnWorker:a,terminateWorker:s,onMessage:r,send:o,loadImage:l}},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(672)}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce((e,i)=>(n.f[i](t,e),e),[])),n.u=t=>"static/js/"+t+".8f42e2ab.chunk.js",n.miniCssF=t=>{},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="fralytics:";n.l=(i,a,s,r)=>{if(t[i])t[i].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var d=c[h];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==e+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",e+s),o.src=i),t[i]=[a];var u=(e,n)=>{o.onerror=o.onload=null,clearTimeout(p);var a=t[i];if(delete t[i],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(t=>t(n)),e)return e(n)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.p="/React/",(()=>{var t={792:0};n.f.j=(e,i)=>{var a=n.o(t,e)?t[e]:void 0;if(0!==a)if(a)i.push(a[2]);else{var s=new Promise((n,i)=>a=t[e]=[n,i]);i.push(a[2]=s);var r=n.p+n.u(e),o=new Error;n.l(r,i=>{if(n.o(t,e)&&(0!==(a=t[e])&&(t[e]=void 0),a)){var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",o.name="ChunkLoadError",o.type=s,o.request=r,a[1](o)}},"chunk-"+e,e)}};var e=(e,i)=>{var a,s,r=i[0],o=i[1],l=i[2],c=0;if(r.some(e=>0!==t[e])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(e&&e(i);c<r.length;c++)s=r[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0},i=self.webpackChunkfralytics=self.webpackChunkfralytics||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";var t=n(43),e=n(391);function i(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function r(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}const c=["sri"],h=["page"],d=["page","matches"],u=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var m="popstate";function g(){return k(function(t,e){let{pathname:n="/",search:i="",hash:a=""}=_(t.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),y("",{pathname:n,search:i,hash:a},e.state&&e.state.usr||null,e.state&&e.state.key||"default")},function(t,e){let n=t.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let e=t.location.href,n=e.indexOf("#");i=-1===n?e:e.slice(0,n)}return i+"#"+("string"===typeof e?e:w(e))},function(t,e){b("/"===t.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(e),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function b(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function x(t,e){return{usr:t.state,key:t.key,idx:e}}function y(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return l(l({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?_(e):e),{},{state:n,key:e&&e.key||i||Math.random().toString(36).substring(2,10)})}function w(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function _(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function k(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=i,r=a.history,o="POP",c=null,h=d();function d(){return(r.state||{idx:null}).idx}function u(){o="POP";let t=d(),e=null==t?null:t-h;h=t,c&&c({action:o,location:f.location,delta:e})}function p(t){return S(t)}null==h&&(h=0,r.replaceState(l(l({},r.state),{},{idx:h}),""));let f={get action(){return o},get location(){return t(a,r)},listen(t){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(m,u),c=t,()=>{a.removeEventListener(m,u),c=null}},createHref:t=>e(a,t),createURL:p,encodeLocation(t){let e=p(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){o="PUSH";let i=y(f.location,t,e);n&&n(i,t),h=d()+1;let l=x(i,h),u=f.createHref(i);try{r.pushState(l,"",u)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(u)}s&&c&&c({action:o,location:f.location,delta:1})},replace:function(t,e){o="REPLACE";let i=y(f.location,t,e);n&&n(i,t),h=d();let a=x(i,h),l=f.createHref(i);r.replaceState(a,"",l),s&&c&&c({action:o,location:f.location,delta:0})},go:t=>r.go(t)};return f}function S(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof t?t:w(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}new WeakMap;function A(t,e){return M(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function M(t,e,n,i){let a=W(("string"===typeof e?_(e):e).pathname||"/",n);if(null==a)return null;let s=E(t);!function(t){t.sort((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every((t,n)=>t===e[n]);return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map(t=>t.childrenIndex),e.routesMeta.map(t=>t.childrenIndex)))}(s);let r=null;for(let o=0;null==r&&o<s.length;++o){let t=B(a);r=F(s[o],t,i)}return r}function E(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(t,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:s,route:t};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(i)&&r)return;v(l.relativePath.startsWith(i),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(i.length)}let c=G([i,l.relativePath]),h=n.concat(l);t.children&&t.children.length>0&&(v(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),E(t.children,e,h,c,r)),(null!=t.path||t.index)&&e.push({path:c,score:I(c,t.index),routesMeta:h})};return t.forEach((t,e)=>{var n;if(""!==t.path&&null!==(n=t.path)&&void 0!==n&&n.includes("?"))for(let i of C(t.path))s(t,e,!0,i);else s(t,e)}),e}function C(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return a?[s,""]:[s];let r=C(i.join("/")),o=[];return o.push(...r.map(t=>""===t?s:[s,t].join("/"))),a&&o.push(...r),o.map(e=>t.startsWith("/")&&""===e?"/":e)}var T=/^:[\w-]+$/,P=3,D=2,R=1,L=10,N=-2,O=t=>"*"===t;function I(t,e){let n=t.split("/"),i=n.length;return n.some(O)&&(i+=N),e&&(i+=D),n.filter(t=>!O(t)).reduce((t,e)=>t+(T.test(e)?P:""===e?R:L),i)}function F(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=t,a={},s="/",r=[];for(let o=0;o<i.length;++o){let t=i[o],l=o===i.length-1,c="/"===s?e:e.slice(s.length)||"/",h=j({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),d=t.route;if(!h&&l&&n&&!i[i.length-1].route.index&&(h=j({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!h)return null;Object.assign(a,h.params),r.push({params:a,pathname:G([s,h.pathname]),pathnameBase:Y(G([s,h.pathnameBase])),route:d}),"/"!==h.pathnameBase&&(s=G([s,h.pathnameBase]))}return r}function j(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=z(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],r=s.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=i.reduce((t,e,n)=>{let{paramName:i,isOptional:a}=e;if("*"===i){let t=o[n]||"";r=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=o[n];return t[i]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),t},{});return{params:l,pathname:s,pathnameBase:r,pattern:t}}function z(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'.concat(t,'" will be treated as if it were "').concat(t.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(t.replace(/\*$/,"/*"),'".'));let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==t&&"/"!==t&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function B(t){try{return t.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(e){return b(!1,'The URL path "'.concat(t,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(e,").")),t}}function W(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function H(t,e,n,i){return"Cannot include a '".concat(t,"' character in a manually specified `to.").concat(e,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(t){return t.filter((t,e)=>0===e||t.route.path&&t.route.path.length>0)}function U(t){let e=V(t);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function q(t,e,n){let i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof t?i=_(t):(i=l({},t),v(!i.pathname||!i.pathname.includes("?"),H("?","pathname","search",i)),v(!i.pathname||!i.pathname.includes("#"),H("#","pathname","hash",i)),v(!i.search||!i.search.includes("#"),H("#","search","hash",i)));let s,r=""===t||""===i.pathname,o=r?"/":i.pathname;if(null==o)s=n;else{let t=e.length-1;if(!a&&o.startsWith("..")){let e=o.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}s=t>=0?e[t]:"/"}let c=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:a=""}="string"===typeof t?_(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)}),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:X(i),hash:K(a)}}(i,s),h=o&&"/"!==o&&o.endsWith("/"),d=(r||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}var G=t=>t.join("/").replace(/\/\/+/g,"/"),Y=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",K=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function $(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}var Q=["POST","PUT","PATCH","DELETE"],J=(new Set(Q),["GET",...Q]);new Set(J),Symbol("ResetLoaderData");var Z=t.createContext(null);Z.displayName="DataRouter";var tt=t.createContext(null);tt.displayName="DataRouterState";var et=t.createContext(!1);var nt=t.createContext({isTransitioning:!1});nt.displayName="ViewTransition";var it=t.createContext(new Map);it.displayName="Fetchers";var at=t.createContext(null);at.displayName="Await";var st=t.createContext(null);st.displayName="Navigation";var rt=t.createContext(null);rt.displayName="Location";var ot=t.createContext({outlet:null,matches:[],isDataRoute:!1});ot.displayName="Route";var lt=t.createContext(null);lt.displayName="RouteError";function ct(){return null!=t.useContext(rt)}function ht(){return v(ct(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(rt).location}var dt="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ut(e){t.useContext(st).static||t.useLayoutEffect(e)}function pt(){let{isDataRoute:e}=t.useContext(ot);return e?function(){let{router:e}=_t("useNavigate"),n=St("useNavigate"),i=t.useRef(!1);ut(()=>{i.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(i.current,dt),i.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,l({fromRouteId:n},a)))},[e,n]);return a}():function(){v(ct(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Z),{basename:n,navigator:i}=t.useContext(st),{matches:a}=t.useContext(ot),{pathname:s}=ht(),r=JSON.stringify(U(a)),o=t.useRef(!1);ut(()=>{o.current=!0});let l=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(o.current,dt),!o.current)return;if("number"===typeof t)return void i.go(t);let l=q(t,JSON.parse(r),s,"path"===a.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:G([n,l.pathname])),(a.replace?i.replace:i.push)(l,a.state,a)},[n,i,r,s,e]);return l}()}t.createContext(null);function ft(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:i}=t.useContext(ot),{pathname:a}=ht(),s=JSON.stringify(U(i));return t.useMemo(()=>q(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function mt(e,n,i,a,s){v(ct(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=t.useContext(st),{matches:o}=t.useContext(ot),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",u=c?c.pathnameBase:"/",p=c&&c.route;{let t=p&&p.path||"";Et(d,!p||t.endsWith("*")||t.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(t,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(t,'"> to <Route path="').concat("/"===t?"*":"".concat(t,"/*"),'">.'))}let f,m=ht();if(n){var g;let t="string"===typeof n?_(n):n;v("/"===u||(null===(g=t.pathname)||void 0===g?void 0:g.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(t.pathname,'" was given in the `location` prop.')),f=t}else f=m;let x=f.pathname||"/",y=x;if("/"!==u){let t=u.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(t.length).join("/")}let w=A(e,{pathname:y});b(p||null!=w,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),b(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=yt(w&&w.map(t=>Object.assign({},t,{params:Object.assign({},h,t.params),pathname:G([u,r.encodeLocation?r.encodeLocation(t.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?u:G([u,r.encodeLocation?r.encodeLocation(t.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:t.pathnameBase])})),o,i,a,s);return n&&k?t.createElement(rt.Provider,{value:{location:l({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},k):k}function gt(){let e=At(),n=$(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},r={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:r},"ErrorBoundary")," or"," ",t.createElement("code",{style:r},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:s},i):null,o)}var vt=t.createElement(gt,null),bt=class extends t.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return void 0!==this.state.error?t.createElement(ot.Provider,{value:this.props.routeContext},t.createElement(lt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xt(e){let{routeContext:n,match:i,children:a}=e,s=t.useContext(Z);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(ot.Provider,{value:n},a)}function yt(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!i)return null;if(i.errors)e=i.matches;else{if(0!==n.length||i.initialized||!(i.matches.length>0))return null;e=i.matches}}let s=e,r=null===i||void 0===i?void 0:i.errors;if(null!=r){let t=s.findIndex(t=>t.route.id&&void 0!==(null===r||void 0===r?void 0:r[t.route.id]));v(t>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(r).join(","))),s=s.slice(0,Math.min(s.length,t+1))}let o=!1,l=-1;if(i)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=i,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((e,c,h)=>{let d,u=!1,p=null,f=null;i&&(d=r&&c.route.id?r[c.route.id]:void 0,p=c.route.errorElement||vt,o&&(l<0&&0===h?(Et("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,f=null):l===h&&(u=!0,f=c.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,h+1)),g=()=>{let n;return n=d?p:u?f:c.route.Component?t.createElement(c.route.Component,null):c.route.element?c.route.element:e,t.createElement(xt,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=i},children:n})};return i&&(c.route.ErrorBoundary||c.route.errorElement||0===h)?t.createElement(bt,{location:i.location,revalidation:i.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:a}):g()},null)}function wt(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function _t(e){let n=t.useContext(Z);return v(n,wt(e)),n}function kt(e){let n=t.useContext(tt);return v(n,wt(e)),n}function St(e){let n=function(e){let n=t.useContext(ot);return v(n,wt(e)),n}(e),i=n.matches[n.matches.length-1];return v(i.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),i.route.id}function At(){var e;let n=t.useContext(lt),i=kt("useRouteError"),a=St("useRouteError");return void 0!==n?n:null===(e=i.errors)||void 0===e?void 0:e[a]}var Mt={};function Et(t,e,n){e||Mt[t]||(Mt[t]=!0,b(!1,n))}var Ct={};function Tt(t,e){t||Ct[e]||(Ct[e]=!0,console.warn(e))}t.memo(function(t){let{routes:e,future:n,state:i,unstable_onError:a}=t;return mt(e,void 0,i,a,n)});function Pt(t){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dt(e){let{basename:n="/",children:i=null,location:a,navigationType:s="POP",navigator:r,static:o=!1}=e;v(!ct(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);"string"===typeof a&&(a=_(a));let{pathname:h="/",search:d="",hash:u="",state:p=null,key:f="default"}=a,m=t.useMemo(()=>{let t=W(h,l);return null==t?null:{location:{pathname:t,search:d,hash:u,state:p,key:f},navigationType:s}},[l,h,d,u,p,f,s]);return b(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(h).concat(d).concat(u,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(st.Provider,{value:c},t.createElement(rt.Provider,{children:i,value:m}))}function Rt(t){let{children:e,location:n}=t;return mt(Lt(e),n)}t.Component;function Lt(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let s=[...n,a];if(e.type===t.Fragment)return void i.push.apply(i,Lt(e.props.children,s));v(e.type===Pt,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!e.props.index||!e.props.children,"An index route cannot have child routes.");let r={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=Lt(e.props.children,s)),i.push(r)}),i}var Nt="get",Ot="application/x-www-form-urlencoded";function It(t){return null!=t&&"string"===typeof t.tagName}var Ft=null;var jt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zt(t){return null==t||jt.has(t)?t:(b(!1,'"'.concat(t,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ot,'"')),null)}function Bt(t,e){let n,i,a,s,r;if(It(o=t)&&"form"===o.tagName.toLowerCase()){let r=t.getAttribute("action");i=r?W(r,e):null,n=t.getAttribute("method")||Nt,a=zt(t.getAttribute("enctype"))||Ot,s=new FormData(t)}else if(function(t){return It(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return It(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let r=t.form;if(null==r)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=t.getAttribute("formaction")||r.getAttribute("action");if(i=o?W(o,e):null,n=t.getAttribute("formmethod")||r.getAttribute("method")||Nt,a=zt(t.getAttribute("formenctype"))||zt(r.getAttribute("enctype"))||Ot,s=new FormData(r,t),!function(){if(null===Ft)try{new FormData(document.createElement("form"),0),Ft=!1}catch(t){Ft=!0}return Ft}()){let{name:e,type:n,value:i}=t;if("image"===n){let t=e?"".concat(e,"."):"";s.append("".concat(t,"x"),"0"),s.append("".concat(t,"y"),"0")}else e&&s.append(e,i)}}else{if(It(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nt,i=null,a=Ot,r=t}var o;return s&&"text/plain"===a&&(r=s,s=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:s,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Wt(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}Symbol("SingleFetchRedirect");function Ht(t,e,n){let i="string"===typeof t?new URL(t,"undefined"===typeof window?"server://singlefetch/":window.location.origin):t;return"/"===i.pathname?i.pathname="_root.".concat(n):e&&"/"===W(i.pathname,e)?i.pathname="".concat(e.replace(/\/$/,""),"/_root.").concat(n):i.pathname="".concat(i.pathname.replace(/\/$/,""),".").concat(n),i}async function Vt(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error("Error loading route module `".concat(t.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ut(t){return null!=t&&"string"===typeof t.page}function qt(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"===typeof t.imageSrcSet&&"string"===typeof t.imageSizes:"string"===typeof t.rel&&"string"===typeof t.href)}function Gt(t,e,n,i,a,s){let r=(t,e)=>!n[e]||t.route.id!==n[e].route.id,o=(t,e)=>{var i;return n[e].pathname!==t.pathname||(null===(i=n[e].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[e].params["*"]!==t.params["*"]};return"assets"===s?e.filter((t,e)=>r(t,e)||o(t,e)):"data"===s?e.filter((e,s)=>{let l=i.routes[e.route.id];if(!l||!l.hasLoader)return!1;if(r(e,s)||o(e,s))return!0;if(e.route.shouldRevalidate){var c;let i=e.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0}):[]}function Yt(t,e){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=t.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1),[...new Set(i)];var i}function Xt(t,e){let n=new Set,i=new Set(e);return t.reduce((t,a)=>{if(e&&!Ut(a)&&"script"===a.as&&a.href&&i.has(a.href))return t;let s=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}(a));return n.has(s)||(n.add(s),t.push({key:s,link:a})),t},[])}function Kt(t,e){return"lazy"===t.mode&&!0===e}function $t(){let e=t.useContext(Z);return Wt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qt(){let e=t.useContext(tt);return Wt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jt=t.createContext(void 0);function Zt(){let e=t.useContext(Jt);return Wt(e,"You must render this element inside a <HydratedRouter> element"),e}function te(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ee(t,e,n){if(n&&!se)return[t[0]];if(e){let n=t.findIndex(t=>void 0!==e[t.route.id]);return t.slice(0,n+1)}return t}Jt.displayName="FrameworkContext";function ne(e){let{page:n}=e,a=i(e,h),{router:s}=$t(),r=t.useMemo(()=>A(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?t.createElement(ae,l({page:n,matches:r},a)):null}function ie(e){let{manifest:n,routeModules:i}=Zt(),[a,s]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(t,e,n){return Xt((await Promise.all(t.map(async t=>{let i=e.routes[t.route.id];if(i){let t=await Vt(i,n);return t.links?t.links():[]}return[]}))).flat(1).filter(qt).filter(t=>"stylesheet"===t.rel||"preload"===t.rel).map(t=>"stylesheet"===t.rel?l(l({},t),{},{rel:"prefetch",as:"style"}):l(l({},t),{},{rel:"prefetch"})))}(e,n,i).then(e=>{t||s(e)}),()=>{t=!0}},[e,n,i]),a}function ae(e){let{page:n,matches:a}=e,s=i(e,d),r=ht(),{manifest:o,routeModules:c}=Zt(),{basename:h}=$t(),{loaderData:u,matches:p}=Qt(),f=t.useMemo(()=>Gt(n,a,p,o,r,"data"),[n,a,p,o,r]),m=t.useMemo(()=>Gt(n,a,p,o,r,"assets"),[n,a,p,o,r]),g=t.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let t=new Set,e=!1;if(a.forEach(n=>{var i;let a=o.routes[n.route.id];a&&a.hasLoader&&(!f.some(t=>t.route.id===n.route.id)&&n.route.id in u&&null!==(i=c[n.route.id])&&void 0!==i&&i.shouldRevalidate||a.hasClientLoader?e=!0:t.add(n.route.id))}),0===t.size)return[];let i=Ht(n,h,"data");return e&&t.size>0&&i.searchParams.set("_routes",a.filter(e=>t.has(e.route.id)).map(t=>t.route.id).join(",")),[i.pathname+i.search]},[h,u,r,o,f,a,n,c]),v=t.useMemo(()=>Yt(m,o),[m,o]),b=ie(m);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",l({key:e,rel:"prefetch",as:"fetch",href:e},s))),v.map(e=>t.createElement("link",l({key:e,rel:"modulepreload",href:e},s))),b.map(e=>{let{key:n,link:i}=e;return t.createElement("link",l({key:n,nonce:s.nonce},i))}))}var se=!1;function re(e){let{manifest:n,serverHandoffString:a,isSpaMode:s,renderMeta:r,routeDiscovery:o,ssr:h}=Zt(),{router:d,static:u,staticContext:p}=$t(),{matches:f}=Qt(),m=t.useContext(et),g=Kt(o,h);r&&(r.didRenderScripts=!0);let v=ee(f,null,s);t.useEffect(()=>{0},[]);let b=t.useMemo(()=>{var s;if(m)return null;let r=p?"window.__reactRouterContext = ".concat(a,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=u?"".concat(null!==n.hmr&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((t,e)=>{let i="route".concat(e),a=n.routes[t.route.id];Wt(a,"Route ".concat(t.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:r,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,h=[...s?[{module:s,varName:"".concat(i,"_clientAction")}]:[],...r?[{module:r,varName:"".concat(i,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===h.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[h.map(t=>"import * as ".concat(t.varName,' from "').concat(t.module,'";')).join("\n"),"const ".concat(i," = {").concat(h.map(t=>"...".concat(t.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(t,e){let{sri:n}=t,a=i(t,c),s=new Set(e.state.matches.map(t=>t.route.id)),r=e.state.location.pathname.split("/").filter(Boolean),o=["/"];for(r.pop();r.length>0;)o.push("/".concat(r.join("/"))),r.pop();o.forEach(t=>{let n=A(e.routes,t,e.basename);n&&n.forEach(t=>s.add(t.route.id))});let h=[...s].reduce((t,e)=>Object.assign(t,{[e]:a.routes[e]}),{});return l(l({},a),{},{routes:h,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((t,e)=>"".concat(JSON.stringify(t.route.id),":route").concat(e)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",l(l({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:r},type:void 0})),t.createElement("script",l(l({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),x=se||m?[]:(n.entry.imports.concat(Yt(v,n,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let w="object"===typeof n.sri?n.sri:{};return Tt(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),se||m?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:w[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:w[n.entry.module],suppressHydrationWarning:!0}),x.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:w[n],suppressHydrationWarning:!0})),b)}function oe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return t=>{e.forEach(e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)})}}t.Component;function le(e){let{error:n,isOutsideRemixApp:i}=e;console.error(n);let a,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if($(n))return t.createElement(ce,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let t=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(t)}return t.createElement(ce,{title:"Application Error!",isOutsideRemixApp:i},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function ce(e){var n;let{title:i,renderScripts:a,isOutsideRemixApp:s,children:r}=e,{routeModules:o}=Zt();return null!==o.root&&void 0!==n&&n.Layout&&!s?r:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,i)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},r,a?t.createElement(re,null):null)))}var he="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{he&&(window.__reactRouterVersion="7.9.3")}catch(UE){}function de(e){let{basename:n,children:i,window:a}=e,s=t.useRef();null==s.current&&(s.current=g({window:a,v5Compat:!0}));let r=s.current,[o,l]=t.useState({action:r.action,location:r.location}),c=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>r.listen(c),[r,c]),t.createElement(Dt,{basename:n,children:i,location:o.location,navigationType:o.action,navigator:r})}var ue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pe=t.forwardRef(function(e,n){let a,{onClick:s,discover:r="render",prefetch:o="none",relative:c,reloadDocument:h,replace:d,state:p,target:f,to:m,preventScrollReset:g,viewTransition:x}=e,y=i(e,u),{basename:_}=t.useContext(st),k="string"===typeof m&&ue.test(m),S=!1;if("string"===typeof m&&k&&(a=m,he))try{let t=new URL(window.location.href),e=m.startsWith("//")?new URL(t.protocol+m):new URL(m),n=W(e.pathname,_);e.origin===t.origin&&null!=n?m=n+e.search+e.hash:S=!0}catch(UE){b(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let A=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(ct(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=t.useContext(st),{hash:s,pathname:r,search:o}=ft(e,{relative:n}),l=r;return"/"!==i&&(l="/"===r?i:G([i,r])),a.createHref({pathname:l,search:o,hash:s})}(m,{relative:c}),[M,E,C]=function(e,n){let i=t.useContext(Jt),[a,s]=t.useState(!1),[r,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:d,onTouchStart:u}=n,p=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let t=new IntersectionObserver(t=>{t.forEach(t=>{o(t.isIntersecting)})},{threshold:.5});return p.current&&t.observe(p.current),()=>{t.disconnect()}}},[e]),t.useEffect(()=>{if(a){let t=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(t)}}},[a]);let f=()=>{s(!0)},m=()=>{s(!1),o(!1)};return i?"intent"!==e?[r,p,{}]:[r,p,{onFocus:te(l,f),onBlur:te(c,m),onMouseEnter:te(h,f),onMouseLeave:te(d,m),onTouchStart:te(u,f)}]:[!1,p,{}]}(o,y),T=function(e){let{target:n,replace:i,state:a,preventScrollReset:s,relative:r,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=pt(),c=ht(),h=ft(e,{relative:r});return t.useCallback(t=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(t,n)){t.preventDefault();let n=void 0!==i?i:w(c)===w(h);l(e,{replace:n,state:a,preventScrollReset:s,relative:r,viewTransition:o})}},[c,l,h,i,a,n,e,s,r,o])}(m,{replace:d,state:p,target:f,preventScrollReset:g,relative:c,viewTransition:x});let P=t.createElement("a",l(l(l({},y),C),{},{href:a||A,onClick:S||h?s:function(t){s&&s(t),t.defaultPrevented||T(t)},ref:oe(n,E),target:f,"data-discover":k||"render"!==r?void 0:"true"}));return M&&!k?t.createElement(t.Fragment,null,P,t.createElement(ne,{page:A})):P});pe.displayName="Link";var fe=t.forwardRef(function(e,n){let{"aria-current":a="page",caseSensitive:s=!1,className:r="",end:o=!1,style:c,to:h,viewTransition:d,children:u}=e,f=i(e,p),m=ft(h,{relative:f.relative}),g=ht(),b=t.useContext(tt),{navigator:x,basename:y}=t.useContext(st),w=null!=b&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.useContext(nt);v(null!=i,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ve("useViewTransitionState"),s=ft(e,{relative:n});if(!i.isTransitioning)return!1;let r=W(i.currentLocation.pathname,a)||i.currentLocation.pathname,o=W(i.nextLocation.pathname,a)||i.nextLocation.pathname;return null!=j(s.pathname,o)||null!=j(s.pathname,r)}(m)&&!0===d,_=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,k=g.pathname,S=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(k=k.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&y&&(S=W(S,y)||S);const A="/"!==_&&_.endsWith("/")?_.length-1:_.length;let M,E=k===_||!o&&k.startsWith(_)&&"/"===k.charAt(A),C=null!=S&&(S===_||!o&&S.startsWith(_)&&"/"===S.charAt(_.length)),T={isActive:E,isPending:C,isTransitioning:w},P=E?a:void 0;M="function"===typeof r?r(T):[r,E?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof c?c(T):c;return t.createElement(pe,l(l({},f),{},{"aria-current":P,className:M,ref:n,style:D,to:h,viewTransition:d}),"function"===typeof u?u(T):u)});fe.displayName="NavLink";var me=t.forwardRef((e,n)=>{let{discover:a="render",fetcherKey:s,navigate:r,reloadDocument:o,replace:c,state:h,method:d=Nt,action:u,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:b}=e,x=i(e,f),y=ye(),_=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:i}=t.useContext(st),a=t.useContext(ot);v(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),r=l({},ft(e||".",{relative:n})),o=ht();if(null==e){r.search=o.search;let t=new URLSearchParams(r.search),e=t.getAll("index");if(e.some(t=>""===t)){t.delete("index"),e.filter(t=>t).forEach(e=>t.append("index",e));let n=t.toString();r.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index");"/"!==i&&(r.pathname="/"===r.pathname?i:G([i,r.pathname]));return w(r)}(u,{relative:m}),k="get"===d.toLowerCase()?"get":"post",S="string"===typeof u&&ue.test(u);return t.createElement("form",l(l({ref:n,method:k,action:_,onSubmit:o?p:t=>{if(p&&p(t),t.defaultPrevented)return;t.preventDefault();let e=t.nativeEvent.submitter,n=(null===e||void 0===e?void 0:e.getAttribute("formmethod"))||d;y(e||t.currentTarget,{fetcherKey:s,method:n,navigate:r,replace:c,state:h,relative:m,preventScrollReset:g,viewTransition:b})}},x),{},{"data-discover":S||"render"!==a?void 0:"true"}))});function ge(t){return"".concat(t," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ve(e){let n=t.useContext(Z);return v(n,ge(e)),n}me.displayName="Form";var be=0,xe=()=>"__".concat(String(++be),"__");function ye(){let{router:e}=ve("useSubmit"),{basename:n}=t.useContext(st),i=St("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:r,encType:o,formData:l,body:c}=Bt(t,n);if(!1===a.navigate){let t=a.fetcherKey||xe();await e.fetch(t,i,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||r,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||r,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:i,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,n,i])}var we=n(579);function _e(){const t=pt();return(0,we.jsxs)("div",{className:"container my-0",style:{height:"680px"},children:[(0,we.jsxs)("div",{id:"carouselExampleAutoplaying",className:"carousel slide","data-bs-ride":"carousel",children:[(0,we.jsxs)("div",{className:"carousel-inner",children:[(0,we.jsxs)("div",{className:"carousel-item active position-relative overlay-hover",children:[(0,we.jsx)("img",{src:"".concat("/React","/Wallpapers-HD-Forest.jpg"),className:"d-block w-100",alt:"Slide 1",style:{height:"680px",objectFit:"cover"}}),(0,we.jsx)("div",{className:"overlay-dark position-absolute top-0 start-0 w-100 h-100"}),(0,we.jsxs)("div",{className:"position-absolute top-50 start-50 translate-middle text-center",style:{color:"#fff",zIndex:2},children:[(0,we.jsx)("h3",{className:"mb-3 carousel-quote",children:'"Empowering communities, protecting our forests, and shaping a sustainable India \u2014 where data drives action and every citizen counts."'}),(0,we.jsx)("button",{onClick:e=>{e.preventDefault(),t("/login")},className:"btn btn-success btn-lg carousel-btn",children:"Explore Now"})]})]}),(0,we.jsx)("div",{className:"carousel-item",children:(0,we.jsx)("img",{src:"".concat("/React","/prime-minister-narendra-modi-with-his-cabinet-868576.jpg"),className:"d-block w-100",alt:"Slide 2",style:{height:"680px",objectFit:"cover"}})}),(0,we.jsx)("div",{className:"carousel-item",children:(0,we.jsx)("img",{src:"".concat("/React","/forest-dwellers-reuters15219.jpg"),className:"d-block w-100",alt:"Slide 3",style:{height:"680px",objectFit:"cover"}})})]}),(0,we.jsxs)("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"prev",children:[(0,we.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,we.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,we.jsxs)("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"next",children:[(0,we.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,we.jsx)("span",{className:"visually-hidden",children:"Next"})]})]}),(0,we.jsx)("style",{children:"\n        .overlay-dark {\n          background-color: rgba(0,0,0,0); /* default no dim */\n          transition: background-color 0.3s ease;\n          pointer-events: none;\n        }\n\n        /* dim the background image on hover of the carousel-item */\n        .overlay-hover:hover .overlay-dark {\n          background-color: rgba(0,0,0,0.4);\n        }\n\n        .carousel-quote {\n          transition: transform 0.3s, text-shadow 0.3s;\n        }\n\n        .carousel-quote:hover {\n          transform: scale(1.05);\n          text-shadow: 3px 3px 12px rgba(0,0,0,0.9);\n        }\n\n        .carousel-btn {\n          transition: transform 0.3s, box-shadow 0.3s;\n        }\n\n        .carousel-btn:hover {\n          transform: scale(1.05);\n          box-shadow: 0 8px 20px rgba(0,0,0,0.4);\n        }\n      "})]})}function ke(){const t=(t,e)=>{t.preventDefault();const n=document.getElementById(e);if(n){const t=80,e=n.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:e,behavior:"smooth"})}};return(0,we.jsxs)("header",{className:"d-flex flex-wrap justify-content-center py-3 border-bottom bg-dark",style:{position:"sticky",top:0,zIndex:1e3},children:[(0,we.jsx)("a",{href:"#home",onClick:e=>t(e,"home"),className:"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none",children:(0,we.jsx)("span",{className:"fs-3 mx-5 text-white",children:"\ud83c\udf33 FRALYTICS"})}),(0,we.jsxs)("ul",{className:"nav nav-pills",children:[(0,we.jsx)("li",{className:"nav-item",children:(0,we.jsx)("a",{href:"#home",onClick:e=>t(e,"home"),className:"nav-link text-white","aria-current":"page",children:"Home"})}),(0,we.jsx)("li",{className:"nav-item",children:(0,we.jsx)("a",{href:"#about",onClick:e=>t(e,"about"),className:"nav-link text-white",children:"About"})}),(0,we.jsx)("li",{className:"nav-item",children:(0,we.jsx)("a",{href:"#features",onClick:e=>t(e,"features"),className:"nav-link text-white",children:"Features"})}),(0,we.jsx)("li",{className:"nav-item",children:(0,we.jsx)("a",{href:"#contact",onClick:e=>t(e,"contact"),className:"nav-link text-white",children:"Contact Us"})}),(0,we.jsx)("li",{className:"nav-item",children:(0,we.jsx)("a",{href:"#faqs",onClick:e=>t(e,"faqs"),className:"nav-link text-white",children:"FAQs"})})]})]})}function Se(){return(0,we.jsx)(we.Fragment,{children:(0,we.jsxs)("div",{className:"container",style:{marginTop:"80px",marginBottom:"80px"},children:[(0,we.jsx)("h2",{className:"mb-5 text-center",children:"Features"}),(0,we.jsxs)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-5",children:[(0,we.jsxs)("div",{className:"col d-flex align-items-start",children:[(0,we.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"black",className:"bi bi-folder me-3",viewBox:"0 0 16 16",children:(0,we.jsx)("path",{d:"M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a2 2 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139q.323-.119.684-.12h5.396z"})}),(0,we.jsxs)("div",{children:[(0,we.jsx)("h5",{className:"fw-bold",children:"Document Collection"}),(0,we.jsx)("p",{children:"FRA claim forms, title deeds, and rejection records."})]})]}),(0,we.jsxs)("div",{className:"col d-flex align-items-start",children:[(0,we.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"black",className:"bi bi-table me-3",viewBox:"0 0 16 16",children:(0,we.jsx)("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm15 2h-4v3h4zm0 4h-4v3h4zm0 4h-4v3h3a1 1 0 0 0 1-1zm-5 3v-3H6v3zm-5 0v-3H1v2a1 1 0 0 0 1 1zm-4-4h4V8H1zm0-4h4V4H1zm5-3v3h4V4zm4 4H6v3h4z"})}),(0,we.jsxs)("div",{children:[(0,we.jsx)("h5",{className:"fw-bold",children:"Data Digitization"}),(0,we.jsx)("p",{children:"OCR + NER extracts key fields from scanned documents."})]})]}),(0,we.jsxs)("div",{className:"col d-flex align-items-start",children:[(0,we.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"black",className:"bi bi-map me-3",viewBox:"0 0 16 16",children:(0,we.jsx)("path",{fillRule:"evenodd",d:"M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.5.5 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103M10 1.91l-4-.8v12.98l4 .8zm1 12.98 4-.8V1.11l-4 .8zm-6-.8V1.11l-4 .8v12.98z"})}),(0,we.jsxs)("div",{children:[(0,we.jsx)("h5",{className:"fw-bold",children:"AI Asset Mapping"}),(0,we.jsx)("p",{children:"Maps land parcels, forests, and community resources."})]})]}),(0,we.jsxs)("div",{className:"col d-flex align-items-start",children:[(0,we.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"black",className:"bi bi-globe me-3",viewBox:"0 0 16 16",children:(0,we.jsx)("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m7.5-6.923c-.67.204-1.335.82-1.887 1.855A8 8 0 0 0 5.145 4H7.5zM4.09 4a9.3 9.3 0 0 1 .64-1.539 7 7 0 0 1 .597-.933A7.03 7.03 0 0 0 2.255 4zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a7 7 0 0 0-.656 2.5zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5zM8.5 5v2.5h2.99a12.5 12.5 0 0 0-.337-2.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5zM5.145 12q.208.58.468 1.068c.552 1.035 1.218 1.65 1.887 1.855V12zm.182 2.472a7 7 0 0 1-.597-.933A9.3 9.3 0 0 1 4.09 12H2.255a7 7 0 0 0 3.072 2.472M3.82 11a13.7 13.7 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5zm6.853 3.472A7 7 0 0 0 13.745 12H11.91a9.3 9.3 0 0 1-.64 1.539 7 7 0 0 1-.597.933M8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855q.26-.487.468-1.068zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.7 13.7 0 0 1-.312 2.5m2.802-3.5a7 7 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7 7 0 0 0-3.072-2.472c.218.284.418.598.597.933M10.855 4a8 8 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4z"})}),(0,we.jsxs)("div",{children:[(0,we.jsx)("h5",{className:"fw-bold",children:"WebGIS Dashboard"}),(0,we.jsx)("p",{children:"Interactive maps and GIS layers for claims and assets."})]})]}),(0,we.jsxs)("div",{className:"col d-flex align-items-start",children:[(0,we.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"black",className:"bi bi-speedometer2 me-3",viewBox:"0 0 16 16",children:(0,we.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4M3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707M2 10a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2A.5.5 0 0 1 2 10m3.5 4a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0M8 1a7 7 0 1 1 0 14A7 7 0 0 1 8 1m.5 7.5a.5.5 0 0 0-1 0v3a.5.5 0 0 0 1 0z"})}),(0,we.jsxs)("div",{children:[(0,we.jsx)("h5",{className:"fw-bold",children:"Decision Support"}),(0,we.jsx)("p",{children:"Prioritize claims, detect encroachments, and track status."})]})]}),(0,we.jsxs)("div",{className:"col d-flex align-items-start",children:[(0,we.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"black",className:"bi bi-clipboard2-data me-3",viewBox:"0 0 16 16",children:[(0,we.jsx)("path",{d:"M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5z"}),(0,we.jsx)("path",{d:"M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5z"}),(0,we.jsx)("path",{d:"M10 7a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zm-6 4a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm4-3a1 1 0 0 0-1 1v3a1 1 0 1 0 2 0V9a1 1 0 0 0-1-1"})]}),(0,we.jsxs)("div",{children:[(0,we.jsx)("h5",{className:"fw-bold",children:"Reports & Insights"}),(0,we.jsx)("p",{children:"Generate automated PDF/Excel reports and analytics."})]})]}),(0,we.jsxs)("div",{className:"col d-flex align-items-start",children:[(0,we.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"black",className:"bi bi-clipboard-check me-3",viewBox:"0 0 16 16",children:[(0,we.jsx)("path",{fillRule:"evenodd",d:"M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0"}),(0,we.jsx)("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"}),(0,we.jsx)("path",{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"})]}),(0,we.jsxs)("div",{children:[(0,we.jsx)("h5",{className:"fw-bold",children:"Claim Verification"}),(0,we.jsx)("p",{children:"AI-assisted validation of claims with maps and records."})]})]}),(0,we.jsxs)("div",{className:"col d-flex align-items-start",children:[(0,we.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"black",className:"bi bi-bag-check me-3",viewBox:"0 0 16 16",children:[(0,we.jsx)("path",{fillRule:"evenodd",d:"M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0"}),(0,we.jsx)("path",{d:"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1m3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"})]}),(0,we.jsxs)("div",{children:[(0,we.jsx)("h5",{className:"fw-bold",children:"Online Claim Submission"}),(0,we.jsx)("p",{children:"Submit claims online with document upload and map selection."})]})]})]})]})})}function Ae(){return(0,we.jsxs)(we.Fragment,{children:[(0,we.jsx)("div",{className:"container",style:{marginTop:"80px",marginBottom:"80px"},children:(0,we.jsxs)("div",{className:"jumbotron",children:[(0,we.jsx)("h1",{className:"text-center",children:"About Our Project"}),(0,we.jsx)("p",{className:"lead",children:"A comprehensive AI-powered platform that digitizes FRA records, creates an interactive FRA Atlas using satellite data, integrates WebGIS visualization, and builds a Decision Support System to recommend and layer Central Sector Schemes for FRA beneficiaries."}),(0,we.jsx)("hr",{className:"my-4"}),(0,we.jsx)("h5",{className:"fw-bold mb-4 text-center",children:"Why This Project Stands Out"}),(0,we.jsx)("div",{className:"row g-4",children:[{title:"Social Justice",desc:"Addresses historical injustice for tribal communities",color:"#28a745"},{title:"Climate Action",desc:"Strengthens community-led forest conservation",color:"#20c997"},{title:"Tech Innovation",desc:"Blends law, AI, GIS, and governance",color:"#0dcaf0"},{title:"Empowerment",desc:"Puts Gram Sabhas at the center of governance",color:"#ffc107"},{title:"Transparency",desc:"Digitizes legacy records for accountability",color:"#fd7e14"},{title:"SDG Alignment",desc:"Supports multiple UN sustainability goals",color:"#6f42c1"}].map((t,e)=>(0,we.jsx)("div",{className:"col-md-4",children:(0,we.jsxs)("div",{className:"d-flex align-items-start p-3 rounded-3 shadow-sm h-100",style:{background:"#f8f9fa",transition:"transform 0.3s, box-shadow 0.3s",cursor:"default"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-5px)",t.currentTarget.style.boxShadow="0 8px 20px rgba(0,0,0,0.15)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)"},children:[(0,we.jsx)("span",{className:"badge me-3 mt-1",style:{background:"linear-gradient(135deg, ".concat(t.color,", #ffffff)"),color:"#fff",fontSize:"1rem",width:"2.3rem",height:"2.3rem",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},children:e+1}),(0,we.jsxs)("div",{children:[(0,we.jsx)("h6",{className:"mb-1",style:{fontSize:"1.25rem",fontWeight:"600",color:"#2c3e50"},children:t.title}),(0,we.jsx)("p",{className:"mb-0",style:{fontSize:"1.05rem",lineHeight:"1.6",color:"#495057"},children:t.desc})]})]})},e))})]})}),(0,we.jsx)("div",{className:"container mt-3 my-3",children:(0,we.jsx)("div",{className:"card shadow-lg border-0 mb-5 rounded-4",style:{background:"linear-gradient(135deg, #28a745, #85e085)",color:"white"},children:(0,we.jsxs)("div",{className:"card-body p-5",children:[(0,we.jsx)("h3",{className:"fw-bold mb-4 text-center",children:"Impact & Reach"}),(0,we.jsxs)("div",{className:"row text-center",children:[(0,we.jsxs)("div",{className:"col-md-3 col-6 mb-4",children:[(0,we.jsx)("h2",{className:"fw-bold display-6",children:"200M+"}),(0,we.jsx)("p",{className:"mb-0 small",children:"Forest Dwellers"})]}),(0,we.jsxs)("div",{className:"col-md-3 col-6 mb-4",children:[(0,we.jsx)("h2",{className:"fw-bold display-6",children:"4 States"}),(0,we.jsx)("p",{className:"mb-0 small",children:"Initial Focus"})]}),(0,we.jsxs)("div",{className:"col-md-3 col-6 mb-4",children:[(0,we.jsx)("h2",{className:"fw-bold display-6",children:"3 Rights"}),(0,we.jsx)("p",{className:"mb-0 small",children:"IFR, CR, CFR"})]}),(0,we.jsxs)("div",{className:"col-md-3 col-6 mb-4",children:[(0,we.jsx)("h2",{className:"fw-bold display-6",children:"Pan-India"}),(0,we.jsx)("p",{className:"mb-0 small",children:"Scalable Model"})]})]})]})})})]})}function Me(){const[e,n]=(0,t.useState)({name:"",email:"",message:""}),[i,a]=(0,t.useState)({}),[s,r]=(0,t.useState)(!1),o=t=>{const{name:e,value:s}=t.target;n(t=>l(l({},t),{},{[e]:s})),i[e]&&a(t=>l(l({},t),{},{[e]:""}))};return(0,we.jsx)(we.Fragment,{children:(0,we.jsxs)("div",{className:"container my-5 bordered-container",style:{maxWidth:"1140px"},children:[(0,we.jsx)("style",{children:"\n        .contact-section h2 {\n          font-weight: 600;\n          color: #2c3e50;\n        }\n        \n        .contact-form-wrapper {\n          background: #ffffff;\n          border-radius: 8px;\n          padding: 30px;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n        }\n        \n        .contact-form-wrapper .form-label {\n          font-weight: 500;\n          color: #495057;\n          margin-bottom: 8px;\n        }\n        \n        .contact-form-wrapper .form-control {\n          border: 1px solid #dce0e4;\n          border-radius: 6px;\n          padding: 10px 14px;\n          transition: border-color 0.2s ease;\n        }\n        \n        .contact-form-wrapper .form-control:focus {\n          border-color: #28a745;\n          box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.15);\n          outline: none;\n        }\n        \n        .contact-form-wrapper .btn-primary {\n          background-color: #28a745;\n          border-color: #28a745;\n          padding: 12px;\n          font-weight: 500;\n          transition: background-color 0.2s ease;\n        }\n        \n        .contact-form-wrapper .btn-primary:hover {\n          background-color: #218838;\n          border-color: #1e7e34;\n        }\n        \n        .map-wrapper {\n          border-radius: 8px;\n          overflow: hidden;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n        }\n        \n        .map-wrapper iframe {\n          display: block;\n        }\n        \n        .alert-success {\n          border-radius: 6px;\n          border-left: 4px solid #28a745;\n        }\n        .bordered-container {\n        border: 3px solid transparent;\n        border-radius: 10px;\n        padding: 20px;\n        background: linear-gradient(white, white) padding-box,\n                    linear-gradient(90deg, #28a745, #00ff88, #28a745) border-box;\n        }\n\n      "}),(0,we.jsxs)("div",{className:"contact-section",children:[(0,we.jsx)("h2",{className:"text-center mb-4",children:"Contact Us"}),(0,we.jsxs)("div",{className:"row",children:[(0,we.jsx)("div",{className:"col-md-6",children:(0,we.jsxs)("div",{className:"contact-form-wrapper",children:[s&&(0,we.jsx)("div",{className:"alert alert-success mb-3",children:"Your message has been sent successfully!"}),(0,we.jsxs)("div",{children:[(0,we.jsxs)("div",{className:"mb-3",children:[(0,we.jsx)("label",{className:"form-label",children:"Name *"}),(0,we.jsx)("input",{type:"text",className:"form-control ".concat(i.name?"is-invalid":""),name:"name",value:e.name,onChange:o,placeholder:"Enter your name"}),i.name&&(0,we.jsx)("div",{className:"invalid-feedback d-block",children:i.name})]}),(0,we.jsxs)("div",{className:"mb-3",children:[(0,we.jsx)("label",{className:"form-label",children:"Email *"}),(0,we.jsx)("input",{type:"email",className:"form-control ".concat(i.email?"is-invalid":""),name:"email",value:e.email,onChange:o,placeholder:"Enter your email"}),i.email&&(0,we.jsx)("div",{className:"invalid-feedback d-block",children:i.email})]}),(0,we.jsxs)("div",{className:"mb-3",children:[(0,we.jsx)("label",{className:"form-label",children:"Message *"}),(0,we.jsx)("textarea",{className:"form-control ".concat(i.message?"is-invalid":""),name:"message",rows:"4",value:e.message,onChange:o,placeholder:"Type your message here..."}),i.message&&(0,we.jsx)("div",{className:"invalid-feedback d-block",children:i.message})]}),(0,we.jsx)("button",{type:"button",onClick:t=>{t.preventDefault();const i=(()=>{const t={};return e.name.trim()||(t.name="Name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email is invalid"):t.email="Email is required",e.message.trim()||(t.message="Message is required"),t})();if(Object.keys(i).length>0)return a(i);console.log("Form submitted:",e),r(!0),n({name:"",email:"",message:""}),setTimeout(()=>r(!1),3e3)},className:"btn btn-primary w-100",children:"Send Message"})]})]})}),(0,we.jsx)("div",{className:"col-md-6 mt-4 mt-md-0",children:(0,we.jsx)("div",{className:"map-wrapper",children:(0,we.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m12!1m8!1m3!1d3782.9446040507282!2d73.8660085!3d18.5314053!3m2!1i1024!2i768!4f13.1!2m1!1saissms%20ioit%20location!5e0!3m2!1sen!2sin!4v1759347671824!5m2!1sen!2sin",width:"100%",height:"450",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"aissms-ioit-map"})})})]})]})]})})}function Ee(){return(0,we.jsxs)(we.Fragment,{children:[(0,we.jsxs)("div",{className:"container",style:{maxWidth:"900px",marginTop:"80px",marginBottom:"80px"},children:[(0,we.jsx)("h2",{className:"text-center mb-4",style:{color:"#28a745"},children:"Frequently Asked Questions"}),(0,we.jsx)("div",{className:"accordion",id:"accordionFAQ",children:[{question:"What is the main purpose of this project?",answer:"This platform digitizes historical FRA records, visualizes forest rights data on an interactive map, and helps Gram Sabhas and authorities make informed decisions using AI-powered recommendations for central sector schemes."},{question:"Who can use this platform?",answer:"The platform is designed for tribal communities, Gram Sabhas, local administrators, and government officials involved in forest rights management and scheme allocation."},{question:"What data does the platform use?",answer:"It uses historical FRA records, satellite imagery, forest boundary data, and government scheme information to generate visualizations and recommendations."},{question:"How does the FRA Atlas work?",answer:"The FRA Atlas is an interactive map that displays land claims, forest rights, and community areas. Users can explore specific villages, visualize historical claims, and access related metadata."},{question:"Is the data secure?",answer:"Yes, all sensitive data is securely stored and accessed only by authorized personnel. The platform follows best practices for data privacy and security."},{question:"How does the Decision Support System (DSS) help?",answer:"The DSS analyzes community data and overlays relevant central sector schemes to suggest which programs best fit a community\u2019s needs, enabling better planning and governance."},{question:"How can I provide feedback or report an issue?",answer:"You can contact the project team through the 'Contact Us' form on the website. Your feedback helps improve the platform."}].map((t,e)=>(0,we.jsxs)("div",{className:"accordion-item mb-3 shadow-sm rounded-3",children:[(0,we.jsx)("h2",{className:"accordion-header",id:"heading".concat(e),children:(0,we.jsx)("button",{className:"accordion-button ".concat(0!==e?"collapsed":""),type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse".concat(e),"aria-expanded":0===e?"true":"false","aria-controls":"collapse".concat(e),style:{background:"#f8f9fa",borderLeft:"4px solid #28a745",fontWeight:600,fontSize:"1.1rem",color:"#2c3e50",transition:"all 0.3s ease"},children:t.question})}),(0,we.jsx)("div",{id:"collapse".concat(e),className:"accordion-collapse collapse ".concat(0===e?"show":""),"aria-labelledby":"heading".concat(e),"data-bs-parent":"#accordionFAQ",children:(0,we.jsx)("div",{className:"accordion-body",style:{background:"#f0fff0",color:"#495057",fontSize:"1rem",padding:"1.25rem"},children:t.answer})})]},e))})]}),(0,we.jsx)("footer",{className:"d-flex flex-wrap justify-content-between align-items-center py-3 border-top bg-dark text-white",children:(0,we.jsxs)("div",{className:"col-md-4 d-flex align-items-center",children:[(0,we.jsx)("a",{href:"/",className:"text-white text-decoration-none lh-1 me-2","aria-label":"Bootstrap",children:(0,we.jsx)("svg",{className:"bi",width:"30",height:"24","aria-hidden":"true",children:(0,we.jsx)("use",{xlinkHref:"#bootstrap"})})}),(0,we.jsx)("span",{className:"text-white",children:"\xa9 2025 FRAlytics"})]})}),(0,we.jsx)("style",{children:"\n        .accordion-button:hover {\n          border-left-color: #218838 !important;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n        }\n      "})]})}function Ce(){const e=pt(),[n,i]=(0,t.useState)(!1),[a,s]=(0,t.useState)("Ministry Official");return(0,we.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #2d5016 0%, #1a3409 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",position:"relative",overflow:"hidden"},children:[(0,we.jsx)("div",{style:{position:"absolute",inset:0,backgroundImage:"url(https://images.unsplash.com/photo-1511497584788-876760111969?w=1920)",backgroundSize:"cover",backgroundPosition:"center",opacity:"0.2",zIndex:0}}),(0,we.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"24px",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.3)",maxWidth:"1000px",width:"100%",position:"relative",zIndex:1,border:"1px solid rgba(255, 255, 255, 0.2)",overflow:"hidden",display:"flex",minHeight:"470px"},children:[(0,we.jsxs)("div",{style:{flex:"1",background:"linear-gradient(135deg, rgba(45, 80, 22, 0.9) 0%, rgba(26, 52, 9, 0.9) 100%)",padding:"35px 25px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"hidden"},children:[(0,we.jsx)("div",{style:{position:"absolute",inset:0,backgroundImage:"url(https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800)",backgroundSize:"cover",backgroundPosition:"center",opacity:"0.3",zIndex:0}}),(0,we.jsxs)("div",{style:{position:"relative",zIndex:1,textAlign:"center"},children:[(0,we.jsx)("h1",{style:{fontSize:"38px",fontWeight:"800",color:"#fff",marginBottom:"18px"},children:"Fralytics"}),(0,we.jsx)("p",{style:{color:"#e0e0e0",fontSize:"17px",lineHeight:"1.6",maxWidth:"300px"},children:"An eco-friendly analytics platform to monitor the implementation of Forest Right Act, 2006."})]})]}),(0,we.jsxs)("div",{style:{flex:"1",background:"rgba(255, 255, 255, 0.98)",padding:"35px 25px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,we.jsxs)("div",{style:{marginBottom:"28px"},children:[(0,we.jsx)("h2",{style:{fontSize:"26px",fontWeight:"700",color:"#2d5016",marginBottom:"6px"},children:n?"Create Account":"Welcome Back"}),(0,we.jsx)("p",{style:{color:"#666",fontSize:"15px",margin:0},children:n?"Join us in protecting our forests":"Sign in to continue"})]}),(0,we.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e("/dashboard",{state:{role:"Ministry Official"}})},children:[n&&(0,we.jsxs)("div",{style:{marginBottom:"14px"},children:[(0,we.jsx)("label",{style:{display:"block",marginBottom:"6px",color:"#333",fontSize:"15px",fontWeight:"500"},children:"Full Name"}),(0,we.jsx)("input",{type:"text",placeholder:"Enter your full name",required:!0,style:{padding:"11px 13px",borderRadius:"10px",border:"2px solid #e0e0e0",width:"100%",fontSize:"15px"}})]}),(0,we.jsxs)("div",{style:{marginBottom:"14px"},children:[(0,we.jsx)("label",{style:{display:"block",marginBottom:"6px",color:"#333",fontSize:"15px",fontWeight:"500"},children:"Email Address"}),(0,we.jsx)("input",{type:"email",placeholder:"name@example.com",required:!0,style:{padding:"11px 13px",borderRadius:"10px",border:"2px solid #e0e0e0",width:"100%",fontSize:"15px"}})]}),(0,we.jsxs)("div",{style:{marginBottom:"14px"},children:[(0,we.jsx)("label",{style:{display:"block",marginBottom:"6px",color:"#333",fontSize:"15px",fontWeight:"500"},children:"Password"}),(0,we.jsx)("input",{type:"password",placeholder:"Enter your password",required:!0,style:{padding:"11px 13px",borderRadius:"10px",border:"2px solid #e0e0e0",width:"100%",fontSize:"15px"}})]}),!n&&(0,we.jsxs)("div",{className:"form-check",style:{marginBottom:"18px"},children:[(0,we.jsx)("input",{className:"form-check-input",type:"checkbox",id:"rememberMe"}),(0,we.jsx)("label",{htmlFor:"rememberMe",style:{color:"#666",fontSize:"15px"},children:"Remember me"})]}),(0,we.jsx)("button",{type:"submit",style:{width:"100%",padding:"11px",background:"linear-gradient(135deg, #4caf50 0%, #2d5016 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:n?"Create Account":"Sign In"}),(0,we.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,we.jsx)("label",{style:{fontSize:"15px",fontWeight:"500",color:"#333"},children:"View as (Demo Role)"}),(0,we.jsxs)("select",{value:a,onChange:t=>s(t.target.value),style:{width:"100%",padding:"9px",borderRadius:"10px",border:"2px solid #4caf50",fontSize:"15px",marginTop:"5px"},children:[(0,we.jsx)("option",{children:"Ministry Official"}),(0,we.jsx)("option",{children:"State Official"}),(0,we.jsx)("option",{children:"District Official"}),(0,we.jsx)("option",{children:"Claimant"})]})]}),(0,we.jsx)("button",{onClick:t=>{t.preventDefault(),e("/dashboard",{state:{role:a}})},type:"button",style:{width:"100%",padding:"11px",background:"transparent",color:"#4caf50",border:"2px solid #4caf50",borderRadius:"10px",fontSize:"16px",fontWeight:"600"},children:"Try as Demo User"}),(0,we.jsxs)("div",{style:{textAlign:"center",paddingTop:"14px",borderTop:"1px solid #e0e0e0"},children:[(0,we.jsx)("p",{style:{color:"#666",fontSize:"15px"},children:n?"Already have an account?":"Don't have an account?"}),(0,we.jsx)("button",{type:"button",onClick:()=>i(!n),style:{background:"none",border:"none",color:"#4caf50",fontSize:"16px",fontWeight:"600",textDecoration:"underline"},children:n?"Sign In":"Create Account"})]})]}),(0,we.jsx)("p",{style:{textAlign:"center",color:"#999",fontSize:"14px",marginTop:"18px"},children:"\xa9 2025 FRALYTICS. All rights reserved."})]})]})]})}function Te(t){let{role:e}=t;return(0,we.jsxs)("nav",{style:{width:"100%",background:"#2e2c2cff",padding:"12px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",color:"#fff"},children:[(0,we.jsx)("div",{style:{fontSize:"25px",fontWeight:"700"},children:"Fralytics"}),(0,we.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[(0,we.jsx)("span",{style:{fontSize:"15px"},children:"Logged in as:"}),(0,we.jsx)("span",{style:{fontWeight:"600",fontSize:"16px",background:"rgba(255,255,255,0.2)",padding:"6px 12px",borderRadius:"12px"},children:e}),(0,we.jsx)("button",{style:{background:"transparent",border:"1px solid #fff",color:"#fff",padding:"6px 12px",borderRadius:"8px",cursor:"pointer"},onClick:()=>window.location.href="/login",children:"Logout"})]})]})}function Pe(e){let{userRole:n,userName:i}=e;const[a,s]=(0,t.useState)(!1),[r,o]=(0,t.useState)({name:"Demo User",role:"Visitor"}),l=ht();(0,t.useEffect)(()=>{const t=localStorage.getItem("userName")||i,e=localStorage.getItem("userRole")||n;o({name:t||"Demo User",role:e||"Visitor"}),localStorage.setItem("userName",t||"Demo User"),localStorage.setItem("userRole",e||"Visitor")},[i,n]);const c={width:a?"80px":"280px",transition:"width 0.3s ease-in-out",minHeight:"100vh",backgroundColor:"#1a1a1a",color:"#fff",overflowX:"hidden",flexShrink:0},h=a?{display:"none"}:{},d=24,u=1.5,p=[{name:"Dashboard",path:"/dashboard",icon:(0,we.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,fill:"none",viewBox:"0 0 16 16",stroke:"currentColor",strokeWidth:u,children:[(0,we.jsx)("rect",{x:"1.5",y:"1.5",width:"5",height:"5"}),(0,we.jsx)("rect",{x:"9.5",y:"1.5",width:"5",height:"5"}),(0,we.jsx)("rect",{x:"1.5",y:"9.5",width:"5",height:"5"}),(0,we.jsx)("rect",{x:"9.5",y:"9.5",width:"5",height:"5"})]})},{name:"Digitization",path:"/digitization",icon:(0,we.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,fill:"none",viewBox:"0 0 16 16",stroke:"currentColor",strokeWidth:u,children:[(0,we.jsx)("rect",{x:"3",y:"1.5",width:"10",height:"13",rx:"1"}),(0,we.jsx)("line",{x1:"4",y1:"4",x2:"12",y2:"4"}),(0,we.jsx)("line",{x1:"4",y1:"7",x2:"12",y2:"7"}),(0,we.jsx)("line",{x1:"4",y1:"10",x2:"12",y2:"10"})]})},{name:"WebGIS Integration",path:"/webgis",icon:(0,we.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,fill:"none",viewBox:"0 0 16 16",stroke:"currentColor",strokeWidth:u,children:[(0,we.jsx)("polygon",{points:"1,2 7,1 13,2 13,13 7,14 1,13"}),(0,we.jsx)("line",{x1:"7",y1:"1",x2:"7",y2:"14"}),(0,we.jsx)("line",{x1:"1",y1:"7",x2:"13",y2:"7"})]})},{name:"Decision Support System",path:"/dss",icon:(0,we.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,fill:"none",viewBox:"0 0 16 16",stroke:"currentColor",strokeWidth:u,children:[(0,we.jsx)("circle",{cx:"8",cy:"6",r:"4"}),(0,we.jsx)("line",{x1:"4",y1:"6",x2:"12",y2:"6"}),(0,we.jsx)("line",{x1:"4",y1:"8",x2:"12",y2:"8"}),(0,we.jsx)("line",{x1:"4",y1:"10",x2:"12",y2:"10"})]})},{name:"Online Claim Submission",path:"/claims",icon:(0,we.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,fill:"none",viewBox:"0 0 16 16",stroke:"currentColor",strokeWidth:u,children:[(0,we.jsx)("rect",{x:"2",y:"3",width:"12",height:"10",rx:"1"}),(0,we.jsx)("path",{d:"M4.5 8.5l3 3 5-5"})]})},{name:"Settings",path:"/settings",icon:(0,we.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,fill:"none",viewBox:"0 0 16 16",stroke:"currentColor",strokeWidth:u,children:[(0,we.jsx)("circle",{cx:"8",cy:"8",r:"7"}),(0,we.jsx)("circle",{cx:"8",cy:"8",r:"3"})]})}];return(0,we.jsxs)("div",{style:c,className:"d-flex flex-column p-3",children:[(0,we.jsxs)("div",{className:"d-flex align-items-center mb-3",style:a?{justifyContent:"center"}:{justifyContent:"space-between"},children:[!a&&(0,we.jsx)("h5",{className:"text-white m-0",children:"FRAlytics"}),(0,we.jsx)("button",{className:"btn btn-sm",onClick:()=>s(!a),style:{color:"#ccc",borderColor:"#ccc"},children:(0,we.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,fill:"none",viewBox:"0 0 16 16",stroke:"currentColor",strokeWidth:u,strokeLinecap:"round",children:(0,we.jsx)("path",{d:"M2 4h12M2 8h12M2 12h12"})})})]}),(0,we.jsx)("hr",{style:{borderColor:"#444"}})," ",(0,we.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:p.map(t=>(0,we.jsx)("li",{className:"nav-item mb-1",children:(0,we.jsxs)(pe,{to:t.path,className:"nav-link text-white d-flex align-items-center \n                ".concat(l.pathname.startsWith(t.path)?"active bg-primary":"","\n                ").concat(a?"justify-content-center p-3":"px-3 py-2","\n              "),children:[t.icon,(0,we.jsx)("span",{style:h,className:"ms-2",children:t.name})]})},t.name))}),(0,we.jsx)("hr",{style:{borderColor:"#444"}}),(0,we.jsxs)("div",{className:"dropdown mt-auto",children:[(0,we.jsxs)("a",{href:"/",className:"d-flex align-items-center text-white text-decoration-none dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:[(0,we.jsx)("img",{src:"https://github.com/mdo.png",alt:"",width:"32",height:"32",className:"rounded-circle ".concat(a?"":"me-2")}),(0,we.jsxs)("div",{style:h,children:[(0,we.jsx)("strong",{children:r.name}),(0,we.jsx)("div",{style:{fontSize:"12px",color:"#ccc"},children:r.role})]})]}),(0,we.jsxs)("ul",{className:"dropdown-menu dropdown-menu-dark text-small shadow",children:[(0,we.jsx)("li",{children:(0,we.jsx)(pe,{className:"dropdown-item",to:"/settings",children:"Settings"})}),(0,we.jsx)("li",{children:(0,we.jsx)(pe,{className:"dropdown-item",to:"/profile",children:"Profile"})}),(0,we.jsx)("li",{children:(0,we.jsx)("hr",{className:"dropdown-divider"})}),(0,we.jsx)("li",{children:(0,we.jsx)(pe,{className:"dropdown-item",to:"/logout",children:"Sign out"})})]})]})]})}const De={"Madhya Pradesh":{individualClaims:585326,communityClaims:42187,totalClaims:627513,individualTitles:266901,communityTitles:27976,totalTitles:294877,claimsRejected:322407,claimsDisposed:617284,disposalRate:98.37,titleDistributionRate:46.99,population:8.5,tribalPopulation:15.3,performance:"Good"},Tripura:{individualClaims:200557,communityClaims:164,totalClaims:200721,individualTitles:127931,communityTitles:101,totalTitles:128032,claimsRejected:68848,claimsDisposed:196880,disposalRate:98.09,titleDistributionRate:63.79,population:4.2,tribalPopulation:31.8,performance:"Excellent"},Odisha:{individualClaims:732530,communityClaims:35843,totalClaims:768373,individualTitles:463129,communityTitles:8990,totalTitles:472119,claimsRejected:146340,claimsDisposed:618459,disposalRate:80.49,titleDistributionRate:61.44,population:4.7,tribalPopulation:22.8,performance:"Good"},Telangana:{individualClaims:651822,communityClaims:3427,totalClaims:655249,individualTitles:230735,communityTitles:721,totalTitles:231456,claimsRejected:94426,claimsDisposed:325882,disposalRate:49.73,titleDistributionRate:35.32,population:3.5,tribalPopulation:9.3,performance:"Needs Improvement"}},Re=85.07,Le=48.74,Ne=Object.keys(De).map(t=>({name:t,claims:De[t].totalClaims,titles:De[t].totalTitles,disposalRate:De[t].disposalRate,titleRate:De[t].titleDistributionRate,performance:De[t].performance}));function Oe(t){return t+.5|0}const Ie=(t,e,n)=>Math.max(Math.min(t,n),e);function Fe(t){return Ie(Oe(2.55*t),0,255)}function je(t){return Ie(Oe(255*t),0,255)}function ze(t){return Ie(Oe(t/2.55)/100,0,1)}function Be(t){return Ie(Oe(100*t),0,100)}const We={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},He=[..."0123456789ABCDEF"],Ve=t=>He[15&t],Ue=t=>He[(240&t)>>4]+He[15&t],qe=t=>(240&t)>>4===(15&t);function Ge(t){var e=(t=>qe(t.r)&&qe(t.g)&&qe(t.b)&&qe(t.a))(t)?Ve:Ue;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Ye=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Xe(t,e,n){const i=e*Math.min(n,1-n),a=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(a-3,9-a,1),-1)};return[a(0),a(8),a(4)]}function Ke(t,e,n){const i=function(i){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(a,4-a,1),0)};return[i(5),i(3),i(1)]}function $e(t,e,n){const i=Xe(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)i[a]*=1-e-n,i[a]+=e;return i}function Qe(t){const e=t.r/255,n=t.g/255,i=t.b/255,a=Math.max(e,n,i),s=Math.min(e,n,i),r=(a+s)/2;let o,l,c;return a!==s&&(c=a-s,l=r>.5?c/(2-a-s):c/(a+s),o=function(t,e,n,i,a){return t===a?(e-n)/i+(e<n?6:0):e===a?(n-t)/i+2:(t-e)/i+4}(e,n,i,c,a),o=60*o+.5),[0|o,l||0,r]}function Je(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(je)}function Ze(t,e,n){return Je(Xe,t,e,n)}function tn(t){return(t%360+360)%360}function en(t){const e=Ye.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?Fe(+e[5]):je(+e[5]));const a=tn(+e[2]),s=+e[3]/100,r=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Je($e,t,e,n)}(a,s,r):"hsv"===e[1]?function(t,e,n){return Je(Ke,t,e,n)}(a,s,r):Ze(a,s,r),{r:n[0],g:n[1],b:n[2],a:i}}const nn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},an={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let sn;function rn(t){sn||(sn=function(){const t={},e=Object.keys(an),n=Object.keys(nn);let i,a,s,r,o;for(i=0;i<e.length;i++){for(r=o=e[i],a=0;a<n.length;a++)s=n[a],o=o.replace(s,nn[s]);s=parseInt(an[r],16),t[o]=[s>>16&255,s>>8&255,255&s]}return t}(),sn.transparent=[0,0,0,0]);const e=sn[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const on=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const ln=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,cn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function hn(t,e,n){if(t){let i=Qe(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=Ze(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function dn(t,e){return t?Object.assign(e||{},t):t}function un(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=je(t[3]))):(e=dn(t,{r:0,g:0,b:0,a:1})).a=je(e.a),e}function pn(t){return"r"===t.charAt(0)?function(t){const e=on.exec(t);let n,i,a,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?Fe(t):Ie(255*t,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?Fe(n):Ie(n,0,255)),i=255&(e[4]?Fe(i):Ie(i,0,255)),a=255&(e[6]?Fe(a):Ie(a,0,255)),{r:n,g:i,b:a,a:s}}}(t):en(t)}class fn{constructor(t){if(t instanceof fn)return t;const e=typeof t;let n;"object"===e?n=un(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*We[t[1]],g:255&17*We[t[2]],b:255&17*We[t[3]],a:5===n?17*We[t[4]]:255}:7!==n&&9!==n||(e={r:We[t[1]]<<4|We[t[2]],g:We[t[3]]<<4|We[t[4]],b:We[t[5]]<<4|We[t[6]],a:9===n?We[t[7]]<<4|We[t[8]]:255})),e}(t)||rn(t)||pn(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=dn(this._rgb);return t&&(t.a=ze(t.a)),t}set rgb(t){this._rgb=un(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(ze(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):void 0;var t}hexString(){return this._valid?Ge(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=Qe(t),n=e[0],i=Be(e[1]),a=Be(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(a,"%, ").concat(ze(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(a,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let a;const s=e===a?.5:e,r=2*s-1,o=n.a-i.a,l=((r*o===-1?r:(r+o)/(1+r*o))+1)/2;a=1-l,n.r=255&l*n.r+a*i.r+.5,n.g=255&l*n.g+a*i.g+.5,n.b=255&l*n.b+a*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=cn(ze(t.r)),a=cn(ze(t.g)),s=cn(ze(t.b));return{r:je(ln(i+n*(cn(ze(e.r))-i))),g:je(ln(a+n*(cn(ze(e.g))-a))),b:je(ln(s+n*(cn(ze(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new fn(this.rgb)}alpha(t){return this._rgb.a=je(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Oe(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return hn(this._rgb,2,t),this}darken(t){return hn(this._rgb,2,-t),this}saturate(t){return hn(this._rgb,1,t),this}desaturate(t){return hn(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Qe(t);n[0]=tn(n[0]+e),n=Ze(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function mn(){}const gn=(()=>{let t=0;return()=>t++})();function vn(t){return null===t||void 0===t}function bn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function xn(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function yn(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function wn(t,e){return yn(t)?t:e}function _n(t,e){return"undefined"===typeof t?e:t}const kn=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Sn(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function An(t,e,n,i){let a,s,r;if(bn(t))if(s=t.length,i)for(a=s-1;a>=0;a--)e.call(n,t[a],a);else for(a=0;a<s;a++)e.call(n,t[a],a);else if(xn(t))for(r=Object.keys(t),s=r.length,a=0;a<s;a++)e.call(n,t[r[a]],r[a])}function Mn(t,e){let n,i,a,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=t[n],s=e[n],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function En(t){if(bn(t))return t.map(En);if(xn(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let a=0;for(;a<i;++a)e[n[a]]=En(t[n[a]]);return e}return t}function Cn(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Tn(t,e,n,i){if(!Cn(t))return;const a=e[t],s=n[t];xn(a)&&xn(s)?Pn(a,s,i):e[t]=En(s)}function Pn(t,e,n){const i=bn(e)?e:[e],a=i.length;if(!xn(t))return t;const s=(n=n||{}).merger||Tn;let r;for(let o=0;o<a;++o){if(r=i[o],!xn(r))continue;const e=Object.keys(r);for(let i=0,a=e.length;i<a;++i)s(e[i],t,r,n)}return t}function Dn(t,e){return Pn(t,e,{merger:Rn})}function Rn(t,e,n){if(!Cn(t))return;const i=e[t],a=n[t];xn(i)&&xn(a)?Dn(i,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=En(a))}const Ln={"":t=>t,x:t=>t.x,y:t=>t.y};function Nn(t,e){const n=Ln[e]||(Ln[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const a of e)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function On(t){return t.charAt(0).toUpperCase()+t.slice(1)}const In=t=>"undefined"!==typeof t,Fn=t=>"function"===typeof t,jn=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const zn=Math.PI,Bn=2*zn,Wn=Bn+zn,Hn=Number.POSITIVE_INFINITY,Vn=zn/180,Un=zn/2,qn=zn/4,Gn=2*zn/3,Yn=Math.log10,Xn=Math.sign;function Kn(t,e,n){return Math.abs(t-e)<n}function $n(t){const e=Math.round(t);t=Kn(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Yn(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Qn(t){return!function(t){return"symbol"===typeof t||"object"===typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Jn(t,e,n){let i,a,s;for(i=0,a=t.length;i<a;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Zn(t){return t*(zn/180)}function ti(t){return t*(180/zn)}function ei(t){if(!yn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function ni(t,e){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*zn&&(s+=Bn),{angle:s,distance:a}}function ii(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ai(t,e){return(t-e+Wn)%Bn-zn}function si(t){return(t%Bn+Bn)%Bn}function ri(t,e,n,i){const a=si(t),s=si(e),r=si(n),o=si(s-a),l=si(r-a),c=si(a-s),h=si(a-r);return a===s||a===r||i&&s===r||o>l&&c<h}function oi(t,e,n){return Math.max(e,Math.min(n,t))}function li(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function ci(t,e,n){n=n||(n=>t[n]<e);let i,a=t.length-1,s=0;for(;a-s>1;)i=s+a>>1,n(i)?s=i:a=i;return{lo:s,hi:a}}const hi=(t,e,n,i)=>ci(t,n,i?i=>{const a=t[i][e];return a<n||a===n&&t[i+1][e]===n}:i=>t[i][e]<n),di=(t,e,n)=>ci(t,n,i=>t[i][e]>=n);const ui=["push","pop","shift","splice","unshift"];function pi(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,a=i.indexOf(e);-1!==a&&i.splice(a,1),i.length>0||(ui.forEach(e=>{delete t[e]}),delete t._chartjs)}function fi(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const mi="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function gi(t,e){let n=[],i=!1;return function(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];n=s,i||(i=!0,mi.call(window,()=>{i=!1,t.apply(e,n)}))}}const vi=t=>"start"===t?"left":"end"===t?"right":"center",bi=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function xi(t,e,n){const i=e.length;let a=0,s=i;if(t._sorted){const{iScale:r,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=r.axis,{min:d,max:u,minDefined:p,maxDefined:f}=r.getUserBounds();if(p){if(a=Math.min(hi(l,h,d).lo,n?i:hi(e,h,r.getPixelForValue(d)).lo),c){const t=l.slice(0,a+1).reverse().findIndex(t=>!vn(t[o.axis]));a-=Math.max(0,t)}a=oi(a,0,i-1)}if(f){let t=Math.max(hi(l,r.axis,u,!0).hi+1,n?0:hi(e,h,r.getPixelForValue(u),!0).hi+1);if(c){const e=l.slice(t-1).findIndex(t=>!vn(t[o.axis]));t+=Math.max(0,e)}s=oi(t,a,i)-a}else s=i-a}return{start:a,count:s}}function yi(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,a={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=a,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,a),s}const wi=t=>0===t||1===t,_i=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Bn/n),ki=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Bn/n)+1,Si={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Un),easeOutSine:t=>Math.sin(t*Un),easeInOutSine:t=>-.5*(Math.cos(zn*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>wi(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wi(t)?t:_i(t,.075,.3),easeOutElastic:t=>wi(t)?t:ki(t,.075,.3),easeInOutElastic(t){const e=.1125;return wi(t)?t:t<.5?.5*_i(2*t,e,.45):.5+.5*ki(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Si.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Si.easeInBounce(2*t):.5*Si.easeOutBounce(2*t-1)+.5};function Ai(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Mi(t){return Ai(t)?t:new fn(t)}function Ei(t){return Ai(t)?t:new fn(t).saturate(.5).darken(.1).hexString()}const Ci=["x","y","borderWidth","radius","tension"],Ti=["color","borderColor","backgroundColor"];const Pi=new Map;function Di(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Pi.get(n);return i||(i=new Intl.NumberFormat(t,e),Pi.set(n,i)),i}(e,n).format(t)}const Ri={values:t=>bn(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let a,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(a="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const r=Yn(Math.abs(s)),o=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:a,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Di(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Yn(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?Ri.numeric.call(this,t,e,n):""}};var Li={formatters:Ri};const Ni=Object.create(null),Oi=Object.create(null);function Ii(t,e){if(!e)return t;const n=e.split(".");for(let i=0,a=n.length;i<a;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function Fi(t,e,n){return"string"===typeof e?Pn(Ii(t,e),n):Pn(Ii(t,""),e)}class ji{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Ei(e.backgroundColor),this.hoverBorderColor=(t,e)=>Ei(e.borderColor),this.hoverColor=(t,e)=>Ei(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Fi(this,t,e)}get(t){return Ii(this,t)}describe(t,e){return Fi(Oi,t,e)}override(t,e){return Fi(Ni,t,e)}route(t,e,n,i){const a=Ii(this,t),s=Ii(this,n),r="_"+e;Object.defineProperties(a,{[r]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[r],e=s[i];return xn(t)?Object.assign({},e,t):_n(t,e)},set(t){this[r]=t}}})}apply(t){t.forEach(t=>t(this))}}var zi=new ji({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Ti},numbers:{type:"number",properties:Ci}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Li.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function Bi(t,e,n,i,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,n.push(a)),s>i&&(i=s),i}function Wi(t,e,n,i){let a=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(a=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let r=0;const o=n.length;let l,c,h,d,u;for(l=0;l<o;l++)if(d=n[l],void 0===d||null===d||bn(d)){if(bn(d))for(c=0,h=d.length;c<h;c++)u=d[c],void 0===u||null===u||bn(u)||(r=Bi(t,a,s,r,u))}else r=Bi(t,a,s,r,d);t.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete a[s[l]];s.splice(0,p)}return r}function Hi(t,e,n){const i=t.currentDevicePixelRatio,a=0!==n?Math.max(n/2,.5):0;return Math.round((e-a)*i)/i+a}function Vi(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ui(t,e,n,i){qi(t,e,n,i,null)}function qi(t,e,n,i,a){let s,r,o,l,c,h,d,u;const p=e.pointStyle,f=e.rotation,m=e.radius;let g=(f||0)*Vn;if(p&&"object"===typeof p&&(s=p.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,i),t.rotate(g),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void t.restore();if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:a?t.ellipse(n,i,a/2,m,0,0,Bn):t.arc(n,i,m,0,Bn),t.closePath();break;case"triangle":h=a?a/2:m,t.moveTo(n+Math.sin(g)*h,i-Math.cos(g)*m),g+=Gn,t.lineTo(n+Math.sin(g)*h,i-Math.cos(g)*m),g+=Gn,t.lineTo(n+Math.sin(g)*h,i-Math.cos(g)*m),t.closePath();break;case"rectRounded":c=.516*m,l=m-c,r=Math.cos(g+qn)*l,d=Math.cos(g+qn)*(a?a/2-c:l),o=Math.sin(g+qn)*l,u=Math.sin(g+qn)*(a?a/2-c:l),t.arc(n-d,i-o,c,g-zn,g-Un),t.arc(n+u,i-r,c,g-Un,g),t.arc(n+d,i+o,c,g,g+Un),t.arc(n-u,i+r,c,g+Un,g+zn),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,h=a?a/2:l,t.rect(n-h,i-l,2*h,2*l);break}g+=qn;case"rectRot":d=Math.cos(g)*(a?a/2:m),r=Math.cos(g)*m,o=Math.sin(g)*m,u=Math.sin(g)*(a?a/2:m),t.moveTo(n-d,i-o),t.lineTo(n+u,i-r),t.lineTo(n+d,i+o),t.lineTo(n-u,i+r),t.closePath();break;case"crossRot":g+=qn;case"cross":d=Math.cos(g)*(a?a/2:m),r=Math.cos(g)*m,o=Math.sin(g)*m,u=Math.sin(g)*(a?a/2:m),t.moveTo(n-d,i-o),t.lineTo(n+d,i+o),t.moveTo(n+u,i-r),t.lineTo(n-u,i+r);break;case"star":d=Math.cos(g)*(a?a/2:m),r=Math.cos(g)*m,o=Math.sin(g)*m,u=Math.sin(g)*(a?a/2:m),t.moveTo(n-d,i-o),t.lineTo(n+d,i+o),t.moveTo(n+u,i-r),t.lineTo(n-u,i+r),g+=qn,d=Math.cos(g)*(a?a/2:m),r=Math.cos(g)*m,o=Math.sin(g)*m,u=Math.sin(g)*(a?a/2:m),t.moveTo(n-d,i-o),t.lineTo(n+d,i+o),t.moveTo(n+u,i-r),t.lineTo(n-u,i+r);break;case"line":r=a?a/2:Math.cos(g)*m,o=Math.sin(g)*m,t.moveTo(n-r,i-o),t.lineTo(n+r,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(g)*(a?a/2:m),i+Math.sin(g)*m);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Gi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Yi(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Xi(t){t.restore()}function Ki(t,e,n,i,a){if(!e)return t.lineTo(n.x,n.y);if("middle"===a){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===a!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function $i(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Qi(t,e,n,i,a){if(a.strikethrough||a.underline){const s=t.measureText(i),r=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=a.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(r,h),t.lineTo(o,h),t.stroke()}}function Ji(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Zi(t,e,n,i,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const r=bn(e)?e:[e],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=a.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),vn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<r.length;++l)c=r[l],s.backdrop&&Ji(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),vn(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),Qi(t,n,i,c,s),i+=Number(a.lineHeight);t.restore()}function ta(t,e){const{x:n,y:i,w:a,h:s,radius:r}=e;t.arc(n+r.topLeft,i+r.topLeft,r.topLeft,1.5*zn,zn,!0),t.lineTo(n,i+s-r.bottomLeft),t.arc(n+r.bottomLeft,i+s-r.bottomLeft,r.bottomLeft,zn,Un,!0),t.lineTo(n+a-r.bottomRight,i+s),t.arc(n+a-r.bottomRight,i+s-r.bottomRight,r.bottomRight,Un,0,!0),t.lineTo(n+a,i+r.topRight),t.arc(n+a-r.topRight,i+r.topRight,r.topRight,0,-Un,!0),t.lineTo(n+r.topLeft,i)}const ea=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,na=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ia(t,e){const n=(""+t).match(ea);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const aa=t=>+t||0;function sa(t,e){const n={},i=xn(e),a=i?Object.keys(e):e,s=xn(t)?i?n=>_n(t[n],t[e[n]]):e=>t[e]:()=>t;for(const r of a)n[r]=aa(s(r));return n}function ra(t){return sa(t,{top:"y",right:"x",bottom:"y",left:"x"})}function oa(t){return sa(t,["topLeft","topRight","bottomLeft","bottomRight"])}function la(t){const e=ra(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ca(t,e){t=t||{},e=e||zi.font;let n=_n(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=_n(t.style,e.style);i&&!(""+i).match(na)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:_n(t.family,e.family),lineHeight:ia(_n(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:_n(t.weight,e.weight),string:""};return a.string=function(t){return!t||vn(t.size)||vn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(a),a}function ha(t,e,n,i){let a,s,r,o=!0;for(a=0,s=t.length;a<s;++a)if(r=t[a],void 0!==r&&(void 0!==e&&"function"===typeof r&&(r=r(e),o=!1),void 0!==n&&bn(r)&&(r=r[n%r.length],o=!1),void 0!==r))return i&&!o&&(i.cacheable=!1),r}function da(t,e){return Object.assign(Object.create(t),e)}function ua(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const a=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=ka("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:n,_getTarget:i,override:i=>ua([i,...t],e,a,n)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>va(n,i,()=>function(t,e,n,i){let a;for(const s of e)if(a=ka(ma(s,t),n),"undefined"!==typeof a)return ga(t,a)?wa(n,i,t,a):a}(i,e,t,n)),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Sa(t).includes(e),ownKeys:t=>Sa(t),set(t,e,n){const a=t._storage||(t._storage=i());return t[e]=a[e]=n,delete t._keys,!0}})}function pa(t,e,n,i){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:fa(t,i),setContext:e=>pa(t,e,n,i),override:a=>pa(t.override(a),e,n,i)};return new Proxy(a,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>va(t,e,()=>function(t,e,n){const{_proxy:i,_context:a,_subProxy:s,_descriptors:r}=t;let o=i[e];Fn(o)&&r.isScriptable(e)&&(o=function(t,e,n,i){const{_proxy:a,_context:s,_subProxy:r,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,r||i);o.delete(t),ga(t,l)&&(l=wa(a._scopes,a,t,l));return l}(e,o,t,n));bn(o)&&o.length&&(o=function(t,e,n,i){const{_proxy:a,_context:s,_subProxy:r,_descriptors:o}=n;if("undefined"!==typeof s.index&&i(t))return e[s.index%e.length];if(xn(e[0])){const n=e,i=a._scopes.filter(t=>t!==n);e=[];for(const l of n){const n=wa(i,a,t,l);e.push(pa(n,s,r&&r[t],o))}}return e}(e,o,t,r.isIndexable));ga(e,o)&&(o=pa(o,a,s&&s[e],r));return o}(t,e,n)),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function fa(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:i,isScriptable:Fn(n)?n:()=>n,isIndexable:Fn(i)?i:()=>i}}const ma=(t,e)=>t?t+On(e):e,ga=(t,e)=>xn(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function va(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=n();return t[e]=i,i}function ba(t,e,n){return Fn(t)?t(e,n):t}const xa=(t,e)=>!0===t?e:"string"===typeof t?Nn(e,t):void 0;function ya(t,e,n,i,a){for(const s of e){const e=xa(n,s);if(e){t.add(e);const s=ba(e._fallback,n,a);if("undefined"!==typeof s&&s!==n&&s!==i)return s}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function wa(t,e,n,i){const a=e._rootScopes,s=ba(e._fallback,n,i),r=[...t,...a],o=new Set;o.add(i);let l=_a(o,r,n,s||n,i);return null!==l&&(("undefined"===typeof s||s===n||(l=_a(o,r,s,l,i),null!==l))&&ua(Array.from(o),[""],a,s,()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const a=i[e];if(bn(a)&&xn(n))return n;return a||{}}(e,n,i)))}function _a(t,e,n,i,a){for(;n;)n=ya(t,e,n,i,a);return n}function ka(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function Sa(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter(t=>!t.startsWith("_")))e.add(t);return Array.from(e)}(t._scopes)),e}function Aa(t,e,n,i){const{iScale:a}=t,{key:s="r"}=this._parsing,r=new Array(i);let o,l,c,h;for(o=0,l=i;o<l;++o)c=o+n,h=e[c],r[o]={r:a.parse(Nn(h,s),c)};return r}const Ma=Number.EPSILON||1e-14,Ea=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ca=t=>"x"===t?"y":"x";function Ta(t,e,n,i){const a=t.skip?e:t,s=e,r=n.skip?e:n,o=ii(s,a),l=ii(r,s);let c=o/(o+l),h=l/(o+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const d=i*c,u=i*h;return{previous:{x:s.x-d*(r.x-a.x),y:s.y-d*(r.y-a.y)},next:{x:s.x+u*(r.x-a.x),y:s.y+u*(r.y-a.y)}}}function Pa(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Ca(e),i=t.length,a=Array(i).fill(0),s=Array(i);let r,o,l,c=Ea(t,0);for(r=0;r<i;++r)if(o=l,l=c,c=Ea(t,r+1),l){if(c){const t=c[e]-l[e];a[r]=0!==t?(c[n]-l[n])/t:0}s[r]=o?c?Xn(a[r-1])!==Xn(a[r])?0:(a[r-1]+a[r])/2:a[r-1]:a[r]}!function(t,e,n){const i=t.length;let a,s,r,o,l,c=Ea(t,0);for(let h=0;h<i-1;++h)l=c,c=Ea(t,h+1),l&&c&&(Kn(e[h],0,Ma)?n[h]=n[h+1]=0:(a=n[h]/e[h],s=n[h+1]/e[h],o=Math.pow(a,2)+Math.pow(s,2),o<=9||(r=3/Math.sqrt(o),n[h]=a*r*e[h],n[h+1]=s*r*e[h])))}(t,a,s),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=Ca(n),a=t.length;let s,r,o,l=Ea(t,0);for(let c=0;c<a;++c){if(r=o,o=l,l=Ea(t,c+1),!o)continue;const a=o[n],h=o[i];r&&(s=(a-r[n])/3,o["cp1".concat(n)]=a-s,o["cp1".concat(i)]=h-s*e[c]),l&&(s=(l[n]-a)/3,o["cp2".concat(n)]=a+s,o["cp2".concat(i)]=h+s*e[c])}}(t,s,e)}function Da(t,e,n){return Math.max(Math.min(t,n),e)}function Ra(t,e,n,i,a){let s,r,o,l;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)Pa(t,a);else{let n=i?t[t.length-1]:t[0];for(s=0,r=t.length;s<r;++s)o=t[s],l=Ta(n,o,t[Math.min(s+1,r-(i?0:1))%r],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}e.capBezierPoints&&function(t,e){let n,i,a,s,r,o=Gi(t[0],e);for(n=0,i=t.length;n<i;++n)r=s,s=o,o=n<i-1&&Gi(t[n+1],e),s&&(a=t[n],r&&(a.cp1x=Da(a.cp1x,e.left,e.right),a.cp1y=Da(a.cp1y,e.top,e.bottom)),o&&(a.cp2x=Da(a.cp2x,e.left,e.right),a.cp2y=Da(a.cp2y,e.top,e.bottom)))}(t,n)}function La(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Na(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Oa(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const Ia=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const Fa=["top","right","bottom","left"];function ja(t,e,n){const i={};n=n?"-"+n:"";for(let a=0;a<4;a++){const s=Fa[a];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function za(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,a=Ia(n),s="border-box"===a.boxSizing,r=ja(a,"padding"),o=ja(a,"border","width"),{x:l,y:c,box:h}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:a,offsetY:s}=i;let r,o,l=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(a,s,t.target))r=a,o=s;else{const t=e.getBoundingClientRect();r=i.clientX-t.left,o=i.clientY-t.top,l=!0}return{x:r,y:o,box:l}}(t,n),d=r.left+(h&&o.left),u=r.top+(h&&o.top);let{width:p,height:f}=e;return s&&(p-=r.width+o.width,f-=r.height+o.height),{x:Math.round((l-d)/p*n.width/i),y:Math.round((c-u)/f*n.height/i)}}const Ba=t=>Math.round(10*t)/10;function Wa(t,e,n,i){const a=Ia(t),s=ja(a,"margin"),r=Oa(a.maxWidth,t,"clientWidth")||Hn,o=Oa(a.maxHeight,t,"clientHeight")||Hn,l=function(t,e,n){let i,a;if(void 0===e||void 0===n){const s=t&&Na(t);if(s){const t=s.getBoundingClientRect(),r=Ia(s),o=ja(r,"border","width"),l=ja(r,"padding");e=t.width-l.width-o.width,n=t.height-l.height-o.height,i=Oa(r.maxWidth,s,"clientWidth"),a=Oa(r.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||Hn,maxHeight:a||Hn}}(t,e,n);let{width:c,height:h}=l;if("content-box"===a.boxSizing){const t=ja(a,"border","width"),e=ja(a,"padding");c-=e.width+t.width,h-=e.height+t.height}c=Math.max(0,c-s.width),h=Math.max(0,i?c/i:h-s.height),c=Ba(Math.min(c,r,l.maxWidth)),h=Ba(Math.min(h,o,l.maxHeight)),c&&!h&&(h=Ba(c/2));return(void 0!==e||void 0!==n)&&i&&l.height&&h>l.height&&(h=l.height,c=Ba(Math.floor(h*i))),{width:c,height:h}}function Ha(t,e,n){const i=e||1,a=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const r=t.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height="".concat(t.height,"px"),r.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==i||r.height!==a||r.width!==s)&&(t.currentDevicePixelRatio=i,r.height=a,r.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0)}const Va=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};La()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(UE){}return t}();function Ua(t,e){const n=function(t,e){return Ia(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function qa(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Ga(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function Ya(t,e,n,i){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},r=qa(t,a,n),o=qa(a,s,n),l=qa(s,e,n),c=qa(r,o,n),h=qa(o,l,n);return qa(c,h,n)}function Xa(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Ka(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function $a(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Qa(t){return"angle"===t?{between:ri,compare:ai,normalize:si}:{between:li,compare:(t,e)=>t-e,normalize:t=>t}}function Ja(t){let{start:e,end:n,count:i,loop:a,style:s}=t;return{start:e%i,end:n%i,loop:a&&(n-e+1)%i===0,style:s}}function Za(t,e,n){if(!n)return[t];const{property:i,start:a,end:s}=n,r=e.length,{compare:o,between:l,normalize:c}=Qa(i),{start:h,end:d,loop:u,style:p}=function(t,e,n){const{property:i,start:a,end:s}=n,{between:r,normalize:o}=Qa(i),l=e.length;let c,h,{start:d,end:u,loop:p}=t;if(p){for(d+=l,u+=l,c=0,h=l;c<h&&r(o(e[d%l][i]),a,s);++c)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:p,style:t.style}}(t,e,n),f=[];let m,g,v,b=!1,x=null;const y=()=>b||l(a,v,m)&&0!==o(a,v),w=()=>!b||0===o(s,m)||l(s,v,m);for(let _=h,k=h;_<=d;++_)g=e[_%r],g.skip||(m=c(g[i]),m!==v&&(b=l(m,a,s),null===x&&y()&&(x=0===o(m,a)?_:k),null!==x&&w()&&(f.push(Ja({start:x,end:_,loop:u,count:r,style:p})),x=null),k=_,v=m));return null!==x&&f.push(Ja({start:x,end:d,loop:u,count:r,style:p})),f}function ts(t,e){const n=[],i=t.segments;for(let a=0;a<i.length;a++){const s=Za(i[a],t.points,e);s.length&&n.push(...s)}return n}function es(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const a=t._chart.getContext(),s=ns(t.options),{_datasetIndex:r,options:{spanGaps:o}}=t,l=n.length,c=[];let h=s,d=e[0].start,u=d;function p(t,e,i,a){const s=o?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=s;for(;n[e%l].skip;)e+=s;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:i,style:a}),h=a,d=e%l)}}for(const f of e){d=o?d:f.start;let t,e=n[d%l];for(u=d+1;u<=f.end;u++){const s=n[u%l];t=ns(i.setContext(da(a,{type:"segment",p0:e,p1:s,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:r}))),is(t,h)&&p(d,u-1,f.loop,h),e=s,h=t}d<u-1&&p(d,u-1,f.loop,h)}return c}(t,e,n,i):e}function ns(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function is(t,e){if(!e)return!1;const n=[],i=function(t,e){return Ai(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function as(t,e,n){return t.options.clip?t[n]:e[n]}function ss(t,e){const n=e._clip;if(n.disabled)return!1;const i=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:as(n,e,"left"),right:as(n,e,"right"),top:as(i,e,"top"),bottom:as(i,e,"bottom")}:e}(e,t.chartArea);return{left:!1===n.left?0:i.left-(!0===n.left?0:n.left),right:!1===n.right?t.width:i.right+(!0===n.right?0:n.right),top:!1===n.top?0:i.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?t.height:i.bottom+(!0===n.bottom?0:n.bottom)}}class rs{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const a=e.listeners[i],s=e.duration;a.forEach(i=>i({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=mi.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let s,r=a.length-1,o=!1;for(;r>=0;--r)s=a[r],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),o=!0):(a[r]=a[a.length-1],a.pop());o&&(i.draw(),this._notify(i,n,t,"progress")),a.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=a.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var os=new rs;const ls="transparent",cs={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=Mi(t||ls),a=i.valid&&Mi(e||ls);return a&&a.valid?a.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class hs{constructor(t,e,n,i){const a=e[n];i=ha([t.to,i,a,t.from]);const s=ha([t.from,a,i]);this._active=!0,this._fn=t.fn||cs[t.type||typeof s],this._easing=Si[t.easing]||Si.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,s=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ha([t.to,e,i,t.from]),this._from=ha([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,a=this._from,s=this._loop,r=this._to;let o;if(this._active=a!==r&&(s||e<n),!this._active)return this._target[i]=r,void this._notify(!0);e<0?this._target[i]=a:(o=e/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[i]=this._fn(a,r,o))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class ds{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!xn(t))return;const e=Object.keys(zi.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!xn(a))return;const s={};for(const t of e)s[t]=a[t];(bn(a.properties)&&a.properties||[i]).forEach(t=>{t!==i&&n.has(t)||n.set(t,s)})})}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let a=0;a<i.length;a++){const e=t[i[a]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,e){const n=this._properties,i=[],a=t.$animations||(t.$animations={}),s=Object.keys(e),r=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let h=a[l];const d=n.get(l);if(h){if(d&&h.active()){h.update(d,c,r);continue}h.cancel()}d&&d.duration?(a[l]=h=new hs(d,t,l,c),i.push(h)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(os.add(this._chart,n),!0):void 0}}function us(t,e){const n=t&&t.options||{},i=n.reverse,a=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:i?s:a,end:i?a:s}}function ps(t,e){const n=[],i=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=i.length;a<s;++a)n.push(i[a].index);return n}function fs(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=t.keys,s="single"===i.mode;let r,o,l,c;if(null===e)return;let h=!1;for(r=0,o=a.length;r<o;++r){if(l=+a[r],l===n){if(h=!0,i.all)continue;break}c=t.values[l],yn(c)&&(s||0===e||Xn(e)===Xn(c))&&(e+=c)}return h||i.all?e:0}function ms(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function gs(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function vs(t,e,n,i){for(const a of e.getMatchingVisibleMetas(i).reverse()){const e=t[a.index];if(n&&e>0||!n&&e<0)return a.index}return null}function bs(t,e){const{chart:n,_cachedMeta:i}=t,a=n._stacks||(n._stacks={}),{iScale:s,vScale:r,index:o}=i,l=s.axis,c=r.axis,h=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(s,r,i),d=e.length;let u;for(let p=0;p<d;++p){const t=e[p],{[l]:n,[c]:s}=t;u=(t._stacks||(t._stacks={}))[c]=gs(a,h,n),u[o]=s,u._top=vs(u,r,!0,i.type),u._bottom=vs(u,r,!1,i.type);(u._visualValues||(u._visualValues={}))[o]=s}}function xs(t,e){const n=t.scales;return Object.keys(n).filter(t=>n[t].axis===e).shift()}function ys(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const ws=t=>"reset"===t||"none"===t,_s=(t,e)=>e?t:Object.assign({},t);class ks{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ms(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ys(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,a=e.xAxisID=_n(n.xAxisID,xs(t,"x")),s=e.yAxisID=_n(n.yAxisID,xs(t,"y")),r=e.rAxisID=_n(n.rAxisID,xs(t,"r")),o=e.indexAxis,l=e.iAxisID=i(o,a,s,r),c=e.vAxisID=i(o,s,a,r);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(r),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&pi(this._data,this),t._stacked&&ys(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(xn(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:i}=e,a="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",r=Object.keys(t),o=new Array(r.length);let l,c,h;for(l=0,c=r.length;l<c;++l)h=r[l],o[l]={[a]:h,[s]:t[h]};return o}(e,t)}else if(n!==e){if(n){pi(n,this);const t=this._cachedMeta;ys(t),t._parsed=[]}e&&Object.isExtensible(e)&&(a=this,(i=e)._chartjs?i._chartjs.listeners.push(a):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),ui.forEach(t=>{const e="_onData"+On(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];const r=n.apply(this,a);return i._chartjs.listeners.forEach(t=>{"function"===typeof t[e]&&t[e](...a)}),r}})}))),this._syncList=[],this._data=e}var i,a}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=e._stacked;e._stacked=ms(e.vScale,e),e.stack!==n.stack&&(i=!0,ys(e),e.stack=n.stack),this._resyncElements(t),(i||a!==e._stacked)&&(bs(this,e._parsed),e._stacked=ms(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:s}=n,r=a.axis;let o,l,c,h=0===t&&e===i.length||n._sorted,d=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=bn(i[t])?this.parseArrayData(n,i,t,e):xn(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const a=()=>null===l[r]||d&&l[r]<d[r];for(o=0;o<e;++o)n._parsed[o+t]=l=c[o],h&&(a()&&(h=!1),d=l);n._sorted=h}s&&bs(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:a,vScale:s}=t,r=a.axis,o=s.axis,l=a.getLabels(),c=a===s,h=new Array(i);let d,u,p;for(d=0,u=i;d<u;++d)p=d+n,h[d]={[r]:c||a.parse(l[p],p),[o]:s.parse(e[p],p)};return h}parseArrayData(t,e,n,i){const{xScale:a,yScale:s}=t,r=new Array(i);let o,l,c,h;for(o=0,l=i;o<l;++o)c=o+n,h=e[c],r[o]={x:a.parse(h[0],c),y:s.parse(h[1],c)};return r}parseObjectData(t,e,n,i){const{xScale:a,yScale:s}=t,{xAxisKey:r="x",yAxisKey:o="y"}=this._parsing,l=new Array(i);let c,h,d,u;for(c=0,h=i;c<h;++c)d=c+n,u=e[d],l[c]={x:a.parse(Nn(u,r),d),y:s.parse(Nn(u,o),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,a=this._cachedMeta,s=e[t.axis];return fs({keys:ps(i,!0),values:e._stacks[t.axis]._visualValues},s,a.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const a=n[e.axis];let s=null===a?NaN:a;const r=i&&n._stacks[e.axis];i&&r&&(i.values=r,s=fs(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&t===n.iScale,s=i.length,r=this._getOtherScale(t),o=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ps(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=function(t){const{min:e,max:n,minDefined:i,maxDefined:a}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}(r);let d,u;function p(){u=i[d];const e=u[r.axis];return!yn(u[t.axis])||c>e||h<e}for(d=0;d<s&&(p()||(this.updateRangeFromParsed(l,t,u,o),!a));++d);if(a)for(d=s-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,t,u,o);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,a,s;for(i=0,a=e.length;i<a;++i)s=e[i][t.axis],yn(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,a;return xn(t)?(e=t.top,n=t.right,i=t.bottom,a=t.left):e=n=i=a=t,{top:e,right:n,bottom:i,left:a,disabled:!1===t}}(_n(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=us(t,n),a=us(e,n);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],a=e.chartArea,s=[],r=this._drawStart||0,o=this._drawCount||i.length-r,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,a,r,o),c=r;c<r+o;++c){const e=i[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,a))}for(c=0;c<s.length;++c)s[c].draw(t,a)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];a=e.$context||(e.$context=function(t,e,n){return da(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=function(t,e){return da(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,a=this._cachedDataOpts,s=t+"-"+e,r=a[s],o=this.enableOptionSharing&&In(n);if(r)return _s(r,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),h=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),c),u=Object.keys(zi.elements[t]),p=l.resolveNamedOptions(d,u,()=>this.getContext(n,i,e),h);return p.$shared&&(p.$shared=o,a[s]=Object.freeze(_s(p,o))),p}_resolveAnimations(t,e,n){const i=this.chart,a=this._cachedDataOpts,s="animation-".concat(e),r=a[s];if(r)return r;let o;if(!1!==i.options.animation){const i=this.chart.config,a=i.datasetAnimationScopeKeys(this._type,e),s=i.getOptionScopes(this.getDataset(),a);o=i.createResolver(s,this.getContext(t,n,e))}const l=new ds(i,o&&o.animations);return o&&o._cacheable&&(a[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ws(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,a=this.getSharedOptions(n),s=this.includeOptions(e,a)||a!==i;return this.updateSharedOptions(a,e,n),{sharedOptions:a,includeOptions:s}}updateElement(t,e,n,i){ws(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!ws(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const a=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[r,o,l]of this._syncList)this[r](o,l);this._syncList=[];const i=n.length,a=e.length,s=Math.min(a,i);s&&this.parse(0,s),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,a=i.data,s=t+e;let r;const o=t=>{for(t.length+=e,r=t.length-1;r>=s;r--)t[r]=t[r-e]};for(o(a),r=t;r<s;++r)a[r]=new this.dataElementType;this._parsing&&o(i._parsed),this.parse(t,e),n&&this.updateElements(a,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&ys(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Ss(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,a=n.length;e<a;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=fi(i.sort((t,e)=>t-e))}return t._cache.$bar}(e,t.type);let i,a,s,r,o=e._length;const l=()=>{32767!==s&&-32768!==s&&(In(r)&&(o=Math.min(o,Math.abs(s-r)||o)),r=s)};for(i=0,a=n.length;i<a;++i)s=e.getPixelForValue(n[i]),l();for(r=void 0,i=0,a=e.ticks.length;i<a;++i)s=e.getPixelForTick(i),l();return o}function As(t,e,n,i){return bn(t)?function(t,e,n,i){const a=n.parse(t[0],i),s=n.parse(t[1],i),r=Math.min(a,s),o=Math.max(a,s);let l=r,c=o;Math.abs(r)>Math.abs(o)&&(l=o,c=r),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:a,end:s,min:r,max:o}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Ms(t,e,n,i){const a=t.iScale,s=t.vScale,r=a.getLabels(),o=a===s,l=[];let c,h,d,u;for(c=n,h=n+i;c<h;++c)u=e[c],d={},d[a.axis]=o||a.parse(r[c],c),l.push(As(u,d,s,c));return l}function Es(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Cs(t,e,n,i){let a=e.borderSkipped;const s={};if(!a)return void(t.borderSkipped=s);if(!0===a)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:r,end:o,reverse:l,top:c,bottom:h}=function(t){let e,n,i,a,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(a="end",s="start"):(a="start",s="end"),{start:n,end:i,reverse:e,top:a,bottom:s}}(t);"middle"===a&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?a=c:(n._bottom||0)===i?a=h:(s[Ts(h,r,o,l)]=!0,a=c)),s[Ts(a,r,o,l)]=!0,t.borderSkipped=s}function Ts(t,e,n,i){var a,s,r;return i?(r=n,t=Ps(t=(a=t)===(s=e)?r:a===r?s:a,n,e)):t=Ps(t,e,n),t}function Ps(t,e,n){return"start"===t?e:"end"===t?n:t}function Ds(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}r(ks,"defaults",{}),r(ks,"datasetElementType",null),r(ks,"dataElementType",null);class Rs extends ks{parsePrimitiveData(t,e,n,i){return Ms(t,e,n,i)}parseArrayData(t,e,n,i){return Ms(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:a,vScale:s}=t,{xAxisKey:r="x",yAxisKey:o="y"}=this._parsing,l="x"===a.axis?r:o,c="x"===s.axis?r:o,h=[];let d,u,p,f;for(d=n,u=n+i;d<u;++d)f=e[d],p={},p[a.axis]=a.parse(Nn(f,l),d),h.push(As(Nn(f,c),p,s,d));return h}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const a=n._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,a=this.getParsed(t),s=a._custom,r=Es(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const a="reset"===i,{index:s,_cachedMeta:{vScale:r}}=this,o=r.getBasePixel(),l=r.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,i);for(let u=e;u<e+n;u++){const e=this.getParsed(u),n=a||vn(e[r.axis])?{base:o,head:o}:this._calculateBarValuePixels(u),p=this._calculateBarIndexPixels(u,c),f=(e._stacks||{})[r.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||Es(e._custom)||s===f._top||s===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};d&&(m.options=h||this.resolveDataElementOptions(u,t[u].active?"active":i));const g=m.options||t[u].options;Cs(m,g,f,s),Ds(m,g,c.ratio),this.updateElement(t[u],u,m,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(t=>t.controller.options.grouped),a=n.options.stacked,s=[],r=this._cachedMeta.controller.getParsed(e),o=r&&r[n.axis],l=t=>{const e=t._parsed.find(t=>t[n.axis]===o),i=e&&e[t.vScale.axis];if(vn(i)||isNaN(i))return!0};for(const c of i)if((void 0===e||!l(c))&&((!1===a||-1===s.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&s.push(c.stack),c.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[_n("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,n){const i=this._getStacks(t,n),a=void 0!==e?i.indexOf(e):-1;return-1===a?i.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let a,s;for(a=0,s=e.data.length;a<s;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const r=t.barThickness;return{min:r||Ss(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:r?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:a,minBarLength:s}}=this,r=a||0,o=this.getParsed(t),l=o._custom,c=Es(l);let h,d,u=o[e.axis],p=0,f=n?this.applyStack(e,o,n):u;f!==u&&(p=f-u,f=u),c&&(u=l.barStart,f=l.barEnd-l.barStart,0!==u&&Xn(u)!==Xn(l.barEnd)&&(p=0),p+=u);const m=vn(a)||c?p:a;let g=e.getPixelForValue(m);if(h=this.chart.getDataVisibility(t)?e.getPixelForValue(p+f):g,d=h-g,Math.abs(d)<s){d=function(t,e,n){return 0!==t?Xn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(d,e,r)*s,u===r&&(g-=d/2);const t=e.getPixelForDecimal(0),a=e.getPixelForDecimal(1),l=Math.min(t,a),p=Math.max(t,a);g=Math.max(Math.min(g,p),l),h=g+d,n&&!c&&(o._stacks[e.axis]._visualValues[i]=e.getValueForPixel(h)-e.getValueForPixel(g))}if(g===e.getPixelForValue(r)){const t=Xn(d)*e.getLineWidthForValue(r)/2;g+=t,d-=t}return{size:d,base:g,head:h,center:h+d/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,a=i.skipNull,s=_n(i.maxBarThickness,1/0);let r,o;const l=this._getAxisCount();if(e.grouped){const n=a?this._getStackCount(t):e.stackCount,c="flex"===i.barThickness?function(t,e,n,i){const a=e.pixels,s=a[t];let r=t>0?a[t-1]:null,o=t<a.length-1?a[t+1]:null;const l=n.categoryPercentage;null===r&&(r=s-(null===o?e.end-e.start:o-s)),null===o&&(o=s+s-r);const c=s-(s-Math.min(r,o))/2*l;return{chunk:Math.abs(o-r)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,i,n*l):function(t,e,n,i){const a=n.barThickness;let s,r;return vn(a)?(s=e.min*n.categoryPercentage,r=n.barPercentage):(s=a*i,r=1),{chunk:s/i,ratio:r,start:e.pixels[t]-s/2}}(t,e,i,n*l),h="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(_n(h,this.getFirstScaleIdForIndexAxis())),u=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+d;r=c.start+c.chunk*u+c.chunk/2,o=Math.min(s,c.chunk*c.ratio)}else r=n.getPixelForValue(this.getParsed(t)[n.axis],t),o=Math.min(s,e.min*e.ratio);return{base:r-o/2,head:r+o/2,center:r,size:o}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let a=0;for(;a<i;++a)null===this.getParsed(a)[e.axis]||n[a].hidden||n[a].draw(this._ctx)}}r(Rs,"id","bar"),r(Rs,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),r(Rs,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ls extends ks{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const a=super.parsePrimitiveData(t,e,n,i);for(let s=0;s<a.length;s++)a[s]._custom=this.resolveDataElementOptions(s+n).radius;return a}parseArrayData(t,e,n,i){const a=super.parseArrayData(t,e,n,i);for(let s=0;s<a.length;s++){const t=e[n+s];a[s]._custom=_n(t[2],this.resolveDataElementOptions(s+n).radius)}return a}parseObjectData(t,e,n,i){const a=super.parseObjectData(t,e,n,i);for(let s=0;s<a.length;s++){const t=e[n+s];a[s]._custom=_n(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:a}=e,s=this.getParsed(t),r=i.getLabelForValue(s.x),o=a.getLabelForValue(s.y),l=s._custom;return{label:n[t]||"",value:"("+r+", "+o+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const a="reset"===i,{iScale:s,vScale:r}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(e,i),c=s.axis,h=r.axis;for(let d=e;d<e+n;d++){const e=t[d],n=!a&&this.getParsed(d),u={},p=u[c]=a?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),f=u[h]=a?r.getBasePixel():r.getPixelForValue(n[h]);u.skip=isNaN(p)||isNaN(f),l&&(u.options=o||this.resolveDataElementOptions(d,e.active?"active":i),a&&(u.options.radius=0)),this.updateElement(e,d,u,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const a=i.radius;return"active"!==e&&(i.radius=0),i.radius+=_n(n&&n._custom,a),i}}r(Ls,"id","bubble"),r(Ls,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),r(Ls,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Ns extends ks{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let a,s,r=t=>+n[t];if(xn(n[t])){const{key:t="value"}=this._parsing;r=e=>+Nn(n[e],t)}for(a=t,s=t+e;a<s;++a)i._parsed[a]=r(a)}}_getRotation(){return Zn(this.options.rotation-90)}_getCircumference(){return Zn(this.options.circumference)}_getRotationExtents(){let t=Bn,e=-Bn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),s=i._getCircumference();t=Math.min(t,a),e=Math.max(e,a+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,a=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,r=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min((l=this.options.cutout,c=r,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const h=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:m,offsetY:g}=function(t,e,n){let i=1,a=1,s=0,r=0;if(e<Bn){const o=t,l=o+e,c=Math.cos(o),h=Math.sin(o),d=Math.cos(l),u=Math.sin(l),p=(t,e,i)=>ri(t,o,l,!0)?1:Math.max(e,e*n,i,i*n),f=(t,e,i)=>ri(t,o,l,!0)?-1:Math.min(e,e*n,i,i*n),m=p(0,c,d),g=p(Un,h,u),v=f(zn,c,d),b=f(zn+Un,h,u);i=(m-v)/2,a=(g-b)/2,s=-(m+v)/2,r=-(g+b)/2}return{ratioX:i,ratioY:a,offsetX:s,offsetY:r}}(u,d,o),v=(n.width-s)/p,b=(n.height-s)/f,x=Math.max(Math.min(v,b)/2,0),y=kn(this.options.radius,x),w=(y-Math.max(y*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*y,this.offsetY=g*y,i.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*h,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/Bn)}updateElements(t,e,n,i){const a="reset"===i,s=this.chart,r=s.chartArea,o=s.options.animation,l=(r.left+r.right)/2,c=(r.top+r.bottom)/2,h=a&&o.animateScale,d=h?0:this.innerRadius,u=h?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(e,i);let m,g=this._getRotation();for(m=0;m<e;++m)g+=this._circumference(m,a);for(m=e;m<e+n;++m){const e=this._circumference(m,a),n=t[m],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+e,circumference:e,outerRadius:u,innerRadius:d};f&&(s.options=p||this.resolveDataElementOptions(m,n.active?"active":i)),g+=e,this.updateElement(n,m,s,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const a=t._parsed[n];null===a||isNaN(a)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(a))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Bn*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=Di(e._parsed[t],n.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,a,s,r,o;if(!t)for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),t=s.data,r=s.controller;break}if(!t)return 0;for(i=0,a=t.length;i<a;++i)o=r.resolveDataElementOptions(i),"inner"!==o.borderAlign&&(e=Math.max(e,o.borderWidth||0,o.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(_n(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}r(Ns,"id","doughnut"),r(Ns,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),r(Ns,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),r(Ns,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((e,a)=>{const s=t.getDatasetMeta(0).controller.getStyle(a);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class Os extends ks{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=e,s=this.chart._animationsDisabled;let{start:r,count:o}=xi(e,i,s);this._drawStart=r,this._drawCount=o,yi(e)&&(r=0,o=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(i,r,o,t)}updateElements(t,e,n,i){const a="reset"===i,{iScale:s,vScale:r,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(e,i),d=s.axis,u=r.axis,{spanGaps:p,segment:f}=this.options,m=Qn(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||a||"none"===i,v=e+n,b=t.length;let x=e>0&&this.getParsed(e-1);for(let y=0;y<b;++y){const n=t[y],p=g?n:{};if(y<e||y>=v){p.skip=!0;continue}const b=this.getParsed(y),w=vn(b[u]),_=p[d]=s.getPixelForValue(b[d],y),k=p[u]=a||w?r.getBasePixel():r.getPixelForValue(o?this.applyStack(r,b,o):b[u],y);p.skip=isNaN(_)||isNaN(k)||w,p.stop=y>0&&Math.abs(b[d]-x[d])>m,f&&(p.parsed=b,p.raw=l.data[y]),h&&(p.options=c||this.resolveDataElementOptions(y,n.active?"active":i)),g||this.updateElement(n,y,p,i),x=b}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}r(Os,"id","line"),r(Os,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),r(Os,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Is extends ks{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=Di(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:a}}parseObjectData(t,e,n,i){return Aa.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(i/2,0),s=(a-Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=a-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,n,i){const a="reset"===i,s=this.chart,r=s.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,h=o.getIndexAngle(0)-.5*zn;let d,u=h;const p=360/this.countVisibleElements();for(d=0;d<e;++d)u+=this._computeAngle(d,i,p);for(d=e;d<e+n;d++){const e=t[d];let n=u,f=u+this._computeAngle(d,i,p),m=s.getDataVisibility(d)?o.getDistanceFromCenterForValue(this.getParsed(d).r):0;u=f,a&&(r.animateScale&&(m=0),r.animateRotate&&(n=f=h));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(d,e.active?"active":i)};this.updateElement(e,d,g,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Zn(this.resolveDataElementOptions(t,e).angle||n):0}}r(Is,"id","polarArea"),r(Is,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),r(Is,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((e,a)=>{const s=t.getDatasetMeta(0).controller.getStyle(a);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Fs extends Ns{}r(Fs,"id","pie"),r(Fs,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class js extends ks{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return Aa.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],a=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:a.length===i.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const a=this._cachedMeta.rScale,s="reset"===i;for(let r=e;r<e+n;r++){const e=t[r],n=this.resolveDataElementOptions(r,e.active?"active":i),o=a.getPointPositionForValue(r,this.getParsed(r).r),l=s?a.xCenter:o.x,c=s?a.yCenter:o.y,h={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,r,h,i)}}}r(js,"id","radar"),r(js,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),r(js,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class zs extends ks{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:a}=e,s=this.getParsed(t),r=i.getLabelForValue(s.x),o=a.getLabelForValue(s.y);return{label:n[t]||"",value:"("+r+", "+o+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:a,count:s}=xi(e,n,i);if(this._drawStart=a,this._drawCount=s,yi(e)&&(a=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:s}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!s._decimated,a.points=n;const r=this.resolveDatasetElementOptions(t);r.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:r},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,a,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const a="reset"===i,{iScale:s,vScale:r,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),h=this.getSharedOptions(c),d=this.includeOptions(i,h),u=s.axis,p=r.axis,{spanGaps:f,segment:m}=this.options,g=Qn(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||a||"none"===i;let b=e>0&&this.getParsed(e-1);for(let x=e;x<e+n;++x){const e=t[x],n=this.getParsed(x),c=v?e:{},f=vn(n[p]),y=c[u]=s.getPixelForValue(n[u],x),w=c[p]=a||f?r.getBasePixel():r.getPixelForValue(o?this.applyStack(r,n,o):n[p],x);c.skip=isNaN(y)||isNaN(w)||f,c.stop=x>0&&Math.abs(n[u]-b[u])>g,m&&(c.parsed=n,c.raw=l.data[x]),d&&(c.options=h||this.resolveDataElementOptions(x,e.active?"active":i)),v||this.updateElement(e,x,c,i),b=n}this.updateSharedOptions(h,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const a=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,a,s)/2}}r(zs,"id","scatter"),r(zs,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),r(zs,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Bs=Object.freeze({__proto__:null,BarController:Rs,BubbleController:Ls,DoughnutController:Ns,LineController:Os,PieController:Fs,PolarAreaController:Is,RadarController:js,ScatterController:zs});function Ws(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Hs{static override(t){Object.assign(Hs.prototype,t)}constructor(t){r(this,"options",void 0),this.options=t||{}}init(){}formats(){return Ws()}parse(){return Ws()}format(){return Ws()}add(){return Ws()}diff(){return Ws()}startOf(){return Ws()}endOf(){return Ws()}}var Vs=Hs;function Us(t,e,n,i){const{controller:a,data:s,_sorted:r}=t,o=a._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&"r"!==e&&r&&s.length){const r=o._reversePixels?di:hi;if(!i){const i=r(s,e,n);if(l){const{vScale:e}=a._cachedMeta,{_parsed:n}=t,s=n.slice(0,i.lo+1).reverse().findIndex(t=>!vn(t[e.axis]));i.lo-=Math.max(0,s);const r=n.slice(i.hi).findIndex(t=>!vn(t[e.axis]));i.hi+=Math.max(0,r)}return i}if(a._sharedOptions){const t=s[0],i="function"===typeof t.getRange&&t.getRange(e);if(i){const t=r(s,e,n-i),a=r(s,e,n+i);return{lo:t.lo,hi:a.hi}}}}return{lo:0,hi:s.length-1}}function qs(t,e,n,i,a){const s=t.getSortedVisibleDatasetMetas(),r=n[e];for(let o=0,l=s.length;o<l;++o){const{index:t,data:n}=s[o],{lo:l,hi:c}=Us(s[o],e,r,a);for(let e=l;e<=c;++e){const a=n[e];a.skip||i(a,t,e)}}}function Gs(t,e,n,i,a){const s=[];if(!a&&!t.isPointInArea(e))return s;return qs(t,n,e,function(n,r,o){(a||Gi(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&s.push({element:n,datasetIndex:r,index:o})},!0),s}function Ys(t,e,n,i,a,s){let r=[];const o=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const a=e?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return qs(t,n,e,function(n,c,h){const d=n.inRange(e.x,e.y,a);if(i&&!d)return;const u=n.getCenterPoint(a);if(!(!!s||t.isPointInArea(u))&&!d)return;const p=o(e,u);p<l?(r=[{element:n,datasetIndex:c,index:h}],l=p):p===l&&r.push({element:n,datasetIndex:c,index:h})}),r}function Xs(t,e,n,i,a,s){return s||t.isPointInArea(e)?"r"!==n||i?Ys(t,e,n,i,a,s):function(t,e,n,i){let a=[];return qs(t,n,e,function(t,n,s){const{startAngle:r,endAngle:o}=t.getProps(["startAngle","endAngle"],i),{angle:l}=ni(t,{x:e.x,y:e.y});ri(l,r,o)&&a.push({element:t,datasetIndex:n,index:s})}),a}(t,e,n,a):[]}function Ks(t,e,n,i,a){const s=[],r="x"===n?"inXRange":"inYRange";let o=!1;return qs(t,n,e,(t,i,l)=>{t[r]&&t[r](e[n],a)&&(s.push({element:t,datasetIndex:i,index:l}),o=o||t.inRange(e.x,e.y,a))}),i&&!o?[]:s}var $s={evaluateInteractionItems:qs,modes:{index(t,e,n,i){const a=za(e,t),s=n.axis||"x",r=n.includeInvisible||!1,o=n.intersect?Gs(t,a,s,i,r):Xs(t,a,s,!1,i,r),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{const e=o[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})}),l):[]},dataset(t,e,n,i){const a=za(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;let o=n.intersect?Gs(t,a,s,i,r):Xs(t,a,s,!1,i,r);if(o.length>0){const e=o[0].datasetIndex,n=t.getDatasetMeta(e).data;o=[];for(let t=0;t<n.length;++t)o.push({element:n[t],datasetIndex:e,index:t})}return o},point:(t,e,n,i)=>Gs(t,za(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const a=za(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;return Xs(t,a,s,n.intersect,i,r)},x:(t,e,n,i)=>Ks(t,za(e,t),"x",n.intersect,i),y:(t,e,n,i)=>Ks(t,za(e,t),"y",n.intersect,i)}};const Qs=["left","top","right","bottom"];function Js(t,e){return t.filter(t=>t.pos===e)}function Zs(t,e){return t.filter(t=>-1===Qs.indexOf(t.pos)&&t.box.axis===e)}function tr(t,e){return t.sort((t,n)=>{const i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function er(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:a}=n;if(!t||!Qs.includes(i))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:a}=e;let s,r,o;for(s=0,r=t.length;s<r;++s){o=t[s];const{fullSize:r}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*i:r&&e.availableWidth,o.height=a):(o.width=i,o.height=c?c*a:r&&e.availableHeight)}return n}function nr(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ir(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ar(t,e,n,i){const{pos:a,box:s}=n,r=t.maxPadding;if(!xn(a)){n.size&&(t[a]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[a]+=n.size}s.getPadding&&ir(r,s.getPadding());const o=Math.max(0,e.outerWidth-nr(r,t,"left","right")),l=Math.max(0,e.outerHeight-nr(r,t,"top","bottom")),c=o!==t.w,h=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function sr(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{i[t]=Math.max(e[t],n[t])}),i}return i(t?["left","right"]:["top","bottom"])}function rr(t,e,n,i){const a=[];let s,r,o,l,c,h;for(s=0,r=t.length,c=0;s<r;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,sr(o.horizontal,e));const{same:r,other:d}=ar(e,n,o,i);c|=r&&a.length,h=h||d,l.fullSize||a.push(o)}return c&&rr(a,e,n,i)||h}function or(t,e,n,i,a){t.top=n,t.left=e,t.right=e+i,t.bottom=n+a,t.width=i,t.height=a}function lr(t,e,n,i){const a=n.padding;let{x:s,y:r}=e;for(const o of t){const t=o.box,l=i[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const i=e.w*c,s=l.size||t.height;In(l.start)&&(r=l.start),t.fullSize?or(t,a.left,r,n.outerWidth-a.right-a.left,s):or(t,e.left+l.placed,r,i,s),l.start=r,l.placed+=i,r=t.bottom}else{const i=e.h*c,r=l.size||t.width;In(l.start)&&(s=l.start),t.fullSize?or(t,s,a.top,r,n.outerHeight-a.bottom-a.top):or(t,s,e.top+l.placed,r,i),l.start=s,l.placed+=i,s=t.right}}e.x=s,e.y=r}var cr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const a=la(t.options.layout.padding),s=Math.max(e-a.width,0),r=Math.max(n-a.height,0),o=function(t){const e=function(t){const e=[];let n,i,a,s,r,o;for(n=0,i=(t||[]).length;n<i;++n)a=t[n],({position:s,options:{stack:r,stackWeight:o=1}}=a),e.push({index:n,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:r&&s+r,stackWeight:o});return e}(t),n=tr(e.filter(t=>t.box.fullSize),!0),i=tr(Js(e,"left"),!0),a=tr(Js(e,"right")),s=tr(Js(e,"top"),!0),r=tr(Js(e,"bottom")),o=Zs(e,"x"),l=Zs(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:a.concat(l).concat(r).concat(o),chartArea:Js(e,"chartArea"),vertical:i.concat(a).concat(l),horizontal:s.concat(r).concat(o)}}(t.boxes),l=o.vertical,c=o.horizontal;An(t.boxes,t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()});const h=l.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:s,availableHeight:r,vBoxMaxWidth:s/2/h,hBoxMaxHeight:r/2}),u=Object.assign({},a);ir(u,la(i));const p=Object.assign({maxPadding:u,w:s,h:r,x:a.left,y:a.top},a),f=er(l.concat(c),d);rr(o.fullSize,p,d,f),rr(l,p,d,f),rr(c,p,d,f)&&rr(l,p,d,f),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(p),lr(o.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,lr(o.rightAndBottom,p,d,f),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},An(o.chartArea,e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class hr{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class dr extends hr{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ur="$chartjs",pr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fr=t=>null===t||""===t;const mr=!!Va&&{passive:!0};function gr(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,mr)}function vr(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function br(t,e,n){const i=t.canvas,a=new MutationObserver(t=>{let e=!1;for(const n of t)e=e||vr(n.addedNodes,i),e=e&&!vr(n.removedNodes,i);e&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function xr(t,e,n){const i=t.canvas,a=new MutationObserver(t=>{let e=!1;for(const n of t)e=e||vr(n.removedNodes,i),e=e&&!vr(n.addedNodes,i);e&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const yr=new Map;let wr=0;function _r(){const t=window.devicePixelRatio;t!==wr&&(wr=t,yr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function kr(t,e,n){const i=t.canvas,a=i&&Na(i);if(!a)return;const s=gi((t,e)=>{const i=a.clientWidth;n(t,e),i<a.clientWidth&&n()},window),r=new ResizeObserver(t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||s(n,i)});return r.observe(a),function(t,e){yr.size||window.addEventListener("resize",_r),yr.set(t,e)}(t,s),r}function Sr(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){yr.delete(t),yr.size||window.removeEventListener("resize",_r)}(t)}function Ar(t,e,n){const i=t.canvas,a=gi(e=>{null!==t.ctx&&n(function(t,e){const n=pr[t.type]||t.type,{x:i,y:a}=za(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==a?a:null}}(e,t))},t);return function(t,e,n){t&&t.addEventListener(e,n,mr)}(i,e,a),a}class Mr extends hr{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),a=t.getAttribute("width");if(t[ur]={initial:{height:i,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",fr(a)){const e=Ua(t,"width");void 0!==e&&(t.width=e)}if(fr(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Ua(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[ur])return!1;const n=e[ur].initial;["height","width"].forEach(t=>{const i=n[t];vn(i)?e.removeAttribute(t):e.setAttribute(t,i)});const i=n.style||{};return Object.keys(i).forEach(t=>{e.style[t]=i[t]}),e.width=e.width,delete e[ur],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),a={attach:br,detach:xr,resize:kr}[e]||Ar;i[e]=a(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:Sr,detach:Sr,resize:Sr}[e]||gr)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return Wa(t,e,n,i)}isAttached(t){const e=t&&Na(t);return!(!e||!e.isConnected)}}class Er{constructor(){r(this,"x",void 0),r(this,"y",void 0),r(this,"active",!1),r(this,"options",void 0),r(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Qn(this.x)&&Qn(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach(t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]}),i}}function Cr(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(i,a))}(t),a=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],r=s.length,o=s[0],l=s[r-1],c=[];if(r>a)return function(t,e,n,i){let a,s=0,r=n[0];for(i=Math.ceil(i),a=0;a<t.length;a++)a===r&&(e.push(t[a]),s++,r=n[s*i])}(e,c,s,r/a),c;const h=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),a=e.length/n;if(!i)return Math.max(a,1);const s=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort((t,e)=>t-e).pop(),e}(i);for(let r=0,o=s.length-1;r<o;r++){const t=s[r];if(t>a)return t}return Math.max(a,1)}(s,e,a);if(r>0){let t,n;const i=r>1?Math.round((l-o)/(r-1)):null;for(Tr(e,c,h,vn(i)?0:o-i,o),t=0,n=r-1;t<n;t++)Tr(e,c,h,s[t],s[t+1]);return Tr(e,c,h,l,vn(i)?e.length:l+i),c}return Tr(e,c,h),c}function Tr(t,e,n,i,a){const s=_n(i,0),r=Math.min(_n(a,t.length),t.length);let o,l,c,h=0;for(n=Math.ceil(n),a&&(o=a-i,n=o/Math.floor(o/n)),c=s;c<0;)h++,c=Math.round(s+h*n);for(l=Math.max(s,0);l<r;l++)l===c&&(e.push(t[l]),h++,c=Math.round(s+h*n))}r(Er,"defaults",{}),r(Er,"defaultRoutes",void 0);const Pr=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,Dr=(t,e)=>Math.min(e||t,t);function Rr(t,e){const n=[],i=t.length/e,a=t.length;let s=0;for(;s<a;s+=i)n.push(t[Math.floor(s)]);return n}function Lr(t,e,n){const i=t.ticks.length,a=Math.min(e,i-1),s=t._startPixel,r=t._endPixel,o=1e-6;let l,c=t.getPixelForTick(a);if(!(n&&(l=1===i?Math.max(c-s,r-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(a-1))/2,c+=a<e?l:-l,c<s-o||c>r+o)))return c}function Nr(t){return t.drawTicks?t.tickLength:0}function Or(t,e){if(!t.display)return 0;const n=ca(t.font,e),i=la(t.padding);return(bn(t.text)?t.text.length:1)*n.lineHeight+i.height}function Ir(t,e,n){let i=vi(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class Fr extends Er{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=wn(t,Number.POSITIVE_INFINITY),e=wn(e,Number.NEGATIVE_INFINITY),n=wn(n,Number.POSITIVE_INFINITY),i=wn(i,Number.NEGATIVE_INFINITY),{min:wn(t,n),max:wn(e,i),minDefined:yn(t),maxDefined:yn(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:a,maxDefined:s}=this.getUserBounds();if(a&&s)return{min:n,max:i};const r=this.getMatchingVisibleMetas();for(let o=0,l=r.length;o<l;++o)e=r[o].controller.getMinMax(this,t),a||(n=Math.min(n,e.min)),s||(i=Math.max(i,e.max));return n=s&&n>i?i:n,i=a&&n>i?n:i,{min:wn(n,wn(i,n)),max:wn(i,wn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Sn(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:a,ticks:s}=this.options,r=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:a}=t,s=kn(e,(a-i)/2),r=(t,e)=>n&&0===t?0:t+e;return{min:r(i,-Math.abs(s)),max:r(a,s)}}(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=r<this.ticks.length;this._convertTicksToLabels(o?Rr(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=Cr(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Sn(this.options.afterUpdate,[this])}beforeSetDimensions(){Sn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Sn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Sn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Sn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n],a.label=Sn(e.callback,[a.value,n,t],this)}afterTickToLabelConversion(){Sn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Sn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Dr(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,a=e.maxRotation;let s,r,o,l=i;if(!this._isVisible()||!e.display||i>=a||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,u=oi(this.chart.width-h,0,this.maxWidth);s=t.offset?this.maxWidth/n:u/(n-1),h+6>s&&(s=u/(n-(t.offset?.5:1)),r=this.maxHeight-Nr(t.grid)-e.padding-Or(t.title,this.chart.options.font),o=Math.sqrt(h*h+d*d),l=ti(Math.min(Math.asin(oi((c.highest.height+6)/s,-1,1)),Math.asin(oi(r/o,-1,1))-Math.asin(oi(d/o,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Sn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Sn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:a}}=this,s=this._isVisible(),r=this.isHorizontal();if(s){const s=Or(i,e.options.font);if(r?(t.width=this.maxWidth,t.height=Nr(a)+s):(t.height=this.maxHeight,t.width=Nr(a)+s),n.display&&this.ticks.length){const{first:e,last:i,widest:a,highest:s}=this._getLabelSizes(),o=2*n.padding,l=Zn(this.labelRotation),c=Math.cos(l),h=Math.sin(l);if(r){const e=n.mirror?0:h*a.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+o)}else{const e=n.mirror?0:c*a.width+h*s.height;t.width=Math.min(this.maxWidth,t.width+e+o)}this._calculatePadding(e,i,h,c)}}this._handleMargins(),r?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:a,padding:s},position:r}=this.options,o=0!==this.labelRotation,l="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;o?l?(h=i*t.width,d=n*e.height):(h=n*t.height,d=i*e.width):"start"===a?d=e.width:"end"===a?h=t.width:"inner"!==a&&(h=t.width/2,d=e.width/2),this.paddingLeft=Math.max((h-r+s)*this.width/(this.width-r),0),this.paddingRight=Math.max((d-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===a?(n=0,i=t.height):"end"===a&&(n=e.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Sn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)vn(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Rr(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:a}=this,s=[],r=[],o=Math.floor(e/Dr(e,n));let l,c,h,d,u,p,f,m,g,v,b,x=0,y=0;for(l=0;l<e;l+=o){if(d=t[l].label,u=this._resolveTickFontOptions(l),i.font=p=u.string,f=a[p]=a[p]||{data:{},gc:[]},m=u.lineHeight,g=v=0,vn(d)||bn(d)){if(bn(d))for(c=0,h=d.length;c<h;++c)b=d[c],vn(b)||bn(b)||(g=Bi(i,f.data,f.gc,g,b),v+=m)}else g=Bi(i,f.data,f.gc,g,d),v=m;s.push(g),r.push(v),x=Math.max(g,x),y=Math.max(v,y)}!function(t,e){An(t,t=>{const n=t.gc,i=n.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[n[a]];n.splice(0,i)}})}(a,e);const w=s.indexOf(x),_=r.indexOf(y),k=t=>({width:s[t]||0,height:r[t]||0});return{first:k(0),last:k(e-1),widest:k(w),highest:k(_),widths:s,heights:r}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return oi(this._alignToPixels?Hi(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return da(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=da(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Zn(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),a=this._getLabelSizes(),s=t.autoSkipPadding||0,r=a?a.widest.width+s:0,o=a?a.highest.height+s:0;return this.isHorizontal()?o*n>r*i?r/n:o/i:o*i<r*n?o/n:r/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:a,position:s,border:r}=i,o=a.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),h=Nr(a),d=[],u=r.setContext(this.getContext()),p=u.display?u.width:0,f=p/2,m=function(t){return Hi(n,t,p)};let g,v,b,x,y,w,_,k,S,A,M,E;if("top"===s)g=m(this.bottom),w=this.bottom-h,k=g-f,A=m(t.top)+f,E=t.bottom;else if("bottom"===s)g=m(this.top),A=t.top,E=m(t.bottom)-f,w=g+f,k=this.top+h;else if("left"===s)g=m(this.right),y=this.right-h,_=g-f,S=m(t.left)+f,M=t.right;else if("right"===s)g=m(this.left),S=t.left,M=m(t.right)-f,y=g+f,_=this.left+h;else if("x"===e){if("center"===s)g=m((t.top+t.bottom)/2+.5);else if(xn(s)){const t=Object.keys(s)[0],e=s[t];g=m(this.chart.scales[t].getPixelForValue(e))}A=t.top,E=t.bottom,w=g+f,k=w+h}else if("y"===e){if("center"===s)g=m((t.left+t.right)/2);else if(xn(s)){const t=Object.keys(s)[0],e=s[t];g=m(this.chart.scales[t].getPixelForValue(e))}y=g-f,_=y-h,S=t.left,M=t.right}const C=_n(i.ticks.maxTicksLimit,c),T=Math.max(1,Math.ceil(c/C));for(v=0;v<c;v+=T){const t=this.getContext(v),e=a.setContext(t),i=r.setContext(t),s=e.lineWidth,c=e.color,h=i.dash||[],u=i.dashOffset,p=e.tickWidth,f=e.tickColor,m=e.tickBorderDash||[],g=e.tickBorderDashOffset;b=Lr(this,v,o),void 0!==b&&(x=Hi(n,b,s),l?y=_=S=M=x:w=k=A=E=x,d.push({tx1:y,ty1:w,tx2:_,ty2:k,x1:S,y1:A,x2:M,y2:E,width:s,color:c,borderDash:h,borderDashOffset:u,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:a}=n,s=this.isHorizontal(),r=this.ticks,{align:o,crossAlign:l,padding:c,mirror:h}=a,d=Nr(n.grid),u=d+c,p=h?-c:u,f=-Zn(this.labelRotation),m=[];let g,v,b,x,y,w,_,k,S,A,M,E,C="middle";if("top"===i)w=this.bottom-p,_=this._getXAxisLabelAlignment();else if("bottom"===i)w=this.top+p,_=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(d);_=t.textAlign,y=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(d);_=t.textAlign,y=t.x}else if("x"===e){if("center"===i)w=(t.top+t.bottom)/2+u;else if(xn(i)){const t=Object.keys(i)[0],e=i[t];w=this.chart.scales[t].getPixelForValue(e)+u}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)y=(t.left+t.right)/2-u;else if(xn(i)){const t=Object.keys(i)[0],e=i[t];y=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===e&&("start"===o?C="top":"end"===o&&(C="bottom"));const T=this._getLabelSizes();for(g=0,v=r.length;g<v;++g){b=r[g],x=b.label;const t=a.setContext(this.getContext(g));k=this.getPixelForTick(g)+a.labelOffset,S=this._resolveTickFontOptions(g),A=S.lineHeight,M=bn(x)?x.length:1;const e=M/2,n=t.color,o=t.textStrokeColor,c=t.textStrokeWidth;let d,u=_;if(s?(y=k,"inner"===_&&(u=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),E="top"===i?"near"===l||0!==f?-M*A+A/2:"center"===l?-T.highest.height/2-e*A+A:-T.highest.height+A/2:"near"===l||0!==f?A/2:"center"===l?T.highest.height/2-e*A:T.highest.height-M*A,h&&(E*=-1),0===f||t.showLabelBackdrop||(y+=A/2*Math.sin(f))):(w=k,E=(1-M)*A/2),t.showLabelBackdrop){const e=la(t.backdropPadding),n=T.heights[g],i=T.widths[g];let a=E-e.top,s=0-e.left;switch(C){case"middle":a-=n/2;break;case"bottom":a-=n}switch(_){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":g===v-1?s-=i:g>0&&(s-=i/2)}d={left:s,top:a,width:i+e.width,height:n+e.height,color:t.backdropColor}}m.push({label:x,font:S,textOffset:E,options:{rotation:f,color:n,strokeColor:o,strokeWidth:c,textAlign:u,textBaseline:C,translation:[y,w],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Zn(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,s=t+a,r=this._getLabelSizes().widest.width;let o,l;return"left"===e?i?(l=this.right+a,"near"===n?o="left":"center"===n?(o="center",l+=r/2):(o="right",l+=r)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=r/2):(o="left",l=this.left)):"right"===e?i?(l=this.left+a,"near"===n?o="right":"center"===n?(o="center",l-=r/2):(o="left",l-=r)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=r/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:a,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,a,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex(e=>e.value===t);if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,s;const r=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(a=0,s=i.length;a<s;++a){const t=i[a];e.drawOnChartArea&&r({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&r({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),s=n.display?a.width:0;if(!s)return;const r=i.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,h,d;this.isHorizontal()?(l=Hi(t,this.left,s)-s/2,c=Hi(t,this.right,r)+r/2,h=d=o):(h=Hi(t,this.top,s)-s/2,d=Hi(t,this.bottom,r)+r/2,l=c=o),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(l,h),e.lineTo(c,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&Yi(e,n);const i=this.getLabelItems(t);for(const a of i){const t=a.options,n=a.font;Zi(e,a.label,0,a.textOffset,n,t)}n&&Xi(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const a=ca(n.font),s=la(n.padding),r=n.align;let o=a.lineHeight/2;"bottom"===e||"center"===e||xn(e)?(o+=s.bottom,bn(n.text)&&(o+=a.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:h,rotation:d}=function(t,e,n,i){const{top:a,left:s,bottom:r,right:o,chart:l}=t,{chartArea:c,scales:h}=l;let d,u,p,f=0;const m=r-a,g=o-s;if(t.isHorizontal()){if(u=bi(i,s,o),xn(n)){const t=Object.keys(n)[0],i=n[t];p=h[t].getPixelForValue(i)+m-e}else p="center"===n?(c.bottom+c.top)/2+m-e:Pr(t,n,e);d=o-s}else{if(xn(n)){const t=Object.keys(n)[0],i=n[t];u=h[t].getPixelForValue(i)-g+e}else u="center"===n?(c.left+c.right)/2-g+e:Pr(t,n,e);p=bi(i,r,a),f="left"===n?-Un:Un}return{titleX:u,titleY:p,maxWidth:d,rotation:f}}(this,o,e,r);Zi(t,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:d,textAlign:Ir(r,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=_n(t.grid&&t.grid.z,-1),i=_n(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Fr.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,s;for(a=0,s=e.length;a<s;++a){const s=e[a];s[n]!==this.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){return ca(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class jr{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,a=t.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,function(t,e,n){const i=Pn(Object.create(null),[n?zi.get(n):{},zi.get(e),t.defaults]);zi.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),a=i.pop(),s=[t].concat(i).join("."),r=e[n].split("."),o=r.pop(),l=r.join(".");zi.route(s,a,l,o)})}(e,t.defaultRoutes);t.descriptors&&zi.describe(e,t.descriptors)}(t,s,n),this.override&&zi.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in zi[i]&&(delete zi[i][n],this.override&&delete Ni[n])}}class zr{constructor(){this.controllers=new jr(ks,"datasets",!0),this.elements=new jr(Er,"elements"),this.plugins=new jr(Object,"plugins"),this.scales=new jr(Fr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach(e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):An(e,e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)})})}_exec(t,e,n){const i=On(t);Sn(n["before"+i],[],n),e[t](n),Sn(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Br=new zr;class Wr{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(a,t,e,n);return"afterDestroy"===e&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const a of t){const t=a.plugin;if(!1===Sn(t[n],[e,i,a.options],t)&&i.cancelable)return!1}return!0}invalidate(){vn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=_n(n.options&&n.options.plugins,{}),a=function(t){const e={},n=[],i=Object.keys(Br.plugins.items);for(let s=0;s<i.length;s++)n.push(Br.getPlugin(i[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const t=a[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:a,localIds:s}=e;const r=[],o=t.getContext();for(const l of a){const e=l.id,a=Hr(n[e],i);null!==a&&r.push({plugin:l,options:Vr(t.config,{plugin:l,local:s[e]},a,o)})}return r}(t,a,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter(t=>!e.some(e=>t.plugin.id===e.plugin.id));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Hr(t,e){return e||!1!==t?!0===t?{}:t:null}function Vr(t,e,n,i){let{plugin:a,local:s}=e;const r=t.pluginScopeKeys(a),o=t.getOptionScopes(n,r);return s&&a.defaults&&o.push(a.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ur(t,e){const n=zi.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function qr(t){if("x"===t||"y"===t||"r"===t)return t}function Gr(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function Yr(t){if(qr(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const a of n){const e=a.axis||Gr(a.position)||t.length>1&&qr(t[0].toLowerCase());if(e)return e}throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function Xr(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Kr(t,e){const n=Ni[t.type]||{scales:{}},i=e.scales||{},a=Ur(t.type,e),s=Object.create(null);return Object.keys(i).forEach(e=>{const r=i[e];if(!xn(r))return console.error("Invalid scale configuration for scale: ".concat(e));if(r._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const o=Yr(e,r,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(e=>e.xAxisID===t||e.yAxisID===t);if(n.length)return Xr(t,"x",n[0])||Xr(t,"y",n[0])}return{}}(e,t),zi.scales[r.type]),l=function(t,e){return t===e?"_index_":"_value_"}(o,a),c=n.scales||{};s[e]=Dn(Object.create(null),[{axis:o},r,c[o],c[l]])}),t.data.datasets.forEach(n=>{const a=n.type||t.type,r=n.indexAxis||Ur(a,e),o=(Ni[a]||{}).scales||{};Object.keys(o).forEach(t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,r),a=n[e+"AxisID"]||e;s[a]=s[a]||Object.create(null),Dn(s[a],[{axis:e},i[a],o[t]])})}),Object.keys(s).forEach(t=>{const e=s[t];Dn(e,[zi.scales[e.type],zi.scale])}),s}function $r(t){const e=t.options||(t.options={});e.plugins=_n(e.plugins,{}),e.scales=Kr(t,e)}function Qr(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Jr=new Map,Zr=new Set;function to(t,e){let n=Jr.get(t);return n||(n=e(),Jr.set(t,n),Zr.add(n)),n}const eo=(t,e,n)=>{const i=Nn(e,n);void 0!==i&&t.add(i)};class no{constructor(t){this._config=function(t){return(t=t||{}).data=Qr(t.data),$r(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Qr(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),$r(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return to(t,()=>[["datasets.".concat(t),""]])}datasetAnimationScopeKeys(t,e){return to("".concat(t,".transition.").concat(e),()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]])}datasetElementScopeKeys(t,e){return to("".concat(t,"-").concat(e),()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return to("".concat(n,"-plugin-").concat(e),()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:a}=this,s=this._cachedScopes(t,n),r=s.get(e);if(r)return r;const o=new Set;e.forEach(e=>{t&&(o.add(t),e.forEach(e=>eo(o,t,e))),e.forEach(t=>eo(o,i,t)),e.forEach(t=>eo(o,Ni[a]||{},t)),e.forEach(t=>eo(o,zi,t)),e.forEach(t=>eo(o,Oi,t))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),Zr.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ni[e]||{},zi.datasets[e]||{},{type:e},zi,Oi]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const a={$shared:!0},{resolver:s,subPrefixes:r}=io(this._resolverCache,t,i);let o=s;if(function(t,e){const{isScriptable:n,isIndexable:i}=fa(t);for(const a of e){const e=n(a),s=i(a),r=(s||e)&&t[a];if(e&&(Fn(r)||ao(r))||s&&bn(r))return!0}return!1}(s,e)){a.$shared=!1;o=pa(s,n=Fn(n)?n():n,this.createResolver(t,n,r))}for(const l of e)a[l]=o[l];return a}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:a}=io(this._resolverCache,t,n);return xn(e)?pa(a,e,void 0,i):a}}function io(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const a=n.join();let s=i.get(a);if(!s){s={resolver:ua(e,n),subPrefixes:n.filter(t=>!t.toLowerCase().includes("hover"))},i.set(a,s)}return s}const ao=t=>xn(t)&&Object.getOwnPropertyNames(t).some(e=>Fn(t[e]));const so=["top","bottom","left","right","chartArea"];function ro(t,e){return"top"===t||"bottom"===t||-1===so.indexOf(t)&&"x"===e}function oo(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function lo(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Sn(n&&n.onComplete,[t],e)}function co(t){const e=t.chart,n=e.options.animation;Sn(n&&n.onProgress,[t],e)}function ho(t){return La()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const uo={},po=t=>{const e=ho(t);return Object.values(uo).filter(t=>t.canvas===e).pop()};function fo(t,e,n){const i=Object.keys(t);for(const a of i){const i=+a;if(i>=e){const s=t[a];delete t[a],(n>0||i>e)&&(t[i+n]=s)}}}class mo{static register(){Br.add(...arguments),go()}static unregister(){Br.remove(...arguments),go()}constructor(t,e){const n=this.config=new no(e),i=ho(t),a=po(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!La()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?dr:Mr}(i)),this.platform.updateConfig(n);const r=this.platform.acquireContext(i,s.aspectRatio),o=r&&r.canvas,l=o&&o.height,c=o&&o.width;this.id=gn(),this.ctx=r,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Wr,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,a)):t.apply(this,a),e}}(t=>this.update(t),s.resizeDelay||0),this._dataChanges=[],uo[this.id]=this,r&&o?(os.listen(this,"complete",lo),os.listen(this,"progress",co),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:a}=this;return vn(t)?e&&a?a:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Br}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ha(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vi(this.canvas,this.ctx),this}stop(){return os.stop(this),this}resize(t,e){os.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,a),r=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Ha(this,r,!0)&&(this.notifyPlugins("resize",{size:s}),Sn(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){An(this.options.scales||{},(t,e)=>{t.id=e})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce((t,e)=>(t[e]=!1,t),{});let a=[];e&&(a=a.concat(Object.keys(e).map(t=>{const n=e[t],i=Yr(t,n),a="r"===i,s="x"===i;return{options:n,dposition:a?"chartArea":s?"bottom":"left",dtype:a?"radialLinear":s?"category":"linear"}}))),An(a,e=>{const a=e.options,s=a.id,r=Yr(s,a),o=_n(a.type,e.dtype);void 0!==a.position&&ro(a.position,r)===ro(e.dposition)||(a.position=e.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(Br.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(a,t)}),An(i,(t,e)=>{t||delete n[e]}),An(n,t=>{cr.configure(this,t,t.options),cr.addBox(this,t)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((t,e)=>t.index-e.index),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(oo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((t,n)=>{0===e.filter(e=>e===t._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let a=this.getDatasetMeta(n);const s=i.type||this.config.type;if(a.type&&a.type!==s&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=s,a.indexAxis=i.indexAxis||Ur(s,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const e=Br.getController(s),{datasetElementType:i,dataElementType:r}=zi.datasets[s];Object.assign(e,{dataElementType:Br.getElement(r),datasetElementType:i&&Br.getElement(i)}),a.controller=new e(this,n),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){An(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===a.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||An(a,t=>{t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(oo("z","_idx"));const{_active:r,_lastEvent:o}=this;o?this._eventHandler(o,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){An(this.scales,t=>{cr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);jn(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of e){fo(t,i,"_removeElements"===n?-a:a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),i=n(0);for(let a=1;a<e;a++)if(!jn(i,n(a)))return;return Array.from(i).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;cr.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],An(this.boxes,t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,e)=>{t._idx=e}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Fn(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(os.has(this)?this.attached&&!os.running(this)&&os.start(this):(this.draw(),lo({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,a;for(i=0,a=e.length;i<a;++i){const a=e[i];t&&!a.visible||n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=ss(this,t);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(i&&Yi(e,i),t.controller.draw(),i&&Xi(e),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return Gi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const a=$s.modes[e];return"function"===typeof a?a(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter(t=>t&&t._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=da(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",a=this.getDatasetMeta(t),s=a.controller._resolveAnimations(void 0,i);In(e)?(a.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(a,{visible:n}),this.update(e=>e.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),os.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Vi(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete uo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};An(this.options.events,t=>n(t,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},a=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const r=()=>{i("attach",r),this.attached=!0,this.resize(),n("resize",a),n("detach",s)};s=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",r)},e.isAttached(this.canvas)?r():s()}unbindEvents(){An(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},An(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let a,s,r,o;for("dataset"===e&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),r=0,o=t.length;r<o;++r){s=t[r];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}});!Mn(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,n){const i=this.options.hover,a=(t,e)=>t.filter(t=>!e.some(e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)),s=a(e,t),r=n?t:a(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),r.length&&i.mode&&this.updateHoverStyle(r,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const a=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:a}=this,s=e,r=this._getActiveElements(t,i,n,s),o=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,o);n&&(this._lastEvent=null,Sn(a.onHover,[t,r,this],this),o&&Sn(a.onClick,[t,r,this],this));const c=!Mn(r,i);return(c||e)&&(this._active=r,this._updateHoverStyles(r,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}}function go(){return An(mo.instances,t=>t._plugins.invalidate())}function vo(t,e,n,i){const a=sa(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-e)/2,r=Math.min(s,i*e/2),o=t=>{const e=(n-Math.min(s,t))*i/2;return oi(t,0,Math.min(s,e))};return{outerStart:o(a.outerStart),outerEnd:o(a.outerEnd),innerStart:oi(a.innerStart,0,r),innerEnd:oi(a.innerEnd,0,r)}}function bo(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function xo(t,e,n,i,a,s){const{x:r,y:o,startAngle:l,pixelMargin:c,innerRadius:h}=e,d=Math.max(e.outerRadius+i+n-c,0),u=h>0?h+i+n+c:0;let p=0;const f=a-l;if(i){const t=((h>0?h-i:0)+(d>0?d-i:0))/2;p=(f-(0!==t?f*t/(t+i):f))/2}const m=(f-Math.max(.001,f*d-n/zn)/d)/2,g=l+m+p,v=a-m-p,{outerStart:b,outerEnd:x,innerStart:y,innerEnd:w}=vo(e,u,d,v-g),_=d-b,k=d-x,S=g+b/_,A=v-x/k,M=u+y,E=u+w,C=g+y/M,T=v-w/E;if(t.beginPath(),s){const e=(S+A)/2;if(t.arc(r,o,d,S,e),t.arc(r,o,d,e,A),x>0){const e=bo(k,A,r,o);t.arc(e.x,e.y,x,A,v+Un)}const n=bo(E,v,r,o);if(t.lineTo(n.x,n.y),w>0){const e=bo(E,T,r,o);t.arc(e.x,e.y,w,v+Un,T+Math.PI)}const i=(v-w/u+(g+y/u))/2;if(t.arc(r,o,u,v-w/u,i,!0),t.arc(r,o,u,i,g+y/u,!0),y>0){const e=bo(M,C,r,o);t.arc(e.x,e.y,y,C+Math.PI,g-Un)}const a=bo(_,g,r,o);if(t.lineTo(a.x,a.y),b>0){const e=bo(_,S,r,o);t.arc(e.x,e.y,b,g-Un,S)}}else{t.moveTo(r,o);const e=Math.cos(S)*d+r,n=Math.sin(S)*d+o;t.lineTo(e,n);const i=Math.cos(A)*d+r,a=Math.sin(A)*d+o;t.lineTo(i,a)}t.closePath()}function yo(t,e,n,i,a){const{fullCircles:s,startAngle:r,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:h,borderDash:d,borderDashOffset:u,borderRadius:p}=l,f="inner"===l.borderAlign;if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=u,f?(t.lineWidth=2*c,t.lineJoin=h||"round"):(t.lineWidth=c,t.lineJoin=h||"bevel");let m=e.endAngle;if(s){xo(t,e,n,i,m,a);for(let e=0;e<s;++e)t.stroke();isNaN(o)||(m=r+(o%Bn||Bn))}f&&function(t,e,n){const{startAngle:i,pixelMargin:a,x:s,y:r,outerRadius:o,innerRadius:l}=e;let c=a/o;t.beginPath(),t.arc(s,r,o,i-c,n+c),l>a?(c=a/l,t.arc(s,r,l,n+c,i-c,!0)):t.arc(s,r,a,n+Un,i-Un),t.closePath(),t.clip()}(t,e,m),l.selfJoin&&m-r>=zn&&0===p&&"miter"!==h&&function(t,e,n){const{startAngle:i,x:a,y:s,outerRadius:r,innerRadius:o,options:l}=e,{borderWidth:c,borderJoinStyle:h}=l,d=Math.min(c/r,si(i-n));if(t.beginPath(),t.arc(a,s,r-c/2,i+d/2,n-d/2),o>0){const e=Math.min(c/o,si(i-n));t.arc(a,s,o+c/2,n-e/2,i+e/2,!0)}else{const e=Math.min(c/2,r*si(i-n));if("round"===h)t.arc(a,s,e,n-zn/2,i+zn/2,!0);else if("bevel"===h){const r=2*e*e,o=-r*Math.cos(n+zn/2)+a,l=-r*Math.sin(n+zn/2)+s,c=r*Math.cos(i+zn/2)+a,h=r*Math.sin(i+zn/2)+s;t.lineTo(o,l),t.lineTo(c,h)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}(t,e,m),s||(xo(t,e,n,i,m,a),t.stroke())}r(mo,"defaults",zi),r(mo,"instances",uo),r(mo,"overrides",Ni),r(mo,"registry",Br),r(mo,"version","4.5.0"),r(mo,"getChart",po);class wo extends Er{constructor(t){super(),r(this,"circumference",void 0),r(this,"endAngle",void 0),r(this,"fullCircles",void 0),r(this,"innerRadius",void 0),r(this,"outerRadius",void 0),r(this,"pixelMargin",void 0),r(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:a,distance:s}=ni(i,{x:t,y:e}),{startAngle:r,endAngle:o,innerRadius:l,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,u=_n(h,o-r),p=ri(a,r,o)&&r!==o,f=u>=Bn||p,m=li(s,l+d,c+d);return f&&m}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:a,innerRadius:s,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:o,spacing:l}=this.options,c=(i+a)/2,h=(s+r+l+o)/2;return{x:e+Math.cos(c)*h,y:n+Math.sin(c)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,a=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>Bn?Math.floor(n/Bn):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const r=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(r)*i,Math.sin(r)*i);const o=i*(1-Math.sin(Math.min(zn,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,i,a){const{fullCircles:s,startAngle:r,circumference:o}=e;let l=e.endAngle;if(s){xo(t,e,n,i,l,a);for(let e=0;e<s;++e)t.fill();isNaN(o)||(l=r+(o%Bn||Bn))}xo(t,e,n,i,l,a),t.fill()}(t,this,o,a,s),yo(t,this,o,a,s),t.restore()}}function _o(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=_n(n.borderCapStyle,e.borderCapStyle),t.setLineDash(_n(n.borderDash,e.borderDash)),t.lineDashOffset=_n(n.borderDashOffset,e.borderDashOffset),t.lineJoin=_n(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=_n(n.borderWidth,e.borderWidth),t.strokeStyle=_n(n.borderColor,e.borderColor)}function ko(t,e,n){t.lineTo(n.x,n.y)}function So(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,{start:a=0,end:s=i-1}=n,{start:r,end:o}=e,l=Math.max(a,r),c=Math.min(s,o),h=a<r&&s<r||a>o&&s>o;return{count:i,start:l,loop:e.loop,ilen:c<l&&!h?i+c-l:c-l}}function Ao(t,e,n,i){const{points:a,options:s}=e,{count:r,start:o,loop:l,ilen:c}=So(a,n,i),h=function(t){return t.stepped?Ki:t.tension||"monotone"===t.cubicInterpolationMode?$i:ko}(s);let d,u,p,{move:f=!0,reverse:m}=i||{};for(d=0;d<=c;++d)u=a[(o+(m?c-d:d))%r],u.skip||(f?(t.moveTo(u.x,u.y),f=!1):h(t,p,u,m,s.stepped),p=u);return l&&(u=a[(o+(m?c:0))%r],h(t,p,u,m,s.stepped)),!!l}function Mo(t,e,n,i){const a=e.points,{count:s,start:r,ilen:o}=So(a,n,i),{move:l=!0,reverse:c}=i||{};let h,d,u,p,f,m,g=0,v=0;const b=t=>(r+(c?o-t:t))%s,x=()=>{p!==f&&(t.lineTo(g,f),t.lineTo(g,p),t.lineTo(g,m))};for(l&&(d=a[b(0)],t.moveTo(d.x,d.y)),h=0;h<=o;++h){if(d=a[b(h)],d.skip)continue;const e=d.x,n=d.y,i=0|e;i===u?(n<p?p=n:n>f&&(f=n),g=(v*g+e)/++v):(x(),t.lineTo(e,n),u=i,v=0,p=f=n),m=n}x()}function Eo(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Mo:Ao}r(wo,"id","arc"),r(wo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),r(wo,"defaultRoutes",{backgroundColor:"backgroundColor"}),r(wo,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const Co="function"===typeof Path2D;function To(t,e,n,i){Co&&!e.options.segment?function(t,e,n,i){let a=e._path;a||(a=e._path=new Path2D,e.path(a,n,i)&&a.closePath()),_o(t,e.options),t.stroke(a)}(t,e,n,i):function(t,e,n,i){const{segments:a,options:s}=e,r=Eo(e);for(const o of a)_o(t,s,o.style),t.beginPath(),r(t,e,o,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class Po extends Er{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Ra(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,a=n.length;if(!a)return[];const s=!!t._loop,{start:r,end:o}=function(t,e,n,i){let a=0,s=e-1;if(n&&!i)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,n&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}(n,a,s,i);return es(t,!0===i?[{start:r,end:o,loop:s}]:function(t,e,n,i){const a=t.length,s=[];let r,o=e,l=t[e];for(r=e+1;r<=n;++r){const n=t[r%a];n.skip||n.stop?l.skip||(i=!1,s.push({start:e%a,end:(r-1)%a,loop:i}),e=o=n.stop?r:null):(o=r,l.skip&&(e=r)),l=n}return null!==o&&s.push({start:e%a,end:o%a,loop:i}),s}(n,r,o<r?o+a:o,!!t._fullLoop&&0===r&&o===a-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],a=this.points,s=ts(this,{property:e,start:i,end:i});if(!s.length)return;const r=[],o=function(t){return t.stepped?Ga:t.tension||"monotone"===t.cubicInterpolationMode?Ya:qa}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:h}=s[l],d=a[c],u=a[h];if(d===u){r.push(d);continue}const p=o(d,u,Math.abs((i-d[e])/(u[e]-d[e])),n.stepped);p[e]=t[e],r.push(p)}return 1===r.length?r[0]:r}pathSegment(t,e,n){return Eo(this)(t,this,e,n)}path(t,e,n){const i=this.segments,a=Eo(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const r of i)s&=a(t,this,r,{start:e,end:e+n-1});return!!s}draw(t,e,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),To(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Do(t,e,n,i){const a=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<a.radius+a.hitRadius}r(Po,"id","line"),r(Po,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),r(Po,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),r(Po,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class Ro extends Er{constructor(t){super(),r(this,"parsed",void 0),r(this,"skip",void 0),r(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:a,y:s}=this.getProps(["x","y"],n);return Math.pow(t-a,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return Do(this,t,"x",e)}inYRange(t,e){return Do(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!Gi(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Ui(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Lo(t,e){const{x:n,y:i,base:a,width:s,height:r}=t.getProps(["x","y","base","width","height"],e);let o,l,c,h,d;return t.horizontal?(d=r/2,o=Math.min(n,a),l=Math.max(n,a),c=i-d,h=i+d):(d=s/2,o=n-d,l=n+d,c=Math.min(i,a),h=Math.max(i,a)),{left:o,top:c,right:l,bottom:h}}function No(t,e,n,i){return t?0:oi(e,n,i)}function Oo(t){const e=Lo(t),n=e.right-e.left,i=e.bottom-e.top,a=function(t,e,n){const i=t.options.borderWidth,a=t.borderSkipped,s=ra(i);return{t:No(a.top,s.top,0,n),r:No(a.right,s.right,0,e),b:No(a.bottom,s.bottom,0,n),l:No(a.left,s.left,0,e)}}(t,n/2,i/2),s=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=oa(a),r=Math.min(e,n),o=t.borderSkipped,l=i||xn(a);return{topLeft:No(!l||o.top||o.left,s.topLeft,0,r),topRight:No(!l||o.top||o.right,s.topRight,0,r),bottomLeft:No(!l||o.bottom||o.left,s.bottomLeft,0,r),bottomRight:No(!l||o.bottom||o.right,s.bottomRight,0,r)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function Io(t,e,n,i){const a=null===e,s=null===n,r=t&&!(a&&s)&&Lo(t,i);return r&&(a||li(e,r.left,r.right))&&(s||li(n,r.top,r.bottom))}function Fo(t,e){t.rect(e.x,e.y,e.w,e.h)}function jo(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,r=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+i,y:t.y+a,w:t.w+s,h:t.h+r,radius:t.radius}}r(Ro,"id","point"),r(Ro,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),r(Ro,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class zo extends Er{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:s}=Oo(this),r=(o=s.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?ta:Fo;var o;t.save(),s.w===a.w&&s.h===a.h||(t.beginPath(),r(t,jo(s,e,a)),t.clip(),r(t,jo(a,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),r(t,jo(a,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return Io(this,t,e,n)}inXRange(t,e){return Io(this,t,null,e)}inYRange(t,e){return Io(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+i)/2:e,y:a?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}r(zo,"id","bar"),r(zo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),r(zo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Bo=Object.freeze({__proto__:null,ArcElement:wo,BarElement:zo,LineElement:Po,PointElement:Ro});const Wo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ho=Wo.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Vo(t){return Wo[t%Wo.length]}function Uo(t){return Ho[t%Ho.length]}function qo(t){let e=0;return(n,i)=>{const a=t.getDatasetMeta(i).controller;a instanceof Ns?e=function(t,e){return t.backgroundColor=t.data.map(()=>Vo(e++)),e}(n,e):a instanceof Is?e=function(t,e){return t.backgroundColor=t.data.map(()=>Uo(e++)),e}(n,e):a&&(e=function(t,e){return t.borderColor=Vo(e),t.backgroundColor=Uo(e),++e}(n,e))}}function Go(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var Yo={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:a}=t.config,{elements:s}=a,r=Go(i)||(o=a)&&(o.borderColor||o.backgroundColor)||s&&Go(s)||"rgba(0,0,0,0.1)"!==zi.borderColor||"rgba(0,0,0,0.1)"!==zi.backgroundColor;var o;if(!n.forceOverride&&r)return;const l=qo(t);i.forEach(l)}};function Xo(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Ko(t){t.data.datasets.forEach(t=>{Xo(t)})}var $o={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void Ko(t);const i=t.width;t.data.datasets.forEach((e,a)=>{const{_data:s,indexAxis:r}=e,o=t.getDatasetMeta(a),c=s||e.data;if("y"===ha([r,t.options.indexAxis]))return;if(!o.controller.supportsDecimation)return;const h=t.scales[o.xAxisID];if("linear"!==h.type&&"time"!==h.type)return;if(t.options.parsing)return;let{start:d,count:u}=function(t,e){const n=e.length;let i,a=0;const{iScale:s}=t,{min:r,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(a=oi(hi(e,s.axis,r).lo,0,n-1)),i=c?oi(hi(e,s.axis,o).hi+1,a,n)-a:n-a,{start:a,count:i}}(o,c);if(u<=(n.threshold||4*i))return void Xo(e);let p;switch(vn(s)&&(e._data=c,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":p=function(t,e,n,i,a){const s=a.samples||i;if(s>=n)return t.slice(e,e+n);const r=[],o=(n-2)/(s-2);let l=0;const c=e+n-1;let h,d,u,p,f,m=e;for(r[l++]=t[m],h=0;h<s-2;h++){let i,a=0,s=0;const c=Math.floor((h+1)*o)+1+e,g=Math.min(Math.floor((h+2)*o)+1,n)+e,v=g-c;for(i=c;i<g;i++)a+=t[i].x,s+=t[i].y;a/=v,s/=v;const b=Math.floor(h*o)+1+e,x=Math.min(Math.floor((h+1)*o)+1,n)+e,{x:y,y:w}=t[m];for(u=p=-1,i=b;i<x;i++)p=.5*Math.abs((y-a)*(t[i].y-w)-(y-t[i].x)*(s-w)),p>u&&(u=p,d=t[i],f=i);r[l++]=d,m=f}return r[l++]=t[c],r}(c,d,u,i,n);break;case"min-max":p=function(t,e,n,i){let a,s,r,o,c,h,d,u,p,f,m=0,g=0;const v=[],b=e+n-1,x=t[e].x,y=t[b].x-x;for(a=e;a<e+n;++a){s=t[a],r=(s.x-x)/y*i,o=s.y;const e=0|r;if(e===c)o<p?(p=o,h=a):o>f&&(f=o,d=a),m=(g*m+s.x)/++g;else{const n=a-1;if(!vn(h)&&!vn(d)){const e=Math.min(h,d),i=Math.max(h,d);e!==u&&e!==n&&v.push(l(l({},t[e]),{},{x:m})),i!==u&&i!==n&&v.push(l(l({},t[i]),{},{x:m}))}a>0&&n!==u&&v.push(t[n]),v.push(s),c=e,g=0,p=f=o,h=d=u=a}}return v}(c,d,u,i);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}e._decimated=p})},destroy(t){Ko(t)}};function Qo(t,e,n,i){if(i)return;let a=e[t],s=n[t];return"angle"===t&&(a=si(a),s=si(s)),{property:t,start:a,end:s}}function Jo(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function Zo(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function tl(t,e){let n=[],i=!1;return bn(t)?(i=!0,n=t):n=function(t,e){const{x:n=null,y:i=null}=t||{},a=e.points,s=[];return e.segments.forEach(t=>{let{start:e,end:r}=t;r=Jo(e,r,a);const o=a[e],l=a[r];null!==i?(s.push({x:o.x,y:i}),s.push({x:l.x,y:i})):null!==n&&(s.push({x:n,y:o.y}),s.push({x:n,y:l.y}))}),s}(t,e),n.length?new Po({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function el(t){return t&&!1!==t.fill}function nl(t,e,n){let i=t[e].fill;const a=[e];let s;if(!n)return i;for(;!1!==i&&-1===a.indexOf(i);){if(!yn(i))return i;if(s=t[i],!s)return!1;if(s.visible)return i;a.push(i),i=s.fill}return!1}function il(t,e,n){const i=function(t){const e=t.options,n=e.fill;let i=_n(n&&n.target,n);void 0===i&&(i=!!e.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(t);if(xn(i))return!isNaN(i.value)&&i;let a=parseFloat(i);return yn(a)&&Math.floor(a)===a?function(t,e,n,i){"-"!==t&&"+"!==t||(n=e+n);if(n===e||n<0||n>=i)return!1;return n}(i[0],e,a,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function al(t,e,n){const i=[];for(let a=0;a<n.length;a++){const s=n[a],{first:r,last:o,point:l}=sl(s,e,"x");if(!(!l||r&&o))if(r)i.unshift(l);else if(t.push(l),!o)break}t.push(...i)}function sl(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const a=i[n],s=t.segments,r=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const t=s[c],e=r[t.start][n],i=r[t.end][n];if(li(a,e,i)){o=a===e,l=a===i;break}}return{first:o,last:l,point:i}}class rl{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:a,radius:s}=this;return e=e||{start:0,end:Bn},t.arc(i,a,s,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,a=t.angle;return{x:e+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}}function ol(t){const{chart:e,fill:n,line:i}=t;if(yn(n))return function(t,e){const n=t.getDatasetMeta(e),i=n&&t.isDatasetVisible(e);return i?n.dataset:null}(e,n);if("stack"===n)return function(t){const{scale:e,index:n,line:i}=t,a=[],s=i.segments,r=i.points,o=function(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const t=i[a];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}(e,n);o.push(tl({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const t=s[l];for(let e=t.start;e<=t.end;e++)al(a,r[e],o)}return new Po({points:a,options:{}})}(t);if("shape"===n)return!0;const a=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:n}=t,i=e.options,a=e.getLabels().length,s=i.reverse?e.max:e.min,r=function(t,e,n){let i;return i="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:xn(t)?t.value:e.getBaseValue(),i}(n,e,s),o=[];if(i.grid.circular){const t=e.getPointPositionForValue(0,s);return new rl({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(r)})}for(let l=0;l<a;++l)o.push(e.getPointPositionForValue(l,r));return o}(t);return function(t){const{scale:e={},fill:n}=t,i=function(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:xn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(yn(i)){const t=e.isHorizontal();return{x:t?i:null,y:t?null:i}}return null}(t)}(t);return a instanceof rl?a:tl(a,i)}function ll(t,e,n){const i=ol(e),{chart:a,index:s,line:r,scale:o,axis:l}=e,c=r.options,h=c.fill,d=c.backgroundColor,{above:u=d,below:p=d}=h||{},f=a.getDatasetMeta(s),m=ss(a,f);i&&r.points.length&&(Yi(t,n),function(t,e){const{line:n,target:i,above:a,below:s,area:r,scale:o,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let h=s;s!==a&&("x"===c?(cl(t,i,r.top),dl(t,{line:n,target:i,color:a,scale:o,property:c,clip:l}),t.restore(),t.save(),cl(t,i,r.bottom)):"y"===c&&(hl(t,i,r.left),dl(t,{line:n,target:i,color:s,scale:o,property:c,clip:l}),t.restore(),t.save(),hl(t,i,r.right),h=a));dl(t,{line:n,target:i,color:h,scale:o,property:c,clip:l}),t.restore()}(t,{line:r,target:i,above:u,below:p,area:n,scale:o,axis:l,clip:m}),Xi(t))}function cl(t,e,n){const{segments:i,points:a}=e;let s=!0,r=!1;t.beginPath();for(const o of i){const{start:i,end:l}=o,c=a[i],h=a[Jo(i,l,a)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),r=!!e.pathSegment(t,o,{move:r}),r?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function hl(t,e,n){const{segments:i,points:a}=e;let s=!0,r=!1;t.beginPath();for(const o of i){const{start:i,end:l}=o,c=a[i],h=a[Jo(i,l,a)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(n,c.y),t.lineTo(c.x,c.y)),r=!!e.pathSegment(t,o,{move:r}),r?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function dl(t,e){const{line:n,target:i,property:a,color:s,scale:r,clip:o}=e,l=function(t,e,n){const i=t.segments,a=t.points,s=e.points,r=[];for(const o of i){let{start:t,end:i}=o;i=Jo(t,i,a);const l=Qo(n,a[t],a[i],o.loop);if(!e.segments){r.push({source:o,target:l,start:a[t],end:a[i]});continue}const c=ts(e,l);for(const e of c){const t=Qo(n,s[e.start],s[e.end],e.loop),i=Za(o,a,t);for(const a of i)r.push({source:a,target:e,start:{[n]:Zo(l,t,"start",Math.max)},end:{[n]:Zo(l,t,"end",Math.min)}})}}return r}(n,i,a);for(const{source:c,target:h,start:d,end:u}of l){const{style:{backgroundColor:e=s}={}}=c,l=!0!==i;t.save(),t.fillStyle=e,ul(t,r,o,l&&Qo(a,d,u)),t.beginPath();const p=!!n.pathSegment(t,c);let f;if(l){p?t.closePath():pl(t,i,u,a);const e=!!i.pathSegment(t,h,{move:p,reverse:!0});f=p&&e,f||pl(t,i,d,a)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function ul(t,e,n,i){const a=e.chart.chartArea,{property:s,start:r,end:o}=i||{};if("x"===s||"y"===s){let e,i,l,c;"x"===s?(e=r,i=a.top,l=o,c=a.bottom):(e=a.left,i=r,l=a.right,c=o),t.beginPath(),n&&(e=Math.max(e,n.left),l=Math.min(l,n.right),i=Math.max(i,n.top),c=Math.min(c,n.bottom)),t.rect(e,i,l-e,c-i),t.clip()}}function pl(t,e,n,i){const a=e.interpolate(n,i);a&&t.lineTo(a.x,a.y)}var fl={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,a=[];let s,r,o,l;for(r=0;r<i;++r)s=t.getDatasetMeta(r),o=s.dataset,l=null,o&&o.options&&o instanceof Po&&(l={visible:t.isDatasetVisible(r),index:r,fill:il(o,r,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,a.push(l);for(r=0;r<i;++r)l=a[r],l&&!1!==l.fill&&(l.fill=nl(a,r,n.propagate))},beforeDraw(t,e,n){const i="beforeDraw"===n.drawTime,a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let r=a.length-1;r>=0;--r){const e=a[r].$filler;e&&(e.line.updateControlPoints(s,e.axis),i&&e.fill&&ll(t.ctx,e,s))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=t.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const e=i[a].$filler;el(e)&&ll(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;el(i)&&"beforeDatasetDraw"===n.drawTime&&ll(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ml=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class gl extends Er{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Sn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(e=>t.filter(e,this.chart.data))),t.sort&&(e=e.sort((e,n)=>t.sort(e,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=ca(n.font),a=i.size,s=this._computeTitleHeight(),{boxWidth:r,itemHeight:o}=ml(n,a);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,a,r,o)+10):(c=this.maxHeight,l=this._fitCols(s,i,r,o)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:a,maxWidth:s,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+r;let h=t;a.textAlign="left",a.textBaseline="middle";let d=-1,u=-c;return this.legendItems.forEach((t,p)=>{const f=n+e/2+a.measureText(t.text).width;(0===p||l[l.length-1]+f+2*r>s)&&(h+=c,l[l.length-(p>0?0:1)]=0,u+=c,d++),o[p]={left:0,top:u,row:d,width:f,height:i},l[l.length-1]+=f+r}),h}_fitCols(t,e,n,i){const{ctx:a,maxHeight:s,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-t;let h=r,d=0,u=0,p=0,f=0;return this.legendItems.forEach((t,s)=>{const{itemWidth:m,itemHeight:g}=function(t,e,n,i,a){const s=function(t,e,n,i){let a=t.text;a&&"string"!==typeof a&&(a=a.reduce((t,e)=>t.length>e.length?t:e));return e+n.size/2+i.measureText(a).width}(i,t,e,n),r=function(t,e,n){let i=t;"string"!==typeof e.text&&(i=vl(e,n));return i}(a,i,e.lineHeight);return{itemWidth:s,itemHeight:r}}(n,e,a,t,i);s>0&&u+g+2*r>c&&(h+=d+r,l.push({width:d,height:u}),p+=d+r,f++,d=u=0),o[s]={left:p,top:u,col:f,width:m,height:g},d=Math.max(d,m),u+=g+r}),h+=d,l.push({width:d,height:u}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:a}}=this,s=Xa(a,this.left,this.width);if(this.isHorizontal()){let a=0,r=bi(n,this.left+i,this.right-this.lineWidths[a]);for(const o of e)a!==o.row&&(a=o.row,r=bi(n,this.left+i,this.right-this.lineWidths[a])),o.top+=this.top+t+i,o.left=s.leftForLtr(s.x(r),o.width),r+=o.width+i}else{let a=0,r=bi(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const o of e)o.col!==a&&(a=o.col,r=bi(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),o.top=r,o.left+=this.left+i,o.left=s.leftForLtr(s.x(o.left),o.width),r+=o.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Yi(t,this),this._draw(),Xi(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:a,labels:s}=t,r=zi.color,o=Xa(t.rtl,this.left,this.width),l=ca(s.font),{padding:c}=s,h=l.size,d=h/2;let u;this.drawTitle(),i.textAlign=o.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=ml(s,h),g=this.isHorizontal(),v=this._computeTitleHeight();u=g?{x:bi(a,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:bi(a,this.top+v+c,this.bottom-e[0].height),line:0},Ka(this.ctx,t.textDirection);const b=m+c;this.legendItems.forEach((x,y)=>{i.strokeStyle=x.fontColor,i.fillStyle=x.fontColor;const w=i.measureText(x.text).width,_=o.textAlign(x.textAlign||(x.textAlign=s.textAlign)),k=p+d+w;let S=u.x,A=u.y;o.setWidth(this.width),g?y>0&&S+k+c>this.right&&(A=u.y+=b,u.line++,S=u.x=bi(a,this.left+c,this.right-n[u.line])):y>0&&A+b>this.bottom&&(S=u.x=S+e[u.line].width+c,u.line++,A=u.y=bi(a,this.top+v+c,this.bottom-e[u.line].height));if(function(t,e,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;i.save();const a=_n(n.lineWidth,1);if(i.fillStyle=_n(n.fillStyle,r),i.lineCap=_n(n.lineCap,"butt"),i.lineDashOffset=_n(n.lineDashOffset,0),i.lineJoin=_n(n.lineJoin,"miter"),i.lineWidth=a,i.strokeStyle=_n(n.strokeStyle,r),i.setLineDash(_n(n.lineDash,[])),s.usePointStyle){const r={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:a},l=o.xPlus(t,p/2);qi(i,r,l,e+d,s.pointStyleWidth&&p)}else{const s=e+Math.max((h-f)/2,0),r=o.leftForLtr(t,p),l=oa(n.borderRadius);i.beginPath(),Object.values(l).some(t=>0!==t)?ta(i,{x:r,y:s,w:p,h:f,radius:l}):i.rect(r,s,p,f),i.fill(),0!==a&&i.stroke()}i.restore()}(o.x(S),A,x),S=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(_,S+p+d,g?S+k:this.right,t.rtl),function(t,e,n){Zi(i,n.text,t,e+m/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(S),A,x),g)u.x+=k+c;else if("string"!==typeof x.text){const t=l.lineHeight;u.y+=vl(x,t)+c}else u.y+=b}),$a(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=ca(e.font),i=la(e.padding);if(!e.display)return;const a=Xa(t.rtl,this.left,this.width),s=this.ctx,r=e.position,o=n.size/2,l=i.top+o;let c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,h=bi(t.align,h,this.right-d);else{const e=this.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);c=l+bi(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const u=bi(r,h,h+d);s.textAlign=a.textAlign(vi(r)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,Zi(s,e.text,u,c,n)}_computeTitleHeight(){const t=this.options.title,e=ca(t.font),n=la(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,a;if(li(t,this.left,this.right)&&li(e,this.top,this.bottom))for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],li(t,i.left,i.left+i.width)&&li(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const s=this._hoveredItem,r=(a=n,null!==(i=s)&&null!==a&&i.datasetIndex===a.datasetIndex&&i.index===a.index);s&&!r&&Sn(e.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!r&&Sn(e.onHover,[t,n,this],this)}else n&&Sn(e.onClick,[t,n,this],this);var i,a}}function vl(t,e){return e*(t.text?t.text.length:0)}var bl={id:"legend",_element:gl,start(t,e,n){const i=t.legend=new gl({ctx:t.ctx,options:n,chart:t});cr.configure(t,i,n),cr.addBox(t,i)},stop(t){cr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;cr.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,a=n.chart;a.isDatasetVisible(i)?(a.hide(i),e.hidden=!0):(a.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:a,color:s,useBorderRadius:r,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(t=>{const l=t.controller.getStyle(n?0:void 0),c=la(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:a||l.textAlign,borderRadius:r&&(o||l.borderRadius),datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class xl extends Er{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=bn(n.text)?n.text.length:1;this._padding=la(n.padding);const a=i*ca(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:a,options:s}=this,r=s.align;let o,l,c,h=0;return this.isHorizontal()?(l=bi(r,n,a),c=e+t,o=a-n):("left"===s.position?(l=n+t,c=bi(r,i,e),h=-.5*zn):(l=a-t,c=bi(r,e,i),h=.5*zn),o=i-e),{titleX:l,titleY:c,maxWidth:o,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=ca(e.font),i=n.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:r,rotation:o}=this._drawArgs(i);Zi(t,e.text,0,0,n,{color:e.color,maxWidth:r,rotation:o,textAlign:vi(e.align),textBaseline:"middle",translation:[a,s]})}}var yl={id:"title",_element:xl,start(t,e,n){!function(t,e){const n=new xl({ctx:t.ctx,options:e,chart:t});cr.configure(t,n,e),cr.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;cr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;cr.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wl=new WeakMap;var _l={id:"subtitle",start(t,e,n){const i=new xl({ctx:t.ctx,options:n,chart:t});cr.configure(t,i,n),cr.addBox(t,i),wl.set(t,i)},stop(t){cr.removeBox(t,wl.get(t)),wl.delete(t)},beforeUpdate(t,e,n){const i=wl.get(t);cr.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kl={average(t){if(!t.length)return!1;let e,n,i=new Set,a=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),a+=t.y,++s}}if(0===s||0===i.size)return!1;return{x:[...i].reduce((t,e)=>t+e)/i.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let n,i,a,s=e.x,r=e.y,o=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=ii(e,i.getCenterPoint());t<o&&(o=t,a=i)}}if(a){const t=a.tooltipPosition();s=t.x,r=t.y}return{x:s,y:r}}};function Sl(t,e){return e&&(bn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Al(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Ml(t,e){const{element:n,datasetIndex:i,index:a}=e,s=t.getDatasetMeta(i).controller,{label:r,value:o}=s.getLabelAndValue(a);return{chart:t,label:r,parsed:s.getParsed(a),raw:t.data.datasets[i].data[a],formattedValue:o,dataset:s.getDataset(),dataIndex:a,datasetIndex:i,element:n}}function El(t,e){const n=t.chart.ctx,{body:i,footer:a,title:s}=t,{boxWidth:r,boxHeight:o}=e,l=ca(e.bodyFont),c=ca(e.titleFont),h=ca(e.footerFont),d=s.length,u=a.length,p=i.length,f=la(e.padding);let m=f.height,g=0,v=i.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){m+=p*(e.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*e.bodySpacing}u&&(m+=e.footerMarginTop+u*h.lineHeight+(u-1)*e.footerSpacing);let b=0;const x=function(t){g=Math.max(g,n.measureText(t).width+b)};return n.save(),n.font=c.string,An(t.title,x),n.font=l.string,An(t.beforeBody.concat(t.afterBody),x),b=e.displayColors?r+2+e.boxPadding:0,An(i,t=>{An(t.before,x),An(t.lines,x),An(t.after,x)}),b=0,n.font=h.string,An(t.footer,x),n.restore(),g+=f.width,{width:g,height:m}}function Cl(t,e,n,i){const{x:a,width:s}=n,{width:r,chartArea:{left:o,right:l}}=t;let c="center";return"center"===i?c=a<=(o+l)/2?"left":"right":a<=s/2?c="left":a>=r-s/2&&(c="right"),function(t,e,n,i){const{x:a,width:s}=i,r=n.caretSize+n.caretPadding;return"left"===t&&a+s+r>e.width||"right"===t&&a-s-r<0||void 0}(c,t,e,n)&&(c="center"),c}function Tl(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||Cl(t,e,n,i),yAlign:i}}function Pl(t,e,n,i){const{caretSize:a,caretPadding:s,cornerRadius:r}=t,{xAlign:o,yAlign:l}=n,c=a+s,{topLeft:h,topRight:d,bottomLeft:u,bottomRight:p}=oa(r);let f=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,o);const m=function(t,e,n){let{y:i,height:a}=t;return"top"===e?i+=n:i-="bottom"===e?a+n:a/2,i}(e,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(h,u)+a:"right"===o&&(f+=Math.max(d,p)+a),{x:oi(f,0,i.width-e.width),y:oi(m,0,i.height-e.height)}}function Dl(t,e,n){const i=la(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function Rl(t){return Sl([],Al(t))}function Ll(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Nl={beforeTitle:mn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:mn,beforeBody:mn,beforeLabel:mn,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return vn(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:mn,afterBody:mn,beforeFooter:mn,footer:mn,afterFooter:mn};function Ol(t,e,n,i){const a=t[e].call(n,i);return"undefined"===typeof a?Nl[e].call(n,i):a}class Il extends Er{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,a=new ds(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,da(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=Ol(n,"beforeTitle",this,t),a=Ol(n,"title",this,t),s=Ol(n,"afterTitle",this,t);let r=[];return r=Sl(r,Al(i)),r=Sl(r,Al(a)),r=Sl(r,Al(s)),r}getBeforeBody(t,e){return Rl(Ol(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return An(t,t=>{const e={before:[],lines:[],after:[]},a=Ll(n,t);Sl(e.before,Al(Ol(a,"beforeLabel",this,t))),Sl(e.lines,Ol(a,"label",this,t)),Sl(e.after,Al(Ol(a,"afterLabel",this,t))),i.push(e)}),i}getAfterBody(t,e){return Rl(Ol(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Ol(n,"beforeFooter",this,t),a=Ol(n,"footer",this,t),s=Ol(n,"afterFooter",this,t);let r=[];return r=Sl(r,Al(i)),r=Sl(r,Al(a)),r=Sl(r,Al(s)),r}_createItems(t){const e=this._active,n=this.chart.data,i=[],a=[],s=[];let r,o,l=[];for(r=0,o=e.length;r<o;++r)l.push(Ml(this.chart,e[r]));return t.filter&&(l=l.filter((e,i,a)=>t.filter(e,i,a,n))),t.itemSort&&(l=l.sort((e,i)=>t.itemSort(e,i,n))),An(l,e=>{const n=Ll(t.callbacks,e);i.push(Ol(n,"labelColor",this,e)),a.push(Ol(n,"labelPointStyle",this,e)),s.push(Ol(n,"labelTextColor",this,e))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let a,s=[];if(i.length){const t=kl[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=El(this,n),r=Object.assign({},t,e),o=Tl(this.chart,n,r),l=Pl(n,r,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,a={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const a=this.getCaretPosition(t,n,i);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:a}=this,{caretSize:s,cornerRadius:r}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:h}=oa(r),{x:d,y:u}=t,{width:p,height:f}=e;let m,g,v,b,x,y;return"center"===a?(x=u+f/2,"left"===i?(m=d,g=m-s,b=x+s,y=x-s):(m=d+p,g=m+s,b=x-s,y=x+s),v=m):(g="left"===i?d+Math.max(o,c)+s:"right"===i?d+p-Math.max(l,h)-s:this.caretX,"top"===a?(b=u,x=b-s,m=g-s,v=g+s):(b=u+f,x=b+s,m=g+s,v=g-s),y=b),{x1:m,x2:g,x3:v,y1:b,y2:x,y3:y}}drawTitle(t,e,n){const i=this.title,a=i.length;let s,r,o;if(a){const l=Xa(n.rtl,this.x,this.width);for(t.x=Dl(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=ca(n.titleFont),r=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,o=0;o<a;++o)e.fillText(i[o],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+r,o+1===a&&(t.y+=n.titleMarginBottom-r)}}_drawColorBox(t,e,n,i,a){const s=this.labelColors[n],r=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=a,c=ca(a.bodyFont),h=Dl(this,"left",a),d=i.x(h),u=o<c.lineHeight?(c.lineHeight-o)/2:0,p=e.y+u;if(a.usePointStyle){const e={radius:Math.min(l,o)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},n=i.leftForLtr(d,l)+l/2,c=p+o/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Ui(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Ui(t,e,n,c)}else{t.lineWidth=xn(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=i.leftForLtr(d,l),n=i.leftForLtr(i.xPlus(d,1),l-2),r=oa(s.borderRadius);Object.values(r).some(t=>0!==t)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,ta(t,{x:e,y:p,w:l,h:o,radius:r}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),ta(t,{x:n,y:p+1,w:l-2,h:o-2,radius:r}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(e,p,l,o),t.strokeRect(e,p,l,o),t.fillStyle=s.backgroundColor,t.fillRect(n,p+1,l-2,o-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:a,bodyAlign:s,displayColors:r,boxHeight:o,boxWidth:l,boxPadding:c}=n,h=ca(n.bodyFont);let d=h.lineHeight,u=0;const p=Xa(n.rtl,this.x,this.width),f=function(n){e.fillText(n,p.x(t.x+u),t.y+d/2),t.y+=d+a},m=p.textAlign(s);let g,v,b,x,y,w,_;for(e.textAlign=s,e.textBaseline="middle",e.font=h.string,t.x=Dl(this,m,n),e.fillStyle=n.bodyColor,An(this.beforeBody,f),u=r&&"right"!==m?"center"===s?l/2+c:l+2+c:0,x=0,w=i.length;x<w;++x){for(g=i[x],v=this.labelTextColors[x],e.fillStyle=v,An(g.before,f),b=g.lines,r&&b.length&&(this._drawColorBox(e,t,x,p,n),d=Math.max(h.lineHeight,o)),y=0,_=b.length;y<_;++y)f(b[y]),d=h.lineHeight;An(g.after,f)}u=0,d=h.lineHeight,An(this.afterBody,f),t.y-=a}drawFooter(t,e,n){const i=this.footer,a=i.length;let s,r;if(a){const o=Xa(n.rtl,this.x,this.width);for(t.x=Dl(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=o.textAlign(n.footerAlign),e.textBaseline="middle",s=ca(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,r=0;r<a;++r)e.fillText(i[r],o.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:a,yAlign:s}=this,{x:r,y:o}=t,{width:l,height:c}=n,{topLeft:h,topRight:d,bottomLeft:u,bottomRight:p}=oa(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(r+h,o),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(r+l-d,o),e.quadraticCurveTo(r+l,o,r+l,o+d),"center"===s&&"right"===a&&this.drawCaret(t,e,n,i),e.lineTo(r+l,o+c-p),e.quadraticCurveTo(r+l,o+c,r+l-p,o+c),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(r+u,o+c),e.quadraticCurveTo(r,o+c,r,o+c-u),"center"===s&&"left"===a&&this.drawCaret(t,e,n,i),e.lineTo(r,o+h),e.quadraticCurveTo(r,o,r+h,o),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const n=kl[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=El(this,t),r=Object.assign({},n,this._size),o=Tl(e,t,r),l=Pl(t,r,o,e);i._to===l.x&&a._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=la(e.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&r&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,i,e),Ka(t,e.textDirection),a.y+=s.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),$a(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map(t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}),a=!Mn(n,i),s=this._positionChanged(i,e);(a||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],s=this._getActiveElements(t,a,e,n),r=this._positionChanged(s,t),o=e||!Mn(s,a)||r;return o&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),o}_getActiveElements(t,e,n,i){const a=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter(t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index));const s=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:a}=this,s=kl[a.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}r(Il,"positioners",kl);var Fl={id:"tooltip",_element:Il,positioners:kl,afterInit(t,e,n){n&&(t.tooltip=new Il({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",l(l({},n),{},{cancelable:!0})))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Nl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},jl=Object.freeze({__proto__:null,Colors:Yo,Decimation:$o,Filler:fl,Legend:bl,SubTitle:_l,Title:yl,Tooltip:Fl});function zl(t,e,n,i){const a=t.indexOf(e);if(-1===a)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return a!==t.lastIndexOf(e)?n:a}function Bl(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Wl extends Fr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(vn(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:oi(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:zl(n,t,_n(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=0===t&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){return Bl.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Hl(t,e){const n=[],{bounds:i,step:a,min:s,max:r,precision:o,count:l,maxTicks:c,maxDigits:h,includeBounds:d}=t,u=a||1,p=c-1,{min:f,max:m}=e,g=!vn(s),v=!vn(r),b=!vn(l),x=(m-f)/(h+1);let y,w,_,k,S=$n((m-f)/p/u)*u;if(S<1e-14&&!g&&!v)return[{value:f},{value:m}];k=Math.ceil(m/S)-Math.floor(f/S),k>p&&(S=$n(k*S/p/u)*u),vn(o)||(y=Math.pow(10,o),S=Math.ceil(S*y)/y),"ticks"===i?(w=Math.floor(f/S)*S,_=Math.ceil(m/S)*S):(w=f,_=m),g&&v&&a&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((r-s)/a,S/1e3)?(k=Math.round(Math.min((r-s)/S,c)),S=(r-s)/k,w=s,_=r):b?(w=g?s:w,_=v?r:_,k=l-1,S=(_-w)/k):(k=(_-w)/S,k=Kn(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const A=Math.max(ei(S),ei(w));y=Math.pow(10,vn(o)?A:o),w=Math.round(w*y)/y,_=Math.round(_*y)/y;let M=0;for(g&&(d&&w!==s?(n.push({value:s}),w<s&&M++,Kn(Math.round((w+M*S)*y)/y,s,Vl(s,x,t))&&M++):w<s&&M++);M<k;++M){const t=Math.round((w+M*S)*y)/y;if(v&&t>r)break;n.push({value:t})}return v&&d&&_!==r?n.length&&Kn(n[n.length-1].value,r,Vl(r,x,t))?n[n.length-1].value=r:n.push({value:r}):v&&_!==r||n.push({value:_}),n}function Vl(t,e,n){let{horizontal:i,minRotation:a}=n;const s=Zn(a),r=(i?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}r(Wl,"id","category"),r(Wl,"defaults",{ticks:{callback:Bl}});class Ul extends Fr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return vn(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const s=t=>i=e?i:t,r=t=>a=n?a:t;if(t){const t=Xn(i),e=Xn(a);t<0&&e<0?r(0):t>0&&e>0&&s(0)}if(i===a){let e=0===a?1:Math.abs(.05*a);r(a+e),t||s(i-e)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=Hl({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Jn(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Di(t,this.chart.options.locale,this.options.ticks.format)}}class ql extends Ul{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=yn(t)?t:0,this.max=yn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Zn(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}r(ql,"id","linear"),r(ql,"defaults",{ticks:{callback:Li.formatters.numeric}});const Gl=t=>Math.floor(Yn(t)),Yl=(t,e)=>Math.pow(10,Gl(t)+e);function Xl(t){return 1===t/Math.pow(10,Gl(t))}function Kl(t,e,n){const i=Math.pow(10,n),a=Math.floor(t/i);return Math.ceil(e/i)-a}function $l(t,e){let{min:n,max:i}=e;n=wn(t.min,n);const a=[],s=Gl(n);let r=function(t,e){let n=Gl(e-t);for(;Kl(t,e,n)>10;)n++;for(;Kl(t,e,n)<10;)n--;return Math.min(n,Gl(t))}(n,i),o=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),c=s>r?Math.pow(10,s):0,h=Math.round((n-c)*o)/o,d=Math.floor((n-c)/l/10)*l*10;let u=Math.floor((h-d)/Math.pow(10,r)),p=wn(t.min,Math.round((c+d+u*Math.pow(10,r))*o)/o);for(;p<i;)a.push({value:p,major:Xl(p),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,o=r>=0?1:o),p=Math.round((c+d+u*Math.pow(10,r))*o)/o;const f=wn(t.max,p);return a.push({value:f,major:Xl(f),significand:u}),a}class Ql extends Fr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Ul.prototype.parse.apply(this,[t,e]);if(0!==n)return yn(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=yn(t)?Math.max(0,t):null,this.max=yn(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!yn(this._userMin)&&(this.min=t===Yl(this.min,0)?Yl(this.min,-1):Yl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const a=e=>n=t?n:e,s=t=>i=e?i:t;n===i&&(n<=0?(a(1),s(10)):(a(Yl(n,-1)),s(Yl(i,1)))),n<=0&&a(Yl(i,-1)),i<=0&&s(Yl(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=$l({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Jn(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Di(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Yn(t),this._valueRange=Yn(this.max)-Yn(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Yn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Jl(t){const e=t.ticks;if(e.display&&t.display){const t=la(e.backdropPadding);return _n(e.font&&e.font.size,zi.font.size)+t.height}return 0}function Zl(t,e,n){return n=bn(n)?n:[n],{w:Wi(t,e.string,n),h:n.length*e.lineHeight}}function tc(t,e,n,i,a){return t===i||t===a?{start:e-n/2,end:e+n/2}:t<i||t>a?{start:e-n,end:e}:{start:e,end:e+n}}function ec(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],a=[],s=t._pointLabels.length,r=t.options.pointLabels,o=r.centerPointLabels?zn/s:0;for(let l=0;l<s;l++){const s=r.setContext(t.getPointLabelContext(l));a[l]=s.padding;const c=t.getPointPosition(l,t.drawingArea+a[l],o),h=ca(s.font),d=Zl(t.ctx,h,t._pointLabels[l]);i[l]=d;const u=si(t.getIndexAngle(l)+o),p=Math.round(ti(u));nc(n,e,u,tc(p,c.x,d.w,0,180),tc(p,c.y,d.h,90,270))}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:r,display:o}=s.pointLabels,l={extra:Jl(s)/2,additionalAngle:r?zn/a:0};let c;for(let h=0;h<a;h++){l.padding=n[h],l.size=e[h];const a=ic(t,h,l);i.push(a),"auto"===o&&(a.visible=ac(a,c),a.visible&&(c=a))}return i}(t,i,a)}function nc(t,e,n,i,a){const s=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let o=0,l=0;i.start<e.l?(o=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-o)):i.end>e.r&&(o=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),a.start<e.t?(l=(e.t-a.start)/r,t.t=Math.min(t.t,e.t-l)):a.end>e.b&&(l=(a.end-e.b)/r,t.b=Math.max(t.b,e.b+l))}function ic(t,e,n){const i=t.drawingArea,{extra:a,additionalAngle:s,padding:r,size:o}=n,l=t.getPointPosition(e,i+a+r,s),c=Math.round(ti(si(l.angle+Un))),h=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,o.h,c),d=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),u=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,o.w,d);return{visible:!0,x:l.x,y:h,textAlign:d,left:u,top:h,right:u+o.w,bottom:h+o.h}}function ac(t,e){if(!e)return!0;const{left:n,top:i,right:a,bottom:s}=t;return!(Gi({x:n,y:i},e)||Gi({x:n,y:s},e)||Gi({x:a,y:i},e)||Gi({x:a,y:s},e))}function sc(t,e,n){const{left:i,top:a,right:s,bottom:r}=n,{backdropColor:o}=e;if(!vn(o)){const n=oa(e.borderRadius),l=la(e.backdropPadding);t.fillStyle=o;const c=i-l.left,h=a-l.top,d=s-i+l.width,u=r-a+l.height;Object.values(n).some(t=>0!==t)?(t.beginPath(),ta(t,{x:c,y:h,w:d,h:u,radius:n}),t.fill()):t.fillRect(c,h,d,u)}}function rc(t,e,n,i){const{ctx:a}=t;if(n)a.arc(t.xCenter,t.yCenter,e,0,Bn);else{let n=t.getPointPosition(0,e);a.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=t.getPointPosition(s,e),a.lineTo(n.x,n.y)}}r(Ql,"id","logarithmic"),r(Ql,"defaults",{ticks:{callback:Li.formatters.logarithmic,major:{enabled:!0}}});class oc extends Ul{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=la(Jl(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=yn(t)&&!isNaN(t)?t:0,this.max=yn(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Jl(this.options))}generateTickLabels(t){Ul.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((t,e)=>{const n=Sn(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){const t=this.options;t.display&&t.pointLabels.display?ec(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return si(t*(Bn/(this._pointLabels.length||1))+Zn(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(vn(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(vn(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return da(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(t)-Un+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:a}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),rc(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:a}=e,s=this._pointLabels.length;let r,o,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let a=e-1;a>=0;a--){const e=t._pointLabelItems[a];if(!e.visible)continue;const s=i.setContext(t.getPointLabelContext(a));sc(n,s,e);const r=ca(s.font),{x:o,y:l,textAlign:c}=e;Zi(n,t._pointLabels[a],o,l+r.lineHeight/2,r,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach((t,e)=>{if(0!==e||0===e&&this.min<0){o=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),r=i.setContext(n),l=a.setContext(n);!function(t,e,n,i,a){const s=t.ctx,r=e.circular,{color:o,lineWidth:l}=e;!r&&!i||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),rc(t,n,r,i),s.closePath(),s.stroke(),s.restore())}(this,r,o,s,l)}}),n.display){for(t.save(),r=s-1;r>=0;r--){const i=n.setContext(this.getPointLabelContext(r)),{color:a,lineWidth:s}=i;s&&a&&(t.lineWidth=s,t.strokeStyle=a,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,o=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(r,o),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let a,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((i,r)=>{if(0===r&&this.min>=0&&!e.reverse)return;const o=n.setContext(this.getContext(r)),l=ca(o.font);if(a=this.getDistanceFromCenterForValue(this.ticks[r].value),o.showLabelBackdrop){t.font=l.string,s=t.measureText(i.label).width,t.fillStyle=o.backdropColor;const e=la(o.backdropPadding);t.fillRect(-s/2-e.left,-a-l.size/2-e.top,s+e.width,l.size+e.height)}Zi(t,i.label,0,-a,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),t.restore()}drawTitle(){}}r(oc,"id","radialLinear"),r(oc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Li.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),r(oc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),r(oc,"descriptors",{angleLines:{_fallback:"grid"}});const lc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cc=Object.keys(lc);function hc(t,e){return t-e}function dc(t,e){if(vn(e))return null;const n=t._adapter,{parser:i,round:a,isoWeekday:s}=t._parseOpts;let r=e;return"function"===typeof i&&(r=i(r)),yn(r)||(r="string"===typeof i?n.parse(r,i):n.parse(r)),null===r?null:(a&&(r="week"!==a||!Qn(s)&&!0!==s?n.startOf(r,a):n.startOf(r,"isoWeek",s)),+r)}function uc(t,e,n,i){const a=cc.length;for(let s=cc.indexOf(t);s<a-1;++s){const t=lc[cc[s]],a=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(a*t.size))<=i)return cc[s]}return cc[a-1]}function pc(t,e,n){if(n){if(n.length){const{lo:i,hi:a}=ci(n,e);t[n[i]>=e?n[i]:n[a]]=!0}}else t[e]=!0}function fc(t,e,n){const i=[],a={},s=e.length;let r,o;for(r=0;r<s;++r)o=e[r],a[o]=r,i.push({value:o,major:!1});return 0!==s&&n?function(t,e,n,i){const a=t._adapter,s=+a.startOf(e[0].value,i),r=e[e.length-1].value;let o,l;for(o=s;o<=r;o=+a.add(o,1,i))l=n[o],l>=0&&(e[l].major=!0);return e}(t,i,a,n):i}class mc extends Fr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),i=this._adapter=new Vs(t.adapters.date);i.init(e),Dn(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:dc(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:a,minDefined:s,maxDefined:r}=this.getUserBounds();function o(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),r||isNaN(t.max)||(a=Math.max(a,t.max))}s&&r||(o(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||o(this.getMinMax(!1))),i=yn(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),a=yn(a)&&!isNaN(a)?a:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,s=function(t,e,n){let i=0,a=t.length;for(;i<a&&t[i]<e;)i++;for(;a>i&&t[a-1]>n;)a--;return i>0||a<t.length?t.slice(i,a):t}(i,a,this.max);return this._unit=e.unit||(n.autoSkip?uc(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(t,e,n,i,a){for(let s=cc.length-1;s>=cc.indexOf(n);s--){const n=cc[s];if(lc[n].common&&t._adapter.diff(a,i,n)>=e-1)return n}return cc[n?cc.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=cc.indexOf(t)+1,n=cc.length;e<n;++e)if(lc[cc[e]].common)return cc[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&s.reverse(),fc(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,a=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),i=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),a=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;i=oi(i,0,s),a=oi(a,0,s),this._offsets={start:i,end:a,factor:1/(i+1+a)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,a=i.time,s=a.unit||uc(a.minUnit,e,n,this._getLabelCapacity(e)),r=_n(i.ticks.stepSize,1),o="week"===s&&a.isoWeekday,l=Qn(o)||!0===o,c={};let h,d,u=e;if(l&&(u=+t.startOf(u,"isoWeek",o)),u=+t.startOf(u,l?"day":s),t.diff(n,e,s)>1e5*r)throw new Error(e+" and "+n+" are too far apart with stepSize of "+r+" "+s);const p="data"===i.ticks.source&&this.getDataTimestamps();for(h=u,d=0;h<n;h=+t.add(h,r,s),d++)pc(c,h,p);return h!==n&&"ticks"!==i.bounds&&1!==d||pc(c,h,p),Object.keys(c).sort(hc).map(t=>+t)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,i=this._unit,a=e||n[i];return this._adapter.format(t,a)}_tickFormatFunction(t,e,n,i){const a=this.options,s=a.ticks.callback;if(s)return Sn(s,[t,e,n],this);const r=a.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&r[o],h=l&&r[l],d=n[e],u=l&&h&&d&&d.major;return this._adapter.format(t,i||(u?h:c))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=Zn(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(i),s=Math.sin(i),r=this._resolveTickFontOptions(0).size;return{w:n*a+r*s,h:n*s+r*a}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,a=this._tickFormatFunction(t,0,fc(this,[t],this._majorUnit),i),s=this._getLabelSize(a),r=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return r>0?r:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(dc(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return fi(t.sort(hc))}}function gc(t,e,n){let i,a,s,r,o=0,l=t.length-1;n?(e>=t[o].pos&&e<=t[l].pos&&({lo:o,hi:l}=hi(t,"pos",e)),({pos:i,time:s}=t[o]),({pos:a,time:r}=t[l])):(e>=t[o].time&&e<=t[l].time&&({lo:o,hi:l}=hi(t,"time",e)),({time:i,pos:s}=t[o]),({time:a,pos:r}=t[l]));const c=a-i;return c?s+(r-s)*(e-i)/c:s}r(mc,"id","time"),r(mc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class vc extends mc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=gc(e,this.min),this._tableRange=gc(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],a=[];let s,r,o,l,c;for(s=0,r=t.length;s<r;++s)l=t[s],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,r=i.length;s<r;++s)c=i[s+1],o=i[s-1],l=i[s],Math.round((c+o)/2)!==l&&a.push({time:l,pos:s/(r-1)});return a}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort((t,e)=>t-e)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(gc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return gc(this._table,n*this._tableRange+this._minPos,!0)}}r(vc,"id","timeseries"),r(vc,"defaults",mc.defaults);const bc=[Bs,Bo,jl,Object.freeze({__proto__:null,CategoryScale:Wl,LinearScale:ql,LogarithmicScale:Ql,RadialLinearScale:oc,TimeScale:mc,TimeSeriesScale:vc})];function xc(){var e;const n=(null===(e=ht().state)||void 0===e?void 0:e.role)||"Unknown Role",[i,a]=(0,t.useState)("Madhya Pradesh"),[s,r]=(0,t.useState)("all"),o=De[i],l=(0,t.useRef)(null),c=t=>(new Intl.NumberFormat).format(t);return(0,t.useEffect)(()=>{const t=l.current.getContext("2d");l.current.chart&&l.current.chart.destroy(),l.current.chart=new mo(t,{type:"line",data:{labels:Ne.map(t=>t.name),datasets:[{label:"Disposal Rate (%)",data:Ne.map(t=>t.disposalRate),borderColor:"#28a745",backgroundColor:"rgba(40, 167, 69, 0.2)",fill:!0,tension:.3},{label:"Title Rate (%)",data:Ne.map(t=>t.titleRate),borderColor:"#17a2b8",backgroundColor:"rgba(23, 162, 184, 0.2)",fill:!0,tension:.3}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"State Comparison: Disposal & Title Rates"}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:t=>t+"%"}}}}})},[]),(0,we.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#ffffffff"},children:[(0,we.jsx)(Pe,{userRole:n,userName:"Demo User"}),(0,we.jsxs)("div",{style:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,we.jsx)(Te,{role:n}),(0,we.jsxs)("div",{style:{padding:"40px"},children:[(0,we.jsx)("h1",{style:{fontSize:"32px",color:"#244111",marginBottom:"20px",textAlign:"center"},children:"FRAlytics Dashboard"}),(0,we.jsxs)("p",{style:{fontSize:"16px",color:"#555",marginBottom:"50px",textAlign:"center"},children:["You are logged in as ",(0,we.jsx)("strong",{children:n}),". Here, you can view all relevant data and analytics based on your role."]}),(0,we.jsxs)("div",{className:"national-overview",children:[(0,we.jsx)("h2",{style:{textAlign:"center"},children:"National FRA Implementation Overview"}),(0,we.jsxs)("div",{className:"national-stats",children:[(0,we.jsxs)("div",{className:"national-stat",children:[(0,we.jsx)("div",{className:"stat-number",children:"5,156,090"}),(0,we.jsx)("div",{className:"stat-label",children:"Total Claims Filed"})]}),(0,we.jsxs)("div",{className:"national-stat",children:[(0,we.jsx)("div",{className:"stat-number",children:"2,513,062"}),(0,we.jsx)("div",{className:"stat-label",children:"Titles Distributed"})]}),(0,we.jsxs)("div",{className:"national-stat",children:[(0,we.jsx)("div",{className:"stat-number",children:"85.07%"}),(0,we.jsx)("div",{className:"stat-label",children:"Claims Disposed"})]}),(0,we.jsxs)("div",{className:"national-stat",children:[(0,we.jsx)("div",{className:"stat-number",children:"48.74%"}),(0,we.jsx)("div",{className:"stat-label",children:"Title Distribution Rate"})]})]})]}),(0,we.jsx)("div",{className:"dashboard-header",children:(0,we.jsx)("h3",{className:"mb-3",style:{color:"#244111",textAlign:"center",marginTop:"50px"},children:"State Wise Implementation"})}),(0,we.jsxs)("div",{className:"state-selection",children:[(0,we.jsxs)("div",{className:"selection-controls",children:[(0,we.jsx)("label",{children:"Select State:"}),(0,we.jsx)("select",{value:i,onChange:t=>a(t.target.value),children:Object.keys(De).map(t=>(0,we.jsx)("option",{value:t,children:t},t))}),(0,we.jsx)("label",{children:"Time Range:"}),(0,we.jsxs)("select",{value:s,onChange:t=>r(t.target.value),children:[(0,we.jsx)("option",{value:"all",children:"All Time"}),(0,we.jsx)("option",{value:"quarterly",children:"Last Quarter"}),(0,we.jsx)("option",{value:"monthly",children:"Last Month"})]})]}),(0,we.jsx)("div",{className:"state-performance",children:(0,we.jsx)("span",{className:"performance-badge",style:{backgroundColor:(t=>{switch(t){case"Excellent":return"#28a745";case"Good":return"#17a2b8";case"Needs Improvement":return"#ffc107";case"Poor":return"#dc3545";default:return"#6c757d"}})(o.performance)},children:o.performance})})]}),(0,we.jsxs)("div",{className:"metrics-grid",children:[(0,we.jsxs)("div",{className:"metric-card primary",children:[(0,we.jsx)("div",{className:"metric-icon",children:"\ud83d\udccb"}),(0,we.jsxs)("div",{className:"metric-content",children:[(0,we.jsx)("h3",{children:"Total Claims Filed"}),(0,we.jsx)("div",{className:"metric-value",children:c(o.totalClaims)}),(0,we.jsxs)("div",{className:"metric-breakdown",children:[(0,we.jsxs)("span",{children:["Individual: ",c(o.individualClaims)]}),(0,we.jsxs)("span",{children:["Community: ",c(o.communityClaims)]})]})]})]}),(0,we.jsxs)("div",{className:"metric-card success",children:[(0,we.jsx)("div",{className:"metric-icon",children:"\u2705"}),(0,we.jsxs)("div",{className:"metric-content",children:[(0,we.jsx)("h3",{children:"Titles Distributed"}),(0,we.jsx)("div",{className:"metric-value",children:c(o.totalTitles)}),(0,we.jsxs)("div",{className:"metric-breakdown",children:[(0,we.jsxs)("span",{children:["Individual: ",c(o.individualTitles)]}),(0,we.jsxs)("span",{children:["Community: ",c(o.communityTitles)]})]})]})]}),(0,we.jsxs)("div",{className:"metric-card warning",children:[(0,we.jsx)("div",{className:"metric-icon",children:"\u23f1\ufe0f"}),(0,we.jsxs)("div",{className:"metric-content",children:[(0,we.jsx)("h3",{children:"Claims Disposed"}),(0,we.jsx)("div",{className:"metric-value",children:c(o.claimsDisposed)}),(0,we.jsxs)("div",{className:"metric-rate",children:[(0,we.jsxs)("span",{className:"rate-badge",children:[o.disposalRate,"%"]}),(0,we.jsxs)("span",{className:"rate-comparison",children:[o.disposalRate>=Re?"\u2191":"\u2193","vs National Avg (",Re,"%)"]})]})]})]}),(0,we.jsxs)("div",{className:"metric-card info",children:[(0,we.jsx)("div",{className:"metric-icon",children:"\ud83d\udcca"}),(0,we.jsxs)("div",{className:"metric-content",children:[(0,we.jsx)("h3",{children:"Title Distribution Rate"}),(0,we.jsxs)("div",{className:"metric-value",children:[o.titleDistributionRate,"%"]}),(0,we.jsxs)("div",{className:"rate-comparison",children:[o.titleDistributionRate>=Le?"\u2191":"\u2193","vs National Avg (",Le,"%)"]}),(0,we.jsx)("div",{className:"progress-bar",children:(0,we.jsx)("div",{className:"progress-fill",style:{width:"".concat(o.titleDistributionRate,"%")}})})]})]})]}),(0,we.jsxs)("div",{style:{marginBottom:"80px",marginTop:"80px",background:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,we.jsx)("h3",{style:{marginBottom:"20px",color:"#244111",textAlign:"center"},children:"State Comparison Chart"}),(0,we.jsx)("canvas",{ref:l})]}),(0,we.jsxs)("div",{className:"recommendations-section",children:[(0,we.jsx)("h2",{style:{textAlign:"center"},children:"Action Recommendations"}),(0,we.jsxs)("div",{className:"recommendations-list",children:["Excellent"===o.performance&&(0,we.jsxs)("div",{className:"recommendation positive",children:[(0,we.jsx)("strong",{children:"\ud83c\udf89 Excellent Performance!"}),(0,we.jsx)("p",{children:"Continue current implementation strategies and share best practices with other states."})]}),"Good"===o.performance&&(0,we.jsxs)("div",{className:"recommendation info",children:[(0,we.jsx)("strong",{children:"\ud83d\udcc8 Good Progress"}),(0,we.jsx)("p",{children:"Focus on accelerating title distribution and reducing pending claims."})]}),"Needs Improvement"===o.performance&&(0,we.jsxs)("div",{className:"recommendation warning",children:[(0,we.jsx)("strong",{children:"\u26a0\ufe0f Needs Improvement"}),(0,we.jsx)("p",{children:"Urgent attention required for claim processing and title distribution efficiency."})]}),o.disposalRate<Re&&(0,we.jsxs)("div",{className:"recommendation warning",children:[(0,we.jsx)("strong",{children:"\u23f3 Low Disposal Rate"}),(0,we.jsx)("p",{children:"Implement measures to speed up claim processing and reduce backlog."})]}),o.titleDistributionRate<Le&&(0,we.jsxs)("div",{className:"recommendation warning",children:[(0,we.jsx)("strong",{children:"\ud83d\udcc4 Title Distribution Lag"}),(0,we.jsx)("p",{children:"Streamline title distribution process and address bottlenecks."})]})]})]})]})]}),(0,we.jsx)("style",{children:"\n        body { margin: 0; }\n        .national-overview {\n          background: linear-gradient(135deg, #092635, #1B4242, #5C8374);\n          color: white;\n          padding: 25px;\n          border-radius: 10px;\n          margin-bottom: 30px;\n          box-shadow: 0 4px 15px rgba(30, 60, 114, 0.3);\n        }\n        .national-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }\n        .stat-number { font-size: 2rem; font-weight: 700; margin-bottom: 5px; }\n        .state-selection { display: flex; justify-content: space-between; align-items: center; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 30px; }\n        .selection-controls { display: flex; align-items: center; gap: 20px; }\n        .selection-controls select { padding: 10px 15px; border: 2px solid #e1e1e1; border-radius: 5px; font-size: 1rem; background: white; cursor: pointer; }\n        .performance-badge { padding: 8px 16px; border-radius: 20px; color: white; font-weight: 600; font-size: 0.9rem; }\n        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px; }\n        .metric-card { background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); display: flex; align-items: flex-start; gap: 15px; border-left: 4px solid #2a5298; }\n        .metric-card.primary { border-left-color: #2a5298; }\n        .metric-card.success { border-left-color: #28a745; }\n        .metric-card.warning { border-left-color: #ffc107; }\n        .metric-card.info { border-left-color: #17a2b8; }\n        .metric-icon { font-size: 2rem; margin-top: 5px; }\n        .metric-content h3 { color: #333; margin-bottom: 10px; font-size: 1.1rem; }\n        .metric-value { font-size: 2rem; font-weight: 700; color: #1e3c72; margin-bottom: 10px; }\n        .metric-breakdown { display: flex; flex-direction: column; gap: 5px; font-size: 0.9rem; color: #666; }\n        .rate-badge { background: #28a745; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem; font-weight: 600; }\n        .rate-comparison { font-size: 0.85rem; color: #666; margin-top: 5px; }\n        .progress-bar { width: 100%; height: 8px; background: #e9ecef; border-radius: 4px; margin-top: 10px; overflow: hidden; }\n        .progress-fill { height: 100%; background: linear-gradient(90deg, #28a745, #20c997); border-radius: 4px; transition: width 0.3s ease; }\n        @media (max-width: 768px) {\n          .state-selection { flex-direction: column; gap: 15px; align-items: flex-start; }\n          .selection-controls { flex-direction: column; align-items: flex-start; gap: 10px; width: 100%; }\n          .selection-controls select { width: 100%; }\n          .metrics-grid { grid-template-columns: 1fr; }\n        }\n          .state-dashboard-container {\n            padding: 20px;\n            background-color: #f8f9fa;\n            min-height: 100vh;\n          }\n\n          .dashboard-header {\n            margin-bottom: 30px;\n          }\n\n          .dashboard-header h1 {\n            color: #1e3c72;\n            font-size: 2.5rem;\n            margin-bottom: 10px;\n          }\n\n          .dashboard-header p {\n            color: #666;\n            font-size: 1.1rem;\n          }\n\n          .state-selection {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            background: white;\n            padding: 20px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n            margin-bottom: 30px;\n          }\n\n          .selection-controls {\n            display: flex;\n            align-items: center;\n            gap: 20px;\n          }\n\n          .selection-controls label {\n            font-weight: 600;\n            color: #333;\n          }\n\n          .selection-controls select {\n            padding: 10px 15px;\n            border: 2px solid #e1e1e1;\n            border-radius: 5px;\n            font-size: 1rem;\n            background: white;\n            cursor: pointer;\n          }\n\n          .performance-badge {\n            padding: 8px 16px;\n            border-radius: 20px;\n            color: white;\n            font-weight: 600;\n            font-size: 0.9rem;\n          }\n\n          .metrics-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n            gap: 20px;\n            margin-bottom: 30px;\n          }\n\n          .metric-card {\n            background: white;\n            padding: 25px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n            display: flex;\n            align-items: flex-start;\n            gap: 15px;\n            border-left: 4px solid #2a5298;\n          }\n\n          .metric-card.primary {\n            border-left-color: #2a5298;\n          }\n\n          .metric-card.success {\n            border-left-color: #28a745;\n          }\n\n          .metric-card.warning {\n            border-left-color: #ffc107;\n          }\n\n          .metric-card.info {\n            border-left-color: #17a2b8;\n          }\n\n          .metric-icon {\n            font-size: 2rem;\n            margin-top: 5px;\n          }\n\n          .metric-content h3 {\n            color: #333;\n            margin-bottom: 10px;\n            font-size: 1.1rem;\n          }\n\n          .metric-value {\n            font-size: 2rem;\n            font-weight: 700;\n            color: #1e3c72;\n            margin-bottom: 10px;\n          }\n\n          .metric-breakdown {\n            display: flex;\n            flex-direction: column;\n            gap: 5px;\n            font-size: 0.9rem;\n            color: #666;\n          }\n\n          .rate-badge {\n            background: #28a745;\n            color: white;\n            padding: 4px 8px;\n            border-radius: 12px;\n            font-size: 0.8rem;\n            font-weight: 600;\n          }\n\n          .rate-comparison {\n            font-size: 0.85rem;\n            color: #666;\n            margin-top: 5px;\n          }\n\n          .progress-bar {\n            width: 100%;\n            height: 8px;\n            background: #e9ecef;\n            border-radius: 4px;\n            margin-top: 10px;\n            overflow: hidden;\n          }\n\n          .progress-fill {\n            height: 100%;\n            background: linear-gradient(90deg, #28a745, #20c997);\n            border-radius: 4px;\n            transition: width 0.3s ease;\n          }\n\n          .analysis-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n            gap: 20px;\n            margin-bottom: 30px;\n          }\n\n          .analysis-card {\n            background: white;\n            padding: 25px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n          }\n\n          .analysis-card h3 {\n            color: #1e3c72;\n            margin-bottom: 20px;\n            font-size: 1.3rem;\n          }\n\n          .analysis-data {\n            display: flex;\n            flex-direction: column;\n            gap: 15px;\n          }\n\n          .data-item {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding-bottom: 10px;\n            border-bottom: 1px solid #f1f1f1;\n          }\n\n          .data-item:last-child {\n            border-bottom: none;\n          }\n\n          .data-item .label {\n            color: #666;\n            font-weight: 500;\n          }\n\n          .data-item .value {\n            font-weight: 600;\n            color: #333;\n          }\n\n          .ratio-breakdown {\n            display: flex;\n            flex-direction: column;\n            gap: 15px;\n          }\n\n          .ratio-item {\n            display: flex;\n            align-items: center;\n            gap: 15px;\n          }\n\n          .ratio-label {\n            width: 120px;\n            font-weight: 500;\n            color: #333;\n            font-size: 0.9rem;\n          }\n\n          .ratio-bar {\n            flex: 1;\n            height: 8px;\n            background: #e9ecef;\n            border-radius: 4px;\n            overflow: hidden;\n          }\n\n          .ratio-fill {\n            height: 100%;\n            border-radius: 4px;\n            transition: width 0.3s ease;\n          }\n\n          .ratio-fill.individual {\n            background: linear-gradient(90deg, #2a5298, #1e3c72);\n          }\n\n          .ratio-fill.community {\n            background: linear-gradient(90deg, #28a745, #20c997);\n          }\n\n          .ratio-percent {\n            width: 50px;\n            text-align: right;\n            font-weight: 600;\n            color: #333;\n            font-size: 0.9rem;\n          }\n\n          .comparison-section {\n            background: white;\n            padding: 25px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n            margin-bottom: 30px;\n          }\n\n          .comparison-section h2 {\n            color: #1e3c72;\n            margin-bottom: 20px;\n            font-size: 1.8rem;\n          }\n\n          .comparison-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n            gap: 20px;\n          }\n\n          .state-comparison-card {\n            background: #f8f9fa;\n            padding: 20px;\n            border-radius: 8px;\n            border-left: 4px solid #2a5298;\n            transition: transform 0.3s;\n          }\n\n          .state-comparison-card:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n          }\n\n          .state-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 15px;\n          }\n\n          .state-header h4 {\n            color: #1e3c72;\n            margin: 0;\n          }\n\n          .performance-dot {\n            width: 12px;\n            height: 12px;\n            border-radius: 50%;\n            display: inline-block;\n          }\n\n          .comparison-metrics {\n            display: flex;\n            flex-direction: column;\n            gap: 10px;\n          }\n\n          .comparison-metric {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            font-size: 0.9rem;\n          }\n\n          .comparison-metric .metric-value.positive {\n            color: #28a745;\n            font-weight: 600;\n          }\n\n          .comparison-metric .metric-value.negative {\n            color: #dc3545;\n            font-weight: 600;\n          }\n\n          .recommendations-section {\n            background: white;\n            padding: 25px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n          }\n\n          .recommendations-section h2 {\n            color: #1e3c72;\n            margin-bottom: 20px;\n            font-size: 1.8rem;\n          }\n\n          .recommendations-list {\n            display: flex;\n            flex-direction: column;\n            gap: 15px;\n          }\n\n          .recommendation {\n            padding: 20px;\n            border-radius: 8px;\n            border-left: 4px solid #ffc107;\n          }\n\n          .recommendation.positive {\n            border-left-color: #28a745;\n            background: #f8fff8;\n          }\n\n          .recommendation.info {\n            border-left-color: #17a2b8;\n            background: #f0f9ff;\n          }\n\n          .recommendation.warning {\n            border-left-color: #ffc107;\n            background: #fffbf0;\n          }\n\n          .recommendation strong {\n            display: block;\n            margin-bottom: 8px;\n            font-size: 1.1rem;\n          }\n\n          .recommendation p {\n            margin: 0;\n            color: #666;\n            line-height: 1.5;\n          }\n\n          @media (max-width: 768px) {\n            .state-selection {\n              flex-direction: column;\n              gap: 15px;\n              align-items: flex-start;\n            }\n            \n            .selection-controls {\n              flex-direction: column;\n              align-items: flex-start;\n              gap: 10px;\n              width: 100%;\n            }\n            \n            .selection-controls select {\n              width: 100%;\n            }\n            \n            .metrics-grid {\n              grid-template-columns: 1fr;\n            }\n            \n            .analysis-grid {\n              grid-template-columns: 1fr;\n            }\n            \n            .comparison-grid {\n              grid-template-columns: 1fr;\n            }\n            \n            .metric-card {\n              flex-direction: column;\n              text-align: center;\n            }\n          }\n      "})]})}mo.register(...bc);var yc=n(173);function wc(t,e,n,i){return new(n||(n=Promise))(function(a,s){function r(t){try{l(i.next(t))}catch(UE){s(UE)}}function o(t){try{l(i.throw(t))}catch(UE){s(UE)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,o)}l((i=i.apply(t,e||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const _c=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function kc(t,e,n){const i=function(t){const{name:e}=t;if(e&&-1!==e.lastIndexOf(".")&&!t.type){const n=e.split(".").pop().toLowerCase(),i=_c.get(n);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}(t),{webkitRelativePath:a}=t,s="string"===typeof e?e:"string"===typeof a&&a.length>0?a:"./".concat(t.name);return"string"!==typeof i.path&&Sc(i,"path",s),void 0!==n&&Object.defineProperty(i,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Sc(i,"relativePath",s),i}function Sc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Ac=[".DS_Store","Thumbs.db"];function Mc(t){return"object"===typeof t&&null!==t}function Ec(t){return t.filter(t=>-1===Ac.indexOf(t.name))}function Cc(t){if(null===t)return[];const e=[];for(let n=0;n<t.length;n++){const i=t[n];e.push(i)}return e}function Tc(t){if("function"!==typeof t.webkitGetAsEntry)return Dc(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?Lc(e):Dc(t,e)}function Pc(t){return t.reduce((t,e)=>[...t,...Array.isArray(e)?Pc(e):[e]],[])}function Dc(t,e){return wc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&"function"===typeof t.getAsFileSystemHandle){const e=yield t.getAsFileSystemHandle();if(null===e)throw new Error("".concat(t," is not a File"));if(void 0!==e){const t=yield e.getFile();return t.handle=e,kc(t)}}const i=t.getAsFile();if(!i)throw new Error("".concat(t," is not a File"));return kc(i,null!==(n=null===e||void 0===e?void 0:e.fullPath)&&void 0!==n?n:void 0)})}function Rc(t){return wc(this,void 0,void 0,function*(){return t.isDirectory?Lc(t):function(t){return wc(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(n=>{const i=kc(n,t.fullPath);e(i)},t=>{n(t)})})})}(t)})}function Lc(t){const e=t.createReader();return new Promise((t,n)=>{const i=[];!function a(){e.readEntries(e=>wc(this,void 0,void 0,function*(){if(e.length){const t=Promise.all(e.map(Rc));i.push(t),a()}else try{const e=yield Promise.all(i);t(e)}catch(s){n(s)}}),t=>{n(t)})}()})}var Nc=n(628);function Oc(t){return function(t){if(Array.isArray(t))return Wc(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Bc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ic(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Fc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ic(Object(n),!0).forEach(function(e){jc(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ic(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function jc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,a,s=[],r=!0,o=!1;try{for(n=n.call(t);!(r=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==n.return||n.return()}finally{if(o)throw a}}return s}(t,e)||Bc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bc(t,e){if(t){if("string"===typeof t)return Wc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wc(t,e):void 0}}function Wc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Hc="function"===typeof Nc?Nc:Nc.default,Vc="file-invalid-type",Uc="file-too-large",qc="file-too-small",Gc="too-many-files",Yc=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),e=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:Vc,message:"File type must be ".concat(e)}},Xc=function(t){return{code:Uc,message:"File is larger than ".concat(t," ").concat(1===t?"byte":"bytes")}},Kc=function(t){return{code:qc,message:"File is smaller than ".concat(t," ").concat(1===t?"byte":"bytes")}},$c={code:Gc,message:"Too many files"};function Qc(t,e){var n="application/x-moz-file"===t.type||Hc(t,e);return[n,n?null:Yc(e)]}function Jc(t,e,n){if(Zc(t.size))if(Zc(e)&&Zc(n)){if(t.size>n)return[!1,Xc(n)];if(t.size<e)return[!1,Kc(e)]}else{if(Zc(e)&&t.size<e)return[!1,Kc(e)];if(Zc(n)&&t.size>n)return[!1,Xc(n)]}return[!0,null]}function Zc(t){return void 0!==t&&null!==t}function th(t){return"function"===typeof t.isPropagationStopped?t.isPropagationStopped():"undefined"!==typeof t.cancelBubble&&t.cancelBubble}function eh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(t){return"Files"===t||"application/x-moz-file"===t}):!!t.target&&!!t.target.files}function nh(t){t.preventDefault()}function ih(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return e.some(function(e){return!th(t)&&e&&e.apply(void 0,[t].concat(i)),th(t)})}}function ah(t){return"audio/*"===t||"video/*"===t||"image/*"===t||"text/*"===t||"application/*"===t||/\w+\/[-+.\w]+/g.test(t)}function sh(t){return/^.*\.[\w]+$/.test(t)}var rh=["children"],oh=["open"],lh=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ch=["refKey","onChange","onClick"];function hh(t){return function(t){if(Array.isArray(t))return ph(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||uh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,a,s=[],r=!0,o=!1;try{for(n=n.call(t);!(r=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==n.return||n.return()}finally{if(o)throw a}}return s}(t,e)||uh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uh(t,e){if(t){if("string"===typeof t)return ph(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ph(t,e):void 0}}function ph(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function fh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function mh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fh(Object(n),!0).forEach(function(e){gh(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function gh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vh(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var bh=(0,t.forwardRef)(function(e,n){var i=e.children,a=wh(vh(e,rh)),s=a.open,r=vh(a,oh);return(0,t.useImperativeHandle)(n,function(){return{open:s}},[s]),t.createElement(t.Fragment,null,i(mh(mh({},r),{},{open:s})))});bh.displayName="Dropzone";var xh={disabled:!1,getFilesFromEvent:function(t){return wc(this,void 0,void 0,function*(){return Mc(t)&&Mc(t.dataTransfer)?function(t,e){return wc(this,void 0,void 0,function*(){if(t.items){const n=Cc(t.items).filter(t=>"file"===t.kind);if("drop"!==e)return n;return Ec(Pc(yield Promise.all(n.map(Tc))))}return Ec(Cc(t.files).map(t=>kc(t)))})}(t.dataTransfer,t.type):function(t){return Mc(t)&&Mc(t.target)}(t)?function(t){return Cc(t.target.files).map(t=>kc(t))}(t):Array.isArray(t)&&t.every(t=>"getFile"in t&&"function"===typeof t.getFile)?function(t){return wc(this,void 0,void 0,function*(){return(yield Promise.all(t.map(t=>t.getFile()))).map(t=>kc(t))})}(t):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};bh.defaultProps=xh,bh.propTypes={children:yc.func,accept:yc.objectOf(yc.arrayOf(yc.string)),multiple:yc.bool,preventDropOnDocument:yc.bool,noClick:yc.bool,noKeyboard:yc.bool,noDrag:yc.bool,noDragEventsBubbling:yc.bool,minSize:yc.number,maxSize:yc.number,maxFiles:yc.number,disabled:yc.bool,getFilesFromEvent:yc.func,onFileDialogCancel:yc.func,onFileDialogOpen:yc.func,useFsAccessApi:yc.bool,autoFocus:yc.bool,onDragEnter:yc.func,onDragLeave:yc.func,onDragOver:yc.func,onDrop:yc.func,onDropAccepted:yc.func,onDropRejected:yc.func,onError:yc.func,validator:yc.func};var yh={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function wh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=mh(mh({},xh),e),i=n.accept,a=n.disabled,s=n.getFilesFromEvent,r=n.maxSize,o=n.minSize,l=n.multiple,c=n.maxFiles,h=n.onDragEnter,d=n.onDragLeave,u=n.onDragOver,p=n.onDrop,f=n.onDropAccepted,m=n.onDropRejected,g=n.onFileDialogCancel,v=n.onFileDialogOpen,b=n.useFsAccessApi,x=n.autoFocus,y=n.preventDropOnDocument,w=n.noClick,_=n.noKeyboard,k=n.noDrag,S=n.noDragEventsBubbling,A=n.onError,M=n.validator,E=(0,t.useMemo)(function(){return function(t){if(Zc(t))return Object.entries(t).reduce(function(t,e){var n=zc(e,2),i=n[0],a=n[1];return[].concat(Oc(t),[i],Oc(a))},[]).filter(function(t){return ah(t)||sh(t)}).join(",")}(i)},[i]),C=(0,t.useMemo)(function(){return function(t){return Zc(t)?[{description:"Files",accept:Object.entries(t).filter(function(t){var e=zc(t,2),n=e[0],i=e[1],a=!0;return ah(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),Array.isArray(i)&&i.every(sh)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(t,e){var n=zc(e,2),i=n[0],a=n[1];return Fc(Fc({},t),{},jc({},i,a))},{})}]:t}(i)},[i]),T=(0,t.useMemo)(function(){return"function"===typeof v?v:kh},[v]),P=(0,t.useMemo)(function(){return"function"===typeof g?g:kh},[g]),D=(0,t.useRef)(null),R=(0,t.useRef)(null),L=dh((0,t.useReducer)(_h,yh),2),N=L[0],O=L[1],I=N.isFocused,F=N.isFileDialogActive,j=(0,t.useRef)("undefined"!==typeof window&&window.isSecureContext&&b&&"showOpenFilePicker"in window),z=function(){!j.current&&F&&setTimeout(function(){R.current&&(R.current.files.length||(O({type:"closeDialog"}),P()))},300)};(0,t.useEffect)(function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}},[R,F,P,j]);var B=(0,t.useRef)([]),W=function(t){D.current&&D.current.contains(t.target)||(t.preventDefault(),B.current=[])};(0,t.useEffect)(function(){return y&&(document.addEventListener("dragover",nh,!1),document.addEventListener("drop",W,!1)),function(){y&&(document.removeEventListener("dragover",nh),document.removeEventListener("drop",W))}},[D,y]),(0,t.useEffect)(function(){return!a&&x&&D.current&&D.current.focus(),function(){}},[D,x,a]);var H=(0,t.useCallback)(function(t){A?A(t):console.error(t)},[A]),V=(0,t.useCallback)(function(t){t.preventDefault(),t.persist(),nt(t),B.current=[].concat(hh(B.current),[t.target]),eh(t)&&Promise.resolve(s(t)).then(function(e){if(!th(t)||S){var n=e.length,i=n>0&&function(t){var e=t.files,n=t.accept,i=t.minSize,a=t.maxSize,s=t.multiple,r=t.maxFiles,o=t.validator;return!(!s&&e.length>1||s&&r>=1&&e.length>r)&&e.every(function(t){var e=zc(Qc(t,n),1)[0],s=zc(Jc(t,i,a),1)[0],r=o?o(t):null;return e&&s&&!r})}({files:e,accept:E,minSize:o,maxSize:r,multiple:l,maxFiles:c,validator:M});O({isDragAccept:i,isDragReject:n>0&&!i,isDragActive:!0,type:"setDraggedFiles"}),h&&h(t)}}).catch(function(t){return H(t)})},[s,h,H,S,E,o,r,l,c,M]),U=(0,t.useCallback)(function(t){t.preventDefault(),t.persist(),nt(t);var e=eh(t);if(e&&t.dataTransfer)try{t.dataTransfer.dropEffect="copy"}catch(n){}return e&&u&&u(t),!1},[u,S]),q=(0,t.useCallback)(function(t){t.preventDefault(),t.persist(),nt(t);var e=B.current.filter(function(t){return D.current&&D.current.contains(t)}),n=e.indexOf(t.target);-1!==n&&e.splice(n,1),B.current=e,e.length>0||(O({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),eh(t)&&d&&d(t))},[D,d,S]),G=(0,t.useCallback)(function(t,e){var n=[],i=[];t.forEach(function(t){var e=dh(Qc(t,E),2),a=e[0],s=e[1],l=dh(Jc(t,o,r),2),c=l[0],h=l[1],d=M?M(t):null;if(a&&c&&!d)n.push(t);else{var u=[s,h];d&&(u=u.concat(d)),i.push({file:t,errors:u.filter(function(t){return t})})}}),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach(function(t){i.push({file:t,errors:[$c]})}),n.splice(0)),O({acceptedFiles:n,fileRejections:i,isDragReject:i.length>0,type:"setFiles"}),p&&p(n,i,e),i.length>0&&m&&m(i,e),n.length>0&&f&&f(n,e)},[O,l,E,o,r,c,p,f,m,M]),Y=(0,t.useCallback)(function(t){t.preventDefault(),t.persist(),nt(t),B.current=[],eh(t)&&Promise.resolve(s(t)).then(function(e){th(t)&&!S||G(e,t)}).catch(function(t){return H(t)}),O({type:"reset"})},[s,G,H,S]),X=(0,t.useCallback)(function(){if(j.current){O({type:"openDialog"}),T();var t={multiple:l,types:C};window.showOpenFilePicker(t).then(function(t){return s(t)}).then(function(t){G(t,null),O({type:"closeDialog"})}).catch(function(t){var e;(e=t)instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)?(P(t),O({type:"closeDialog"})):!function(t){return t instanceof DOMException&&("SecurityError"===t.name||t.code===t.SECURITY_ERR)}(t)?H(t):(j.current=!1,R.current?(R.current.value=null,R.current.click()):H(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))})}else R.current&&(O({type:"openDialog"}),T(),R.current.value=null,R.current.click())},[O,T,P,b,G,H,C,l]),K=(0,t.useCallback)(function(t){D.current&&D.current.isEqualNode(t.target)&&(" "!==t.key&&"Enter"!==t.key&&32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),X()))},[D,X]),$=(0,t.useCallback)(function(){O({type:"focus"})},[]),Q=(0,t.useCallback)(function(){O({type:"blur"})},[]),J=(0,t.useCallback)(function(){w||(!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(t){return-1!==t.indexOf("MSIE")||-1!==t.indexOf("Trident/")}(t)||function(t){return-1!==t.indexOf("Edge/")}(t)}()?X():setTimeout(X,0))},[w,X]),Z=function(t){return a?null:t},tt=function(t){return _?null:Z(t)},et=function(t){return k?null:Z(t)},nt=function(t){S&&t.stopPropagation()},it=(0,t.useMemo)(function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.refKey,n=void 0===e?"ref":e,i=t.role,s=t.onKeyDown,r=t.onFocus,o=t.onBlur,l=t.onClick,c=t.onDragEnter,h=t.onDragOver,d=t.onDragLeave,u=t.onDrop,p=vh(t,lh);return mh(mh(gh({onKeyDown:tt(ih(s,K)),onFocus:tt(ih(r,$)),onBlur:tt(ih(o,Q)),onClick:Z(ih(l,J)),onDragEnter:et(ih(c,V)),onDragOver:et(ih(h,U)),onDragLeave:et(ih(d,q)),onDrop:et(ih(u,Y)),role:"string"===typeof i&&""!==i?i:"presentation"},n,D),a||_?{}:{tabIndex:0}),p)}},[D,K,$,Q,J,V,U,q,Y,_,k,a]),at=(0,t.useCallback)(function(t){t.stopPropagation()},[]),st=(0,t.useMemo)(function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.refKey,n=void 0===e?"ref":e,i=t.onChange,a=t.onClick,s=vh(t,ch);return mh(mh({},gh({accept:E,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(ih(i,Y)),onClick:Z(ih(a,at)),tabIndex:-1},n,R)),s)}},[R,i,l,Y,a]);return mh(mh({},N),{},{isFocused:I&&!a,getRootProps:it,getInputProps:st,rootRef:D,inputRef:R,open:Z(X)})}function _h(t,e){switch(e.type){case"focus":return mh(mh({},t),{},{isFocused:!0});case"blur":return mh(mh({},t),{},{isFocused:!1});case"openDialog":return mh(mh({},yh),{},{isFileDialogActive:!0});case"closeDialog":return mh(mh({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return mh(mh({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return mh(mh({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return mh({},yh);default:return t}}function kh(){}var Sh,Ah,Mh,Eh,Ch,Th,Ph,Dh,Rh,Lh,Nh,Oh,Ih,Fh,jh,zh=n(257),Bh=n.n(zh);function Wh(t,e,n){e||(e=[]);var i=e.length++;return Object.defineProperty({},"_",{set:function(a){e[i]=a,t.apply(n,e)}})}function Hh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vh(t,e){Hh(t,e),e.add(t)}function Uh(t,e,n){Hh(t,e),e.set(t,n)}function qh(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Gh(t,e,n){return n(qh(t,e))}function Yh(t,e){return t.get(qh(t,e))}function Xh(t,e,n){return t.set(qh(t,e),n),n}function Kh(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then(function(t){return{value:t,done:e}})}return Kh=function(t){this.s=t,this.n=t.next},Kh.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new Kh(t)}const $h="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),Qh=[.001,0,0,.001,0,0],Jh=1.35,Zh=1,td=2,ed=4,nd=16,id=32,ad=64,sd=128,rd=256,od={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ld="pdfjs_internal_editor_",cd={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},hd={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},dd=0,ud=1,pd=2,fd=3,md=3,gd=4,vd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},bd={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},xd=1,yd=2,wd=3,_d=4,kd=5,Sd={ERRORS:0,WARNINGS:1,INFOS:5},Ad={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Md=0,Ed=1,Cd=2,Td=3;let Pd=Sd.WARNINGS;function Dd(t){Number.isInteger(t)&&(Pd=t)}function Rd(){return Pd}function Ld(t){Pd>=Sd.INFOS&&console.log("Info: ".concat(t))}function Nd(t){Pd>=Sd.WARNINGS&&console.log("Warning: ".concat(t))}function Od(t){throw new Error(t)}function Id(t,e){t||Od(e)}function Fd(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);(null===e||void 0===e?void 0:e.length)>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch(a){}}const i=e?URL.parse(t,e):URL.parse(t);return function(t){switch(null===t||void 0===t?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i)?i:null}function jd(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=URL.parse(t);return i?(i.hash=e,i.href):n&&Fd(t,"http://example.com")?t.split("#",1)[0]+"".concat(e?"#".concat(e):""):""}function zd(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Bd=function(){function t(t,e){this.message=t,this.name=e}return t.prototype=new Error,t.constructor=t,t}();class Wd extends Bd{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Hd extends Bd{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Vd extends Bd{constructor(t){super(t,"InvalidPDFException")}}class Ud extends Bd{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class qd extends Bd{constructor(t){super(t,"FormatError")}}class Gd extends Bd{constructor(t){super(t,"AbortException")}}function Yd(t){"object"===typeof t&&void 0!==(null===t||void 0===t?void 0:t.length)||Od("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let a=0;a<e;a+=n){const s=Math.min(a+n,e),r=t.subarray(a,s);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function Xd(t){"string"!==typeof t&&Od("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}class Kd{static get isLittleEndian(){return zd(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return zd(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return zd(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return zd(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:t,userAgent:e}=navigator;return zd(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return zd(this,"isCSSRoundSupported",null===(t=globalThis.CSS)||void 0===t||null===(e=t.supports)||void 0===e?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const $d=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class Qd{static makeHexColor(t,e,n){return"#".concat($d[t]).concat($d[e]).concat($d[n])}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t[n],a=t[n+1];t[n]=i*e[0]+a*e[2]+e[4],t[n+1]=i*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=e[0],a=e[1],s=e[2],r=e[3],o=e[4],l=e[5];for(let c=0;c<6;c+=2){const e=t[n+c],h=t[n+c+1];t[n+c]=e*i+h*s+o,t[n+c+1]=e*a+h*r+l}}static applyInverseTransform(t,e){const n=t[0],i=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-n*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,n){const i=e[0],a=e[1],s=e[2],r=e[3],o=e[4],l=e[5],c=t[0],h=t[1],d=t[2],u=t[3];let p=i*c+o,f=p,m=i*d+o,g=m,v=r*h+l,b=v,x=r*u+l,y=x;if(0!==a||0!==s){const t=a*c,e=a*d,n=s*h,i=s*u;p+=n,g+=n,m+=i,f+=i,v+=t,y+=t,x+=e,b+=e}n[0]=Math.min(n[0],p,m,f,g),n[1]=Math.min(n[1],v,x,b,y),n[2]=Math.max(n[2],p,m,f,g),n[3]=Math.max(n[3],v,x,b,y)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],i=t[1],a=t[2],s=t[3],r=n**2+i**2,o=n*a+i*s,l=a**2+s**2,c=(r+l)/2,h=Math.sqrt(c**2-(r*l-o**2));e[0]=Math.sqrt(c+h||1),e[1]=Math.sqrt(c-h||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),s=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>s?null:[n,a,i,s]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,i,a){a[0]=Math.min(a[0],t,n),a[1]=Math.min(a[1],e,i),a[2]=Math.max(a[2],t,n),a[3]=Math.max(a[3],e,i)}static bezierBoundingBox(t,e,n,i,a,s,r,o,l){l[0]=Math.min(l[0],t,r),l[1]=Math.min(l[1],e,o),l[2]=Math.max(l[2],t,r),l[3]=Math.max(l[3],e,o),qh(Qd,this,Zd).call(this,t,n,a,r,e,i,s,o,3*(3*(n-a)-t+r),6*(t-2*n+a),3*(n-t),l),qh(Qd,this,Zd).call(this,t,n,a,r,e,i,s,o,3*(3*(i-s)-e+o),6*(e-2*i+s),3*(i-e),l)}}function Jd(t,e,n,i,a,s,r,o,l,c){if(l<=0||l>=1)return;const h=1-l,d=l*l,u=d*l,p=h*(h*(h*t+3*l*e)+3*d*n)+u*i,f=h*(h*(h*a+3*l*s)+3*d*r)+u*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}function Zd(t,e,n,i,a,s,r,o,l,c,h,d){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&qh(Sh,this,Jd).call(this,t,e,n,i,a,s,r,o,-h/c,d));const u=c**2-4*h*l;if(u<0)return;const p=Math.sqrt(u),f=2*l;qh(Sh,this,Jd).call(this,t,e,n,i,a,s,r,o,(-c+p)/f,d),qh(Sh,this,Jd).call(this,t,e,n,i,a,s,r,o,(-c-p)/f,d)}Sh=Qd;let tu=null,eu=null;function nu(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),Yd(t)}const iu="pdfjs_internal_id_";function au(t,e,n){return Math.min(Math.max(t,e),n)}function su(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(Yd(t))}"function"!==typeof Promise.try&&(Promise.try=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new Promise(e=>{e(t(...n))})}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(t){return t.reduce((t,e)=>t+e,0)});const ru="http://www.w3.org/2000/svg";class ou{}async function lu(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(fu(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE)if(200!==a.status&&0!==a.status)i(new Error(a.statusText));else{switch(e){case"arraybuffer":case"blob":case"json":return void n(a.response)}n(a.responseText)}},a.send(null)})}Ah=ou,r(ou,"CSS",96),r(ou,"PDF",72),r(ou,"PDF_TO_CSS_UNITS",Ah.CSS/Ah.PDF);class cu{constructor(t){let{viewBox:e,userUnit:n,scale:i,rotation:a,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}=t;this.viewBox=e,this.userUnit=n,this.scale=i,this.rotation=a,this.offsetX=s,this.offsetY=r,i*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let h,d,u,p,f,m,g,v;switch(a%=360,a<0&&(a+=360),a){case 180:h=-1,d=0,u=0,p=1;break;case 90:h=0,d=1,u=1,p=0;break;case 270:h=0,d=-1,u=-1,p=0;break;case 0:h=1,d=0,u=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(u=-u,p=-p),0===h?(f=Math.abs(c-e[1])*i+s,m=Math.abs(l-e[0])*i+r,g=(e[3]-e[1])*i,v=(e[2]-e[0])*i):(f=Math.abs(l-e[0])*i+s,m=Math.abs(c-e[1])*i+r,g=(e[2]-e[0])*i,v=(e[3]-e[1])*i),this.transform=[h*i,d*i,u*i,p*i,f-h*i*l-u*i*c,m-d*i*l-p*i*c],this.width=g,this.height=v}get rawDims(){const t=this.viewBox;return zd(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new cu({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:a})}convertToViewportPoint(t,e){const n=[t,e];return Qd.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];Qd.applyTransform(e,this.transform);const n=[t[2],t[3]];return Qd.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return Qd.applyInverseTransform(n,this.transform),n}}class hu extends Bd{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t,"RenderingCancelledException"),this.extraDelay=e}}function du(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function uu(t){return"string"===typeof t&&/\.pdf$/i.test(t)}class pu{constructor(){r(this,"started",Object.create(null)),r(this,"times",[])}time(t){t in this.started&&Nd("Timer is already running for ".concat(t)),this.started[t]=Date.now()}timeEnd(t){t in this.started||Nd("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:a}of this.times)t.push("".concat(n.padEnd(e)," ").concat(a-i,"ms\n"));return t.join("")}}function fu(t,e){const n=e?URL.parse(t,e):URL.parse(t);return"http:"===(null===n||void 0===n?void 0:n.protocol)||"https:"===(null===n||void 0===n?void 0:n.protocol)}function mu(t){t.preventDefault()}function gu(t){t.preventDefault(),t.stopPropagation()}class vu{static toDateObject(t){if(t instanceof Date)return t;if(!t||"string"!==typeof t)return null;qh(vu,this,bu)._||(bu._=qh(vu,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const e=qh(vu,this,bu)._.exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(e[4],10);s=s>=0&&s<=23?s:0;let r=parseInt(e[5],10);r=r>=0&&r<=59?r:0;let o=parseInt(e[6],10);o=o>=0&&o<=59?o:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===l?(s+=c,r+=h):"+"===l&&(s-=c,r-=h),new Date(Date.UTC(n,i,a,s,r,o))}}var bu={_:void 0};function xu(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(t=>parseInt(t)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Nd('Not a valid color format: "'.concat(t,'"')),[0,0,0])}function yu(t){const{a:e,b:n,c:i,d:a,e:s,f:r}=t.getTransform();return[e,n,i,a,s,r]}function wu(t){const{a:e,b:n,c:i,d:a,e:s,f:r}=t.getTransform().invertSelf();return[e,n,i,a,s,r]}function _u(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof cu){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,r=Kd.isCSSRoundSupported,o="var(--total-scale-factor) * ".concat(i,"px"),l="var(--total-scale-factor) * ".concat(a,"px"),c=r?"round(down, ".concat(o,", var(--scale-round-x))"):"calc(".concat(o,")"),h=r?"round(down, ".concat(l,", var(--scale-round-y))"):"calc(".concat(l,")");n&&e.rotation%180!==0?(s.width=h,s.height=c):(s.width=c,s.height=h)}i&&t.setAttribute("data-main-rotation",e.rotation)}class ku{constructor(){const{pixelRatio:t}=ku;this.sx=t,this.sy=t}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=1/0,r=1/0,o=1/0;(n=ku.capPixels(n,a))>0&&(s=Math.sqrt(n/(t*e))),-1!==i&&(r=i/t,o=i/e);const l=Math.min(s,r,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Su=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Au=new WeakMap,Mu=new WeakMap,Eu=new WeakMap,Cu=new WeakMap,Tu=new WeakMap,Pu=new WeakMap,Du=new WeakMap,Ru=new WeakSet;class Lu{constructor(t){Vh(this,Ru),Uh(this,Au,null),Uh(this,Mu,null),Uh(this,Eu,void 0),Uh(this,Cu,null),Uh(this,Tu,null),Uh(this,Pu,null),Uh(this,Du,null),Xh(Eu,this,t),zu._||(zu._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=Xh(Au,this,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=Yh(Eu,this)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",mu,{signal:e}),t.addEventListener("pointerdown",Nu,{signal:e}));const n=Xh(Cu,this,document.createElement("div"));n.className="buttons",t.append(n);const i=Yh(Eu,this).toolbarPosition;if(i){const{style:e}=t,n="ltr"===Yh(Eu,this)._uiManager.direction?1-i[0]:i[0];e.insetInlineEnd="".concat(100*n,"%"),e.top="calc(".concat(100*i[1],"% + var(--editor-toolbar-vert-offset))")}return t}get div(){return Yh(Au,this)}hide(){var t;Yh(Au,this).classList.add("hidden"),null===(t=Yh(Mu,this))||void 0===t||t.hideDropdown()}show(){var t,e;Yh(Au,this).classList.remove("hidden"),null===(t=Yh(Tu,this))||void 0===t||t.shown(),null===(e=Yh(Pu,this))||void 0===e||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=Yh(Eu,this),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",zu._[t]),qh(Ru,this,Fu).call(this,n)&&n.addEventListener("click",t=>{e.delete()},{signal:e._signal}),Yh(Cu,this).append(n)}async addAltText(t){const e=await t.render();qh(Ru,this,Fu).call(this,e),Yh(Cu,this).append(e,Gh(Ru,this,ju)),Xh(Tu,this,t)}addComment(t){if(Yh(Pu,this))return;const e=t.render();e&&(qh(Ru,this,Fu).call(this,e),Yh(Cu,this).append(e,Gh(Ru,this,ju)),Xh(Pu,this,t),t.toolbar=this)}addColorPicker(t){if(Yh(Mu,this))return;Xh(Mu,this,t);const e=t.renderButton();qh(Ru,this,Fu).call(this,e),Yh(Cu,this).append(e,Gh(Ru,this,ju))}async addEditSignatureButton(t){const e=Xh(Du,this,await t.renderEditButton(Yh(Eu,this)));qh(Ru,this,Fu).call(this,e),Yh(Cu,this).append(e,Gh(Ru,this,ju))}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e)}}updateEditSignatureButton(t){Yh(Du,this)&&(Yh(Du,this).title=t)}remove(){var t;Yh(Au,this).remove(),null===(t=Yh(Mu,this))||void 0===t||t.destroy(),Xh(Mu,this,null)}}function Nu(t){t.stopPropagation()}function Ou(t){Yh(Eu,this)._focusEventsAllowed=!1,gu(t)}function Iu(t){Yh(Eu,this)._focusEventsAllowed=!0,gu(t)}function Fu(t){const e=Yh(Eu,this)._uiManager._signal;return e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("focusin",qh(Ru,this,Ou).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",qh(Ru,this,Iu).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",mu,{signal:e}),!0)}function ju(t){const e=document.createElement("div");return e.className="divider",e}var zu={_:null},Bu=new WeakMap,Wu=new WeakMap,Hu=new WeakMap,Vu=new WeakSet;class Uu{constructor(t){Vh(this,Vu),Uh(this,Bu,null),Uh(this,Wu,null),Uh(this,Hu,void 0),Xh(Hu,this,t)}show(t,e,n){const[i,a]=qh(Vu,this,Gu).call(this,e,n),{style:s}=Yh(Wu,this)||Xh(Wu,this,qh(Vu,this,qu).call(this));t.append(Yh(Wu,this)),s.insetInlineEnd="".concat(100*i,"%"),s.top="calc(".concat(100*a,"% + var(--editor-toolbar-vert-offset))")}hide(){Yh(Wu,this).remove()}}function qu(){const t=Xh(Wu,this,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=Yh(Hu,this)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",mu,{signal:e});const n=Xh(Bu,this,document.createElement("div"));return n.className="buttons",t.append(n),Yh(Hu,this).hasCommentManager()&&qh(Vu,this,Yu).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{Yh(Hu,this).commentSelection("floating_button")}),qh(Vu,this,Yu).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{Yh(Hu,this).highlightSelection("floating_button")}),t}function Gu(t,e){let n=0,i=0;for(const a of t){const t=a.y+a.height;if(t<n)continue;const s=a.x+(e?a.width:0);t>n?(i=s,n=t):e?s>i&&(i=s):s<i&&(i=s)}return[e?1-i:i,n]}function Yu(t,e,n,i){const a=document.createElement("button");a.classList.add("basic",t),a.tabIndex=0,a.setAttribute("data-l10n-id",e);const s=document.createElement("span");a.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",n);const r=Yh(Hu,this)._signal;r instanceof AbortSignal&&!r.aborted&&(a.addEventListener("contextmenu",mu,{signal:r}),a.addEventListener("click",i,{signal:r})),Yh(Bu,this).append(a)}function Xu(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}var Ku=new WeakMap;class $u{constructor(){Uh(this,Ku,0)}get id(){var t,e;return"".concat(ld).concat((Xh(Ku,this,(t=Yh(Ku,this),e=t++,t)),e))}}var Qu=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,tp=new WeakSet;class ep{constructor(){Vh(this,tp),Uh(this,Qu,nu()),Uh(this,Ju,0),Uh(this,Zu,null)}static get _isSVGFittingCanvas(){const t=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return zd(this,"_isSVGFittingCanvas",e.decode().then(()=>(t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0])))}async getFromFile(t){const{lastModified:e,name:n,size:i,type:a}=t;return qh(tp,this,np).call(this,"".concat(e,"_").concat(n,"_").concat(i,"_").concat(a),t)}async getFromUrl(t){return qh(tp,this,np).call(this,t,t)}async getFromBlob(t,e){const n=await e;return qh(tp,this,np).call(this,t,n)}async getFromId(t){Yh(Zu,this)||Xh(Zu,this,new Map);const e=Yh(Zu,this).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:t}=e;return delete e.blobPromise,this.getFromBlob(e.id,t)}return this.getFromUrl(e.url)}getFromCanvas(t,e){var n,i,a;Yh(Zu,this)||Xh(Zu,this,new Map);let s=Yh(Zu,this).get(t);if(null!==(a=s)&&void 0!==a&&a.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:"image_".concat(Yh(Qu,this),"_").concat((Xh(Ju,this,(n=Yh(Ju,this),i=n++,n)),i)),refCounter:1,isSvg:!1},Yh(Zu,this).set(t,s),Yh(Zu,this).set(s.id,s),s}getSvgUrl(t){const e=Yh(Zu,this).get(t);return null!==e&&void 0!==e&&e.isSvg?e.svgUrl:null}deleteId(t){var e;Yh(Zu,this)||Xh(Zu,this,new Map);const n=Yh(Zu,this).get(t);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:i}=n;if(!n.url&&!n.file){const t=new OffscreenCanvas(i.width,i.height);t.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=t.convertToBlob()}null===(e=i.close)||void 0===e||e.call(i),n.bitmap=null}isValidId(t){return t.startsWith("image_".concat(Yh(Qu,this),"_"))}}async function np(t,e){var n;Yh(Zu,this)||Xh(Zu,this,new Map);let i=Yh(Zu,this).get(t);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var a,s;let t;if(i||(i={bitmap:null,id:"image_".concat(Yh(Qu,this),"_").concat((Xh(Ju,this,(a=Yh(Ju,this),s=a++,a)),s)),refCounter:0,isSvg:!1}),"string"===typeof e?(i.url=e,t=await lu(e,"blob")):e instanceof File?t=i.file=e:e instanceof Blob&&(t=e),"image/svg+xml"===t.type){const e=Mh._isSVGFittingCanvas,n=new FileReader,a=new Image,s=new Promise((t,s)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,t()},n.onload=async()=>{const t=i.svgUrl=n.result;a.src=await e?"".concat(t,"#svgView(preserveAspectRatio(none))"):t},a.onerror=n.onerror=s});n.readAsDataURL(t),await s}else i.bitmap=await createImageBitmap(t);i.refCounter=1}catch(UE){Nd(UE),i=null}return Yh(Zu,this).set(t,i),i&&Yh(Zu,this).set(i.id,i),i}Mh=ep;var ip=new WeakMap,ap=new WeakMap,sp=new WeakMap,rp=new WeakMap;class op{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;Uh(this,ip,[]),Uh(this,ap,!1),Uh(this,sp,void 0),Uh(this,rp,-1),Xh(sp,this,t)}add(t){let{cmd:e,undo:n,post:i,mustExec:a,type:s=NaN,overwriteIfSameType:r=!1,keepUndo:o=!1}=t;if(a&&e(),Yh(ap,this))return;const l={cmd:e,undo:n,post:i,type:s};if(-1===Yh(rp,this))return Yh(ip,this).length>0&&(Yh(ip,this).length=0),Xh(rp,this,0),void Yh(ip,this).push(l);if(r&&Yh(ip,this)[Yh(rp,this)].type===s)return o&&(l.undo=Yh(ip,this)[Yh(rp,this)].undo),void(Yh(ip,this)[Yh(rp,this)]=l);const c=Yh(rp,this)+1;c===Yh(sp,this)?Yh(ip,this).splice(0,1):(Xh(rp,this,c),c<Yh(ip,this).length&&Yh(ip,this).splice(c)),Yh(ip,this).push(l)}undo(){if(-1===Yh(rp,this))return;Xh(ap,this,!0);const{undo:t,post:e}=Yh(ip,this)[Yh(rp,this)];t(),null===e||void 0===e||e(),Xh(ap,this,!1),Xh(rp,this,Yh(rp,this)-1)}redo(){if(Yh(rp,this)<Yh(ip,this).length-1){Xh(rp,this,Yh(rp,this)+1),Xh(ap,this,!0);const{cmd:t,post:e}=Yh(ip,this)[Yh(rp,this)];t(),null===e||void 0===e||e(),Xh(ap,this,!1)}}hasSomethingToUndo(){return-1!==Yh(rp,this)}hasSomethingToRedo(){return Yh(rp,this)<Yh(ip,this).length-1}cleanType(t){if(-1!==Yh(rp,this)){for(let e=Yh(rp,this);e>=0;e--)if(Yh(ip,this)[e].type!==t)return Yh(ip,this).splice(e+1,Yh(rp,this)-e),void Xh(rp,this,e);Yh(ip,this).length=0,Xh(rp,this,-1)}}destroy(){Xh(ip,this,null)}}var lp=new WeakSet;class cp{constructor(t){Vh(this,lp),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Kd.platform;for(const[n,i,a={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:i,options:a}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:i,options:a}),this.allKeys.add(t.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(qh(lp,this,hp).call(this,e));if(!n)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:r=null}}=n;r&&!r(t,e)||(i.bind(t,...s,e)(),a||gu(e))}}function hp(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}class dp{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return function(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,xu(i))}e.remove()}(t),zd(this,"_colors",t)}convert(t){const e=xu(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every((t,n)=>t===e[n]))return dp._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Qd.makeHexColor(...e):t}}r(dp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var up=new WeakMap,pp=new WeakMap,fp=new WeakMap,mp=new WeakMap,gp=new WeakMap,vp=new WeakMap,bp=new WeakMap,xp=new WeakMap,yp=new WeakMap,wp=new WeakMap,_p=new WeakMap,kp=new WeakMap,Sp=new WeakMap,Ap=new WeakMap,Mp=new WeakMap,Ep=new WeakMap,Cp=new WeakMap,Tp=new WeakMap,Pp=new WeakMap,Dp=new WeakMap,Rp=new WeakMap,Lp=new WeakMap,Np=new WeakMap,Op=new WeakMap,Ip=new WeakMap,Fp=new WeakMap,jp=new WeakMap,zp=new WeakMap,Bp=new WeakMap,Wp=new WeakMap,Hp=new WeakMap,Vp=new WeakMap,Up=new WeakMap,qp=new WeakMap,Gp=new WeakMap,Yp=new WeakMap,Xp=new WeakMap,Kp=new WeakMap,$p=new WeakMap,Qp=new WeakMap,Jp=new WeakMap,Zp=new WeakMap,tf=new WeakMap,ef=new WeakMap,nf=new WeakMap,af=new WeakMap,sf=new WeakMap,rf=new WeakMap,of=new WeakMap,lf=new WeakSet;class cf{static get _keyboardManager(){const t=cf.prototype,e=t=>Yh(af,t).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,e)=>{let{target:n}=e;if(n instanceof HTMLInputElement){const{type:t}=n;return"text"!==t&&"number"!==t}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return zd(this,"_keyboardManager",new cp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&Yh(af,t).contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&Yh(af,t).contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}constructor(t,e,n,i,a,s,o,l,c,h,d,u,p,f,m,g){Vh(this,lf),Uh(this,up,new AbortController),Uh(this,pp,null),Uh(this,fp,null),Uh(this,mp,new Map),Uh(this,gp,new Map),Uh(this,vp,null),Uh(this,bp,null),Uh(this,xp,null),Uh(this,yp,new op),Uh(this,wp,null),Uh(this,_p,null),Uh(this,kp,null),Uh(this,Sp,0),Uh(this,Ap,new Set),Uh(this,Mp,null),Uh(this,Ep,null),Uh(this,Cp,new Set),r(this,"_editorUndoBar",null),Uh(this,Tp,!1),Uh(this,Pp,!1),Uh(this,Dp,!1),Uh(this,Rp,null),Uh(this,Lp,null),Uh(this,Np,null),Uh(this,Op,null),Uh(this,Ip,!1),Uh(this,Fp,null),Uh(this,jp,new $u),Uh(this,zp,!1),Uh(this,Bp,!1),Uh(this,Wp,!1),Uh(this,Hp,null),Uh(this,Vp,null),Uh(this,Up,null),Uh(this,qp,null),Uh(this,Gp,null),Uh(this,Yp,cd.NONE),Uh(this,Xp,new Set),Uh(this,Kp,null),Uh(this,$p,null),Uh(this,Qp,null),Uh(this,Jp,null),Uh(this,Zp,null),Uh(this,tf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),Uh(this,ef,[0,0]),Uh(this,nf,null),Uh(this,af,null),Uh(this,sf,null),Uh(this,rf,null),Uh(this,of,null);const v=this._signal=Yh(up,this).signal;Xh(af,this,t),Xh(sf,this,e),Xh(rf,this,n),Xh(vp,this,i),Xh(wp,this,a),Xh($p,this,s),Xh(Zp,this,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:v}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),o._on("setpreference",this.onSetPreference.bind(this),{signal:v}),o._on("switchannotationeditorparams",t=>this.updateParams(t.type,t.value),{signal:v}),window.addEventListener("pointerdown",()=>{Xh(Bp,this,!0)},{capture:!0,signal:v}),window.addEventListener("pointerup",()=>{Xh(Bp,this,!1)},{capture:!0,signal:v}),qh(lf,this,mf).call(this),qh(lf,this,_f).call(this),qh(lf,this,bf).call(this),Xh(bp,this,l.annotationStorage),Xh(Rp,this,l.filterFactory),Xh(Qp,this,c),Xh(Op,this,h||null),Xh(Tp,this,d),Xh(Pp,this,u),Xh(Dp,this,p),Xh(Gp,this,f||null),this.viewParameters={realScale:ou.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=!1!==g}destroy(){var t,e,n,i,a,s,r,o,l;null===(t=Yh(of,this))||void 0===t||t.resolve(),Xh(of,this,null),null===(e=Yh(up,this))||void 0===e||e.abort(),Xh(up,this,null),this._signal=null;for(const c of Yh(gp,this).values())c.destroy();Yh(gp,this).clear(),Yh(mp,this).clear(),Yh(Cp,this).clear(),null===(n=Yh(qp,this))||void 0===n||n.clear(),Xh(pp,this,null),Yh(Xp,this).clear(),Yh(yp,this).destroy(),null===(i=Yh(vp,this))||void 0===i||i.destroy(),null===(a=Yh(wp,this))||void 0===a||a.destroy(),null===(s=Yh($p,this))||void 0===s||s.destroy(),null===(r=Yh(Fp,this))||void 0===r||r.hide(),Xh(Fp,this,null),null===(o=Yh(Up,this))||void 0===o||o.destroy(),Xh(Up,this,null),Xh(fp,this,null),Yh(Lp,this)&&(clearTimeout(Yh(Lp,this)),Xh(Lp,this,null)),Yh(nf,this)&&(clearTimeout(Yh(nf,this)),Xh(nf,this,null)),null===(l=this._editorUndoBar)||void 0===l||l.destroy(),Xh(Zp,this,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return Yh(Gp,this)}get useNewAltTextFlow(){return Yh(Pp,this)}get useNewAltTextWhenAddingImage(){return Yh(Dp,this)}get hcmFilter(){return zd(this,"hcmFilter",Yh(Qp,this)?Yh(Rp,this).addHCMFilter(Yh(Qp,this).foreground,Yh(Qp,this).background):"none")}get direction(){return zd(this,"direction",getComputedStyle(Yh(af,this)).direction)}get _highlightColors(){return zd(this,"_highlightColors",Yh(Op,this)?new Map(Yh(Op,this).split(",").map(t=>((t=t.split("=").map(t=>t.trim()))[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return zd(this,"highlightColors",null);const e=new Map,n=!!Yh(Qp,this);for(const[i,a]of t){const t=i.endsWith("_HCM");n&&t?e.set(i.replace("_HCM",""),a):n||t||e.set(i,a)}return zd(this,"highlightColors",e)}get highlightColorNames(){return zd(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),Xh(kp,this,t)}setMainHighlightColorPicker(t){Xh(Up,this,t)}editAltText(t){var e;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(e=Yh(vp,this))||void 0===e||e.editAltText(this,t,n)}hasCommentManager(){return!!Yh(wp,this)}editComment(t,e){var n;null===(n=Yh(wp,this))||void 0===n||n.open(this,t,e)}getSignature(t){var e;null===(e=Yh($p,this))||void 0===e||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return Yh($p,this)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference(t){let{name:e,value:n}=t;if("enableNewAltTextWhenAddingImage"===e)Xh(Dp,this,n)}onPageChanging(t){let{pageNumber:e}=t;Xh(Sp,this,e-1)}focusMainContainer(){Yh(af,this).focus()}findParent(t,e){for(const n of Yh(gp,this).values()){const{x:i,y:a,width:s,height:r}=n.div.getBoundingClientRect();if(t>=i&&t<=i+s&&e>=a&&e<=a+r)return n}return null}disableUserSelect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Yh(sf,this).classList.toggle("noUserSelect",t)}addShouldRescale(t){Yh(Cp,this).add(t)}removeShouldRescale(t){Yh(Cp,this).delete(t)}onScaleChanging(t){var e;let{scale:n}=t;this.commitOrRemove(),this.viewParameters.realScale=n*ou.PDF_TO_CSS_UNITS;for(const i of Yh(Cp,this))i.onScaleChanging();null===(e=Yh(kp,this))||void 0===e||e.onScaleChanging()}onRotationChanging(t){let{pagesRotation:e}=t;this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:r}=n,o=n.toString(),l=qh(lf,this,hf).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(l);if(!c)return;n.empty();const h=qh(lf,this,df).call(this,l),d=Yh(Yp,this)===cd.NONE,u=()=>{const n=null===h||void 0===h?void 0:h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:c,anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:r,text:o});d&&this.showAllEditors("highlight",!0,!0),e&&(null===n||void 0===n||n.editComment())};d?this.switchToMode(cd.HIGHLIGHT,u):u()}commentSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.highlightSelection(t,!0)}addToAnnotationStorage(t){t.isEmpty()||!Yh(bp,this)||Yh(bp,this).has(t.id)||Yh(bp,this).setValue(t.id,t)}a11yAlert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Yh(rf,this);n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,Yh(Ip,this)&&(Xh(Ip,this,!1),qh(lf,this,ff).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of Yh(Xp,this))if(e.div.contains(t)){Xh(Vp,this,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!Yh(Vp,this))return;const[t,e]=Yh(Vp,this);Xh(Vp,this,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){qh(lf,this,bf).call(this),qh(lf,this,yf).call(this)}removeEditListeners(){qh(lf,this,xf).call(this),qh(lf,this,wf).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of Yh(Ep,this))if(n.isHandlingMimeForPasting(e))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}drop(t){for(const e of t.dataTransfer.items)for(const n of Yh(Ep,this))if(n.isHandlingMimeForPasting(e.type))return n.paste(e,this.currentLayer),void t.preventDefault()}copy(t){var e;if(t.preventDefault(),null===(e=Yh(pp,this))||void 0===e||e.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of Yh(Xp,this)){const t=i.serialize(!0);t&&n.push(t)}0!==n.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const t of Yh(Ep,this))if(t.isHandlingMimeForPasting(s.type))return void t.paste(s,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){return void Nd('paste: "'.concat(a.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const t=[];for(const s of n){const e=await i.deserialize(s);if(!e)return;t.push(e)}const e=()=>{for(const e of t)qh(lf,this,Ef).call(this,e);qh(lf,this,Pf).call(this,t)},a=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:a,mustExec:!0})}catch(a){Nd('paste: "'.concat(a.message,'".'))}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),Yh(Yp,this)===cd.NONE||this.isEditorHandlingKeyboard||cf._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,Yh(Ip,this)&&(Xh(Ip,this,!1),qh(lf,this,ff).call(this,"main_toolbar")))}onEditingAction(t){let{name:e}=t;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}setEditingState(t){t?(qh(lf,this,gf).call(this),qh(lf,this,yf).call(this),qh(lf,this,kf).call(this,{isEditing:Yh(Yp,this)!==cd.NONE,isEmpty:qh(lf,this,Tf).call(this),hasSomethingToUndo:Yh(yp,this).hasSomethingToUndo(),hasSomethingToRedo:Yh(yp,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(qh(lf,this,vf).call(this),qh(lf,this,wf).call(this),qh(lf,this,kf).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!Yh(Ep,this)){Xh(Ep,this,t);for(const t of Yh(Ep,this))qh(lf,this,Sf).call(this,t.defaultPropertiesToUpdate)}}getId(){return Yh(jp,this).id}get currentLayer(){return Yh(gp,this).get(Yh(Sp,this))}getLayer(t){return Yh(gp,this).get(t)}get currentPageIndex(){return Yh(Sp,this)}addLayer(t){Yh(gp,this).set(t.pageIndex,t),Yh(zp,this)?t.enable():t.disable()}removeLayer(t){Yh(gp,this).delete(t.pageIndex)}async updateMode(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Yh(Yp,this)!==t&&(!Yh(of,this)||(await Yh(of,this).promise,Yh(of,this)))){var r,o,l,c;if(Xh(of,this,Promise.withResolvers()),null===(e=Yh(kp,this))||void 0===e||e.commitOrRemove(),Yh(Yp,this)===cd.POPUP)null===(r=Yh(wp,this))||void 0===r||r.hideSidebar();if(Xh(Yp,this,t),t===cd.NONE)return this.setEditingState(!1),qh(lf,this,Mf).call(this),null===(o=this._editorUndoBar)||void 0===o||o.hide(),void Yh(of,this).resolve();if(t===cd.SIGNATURE)await(null===(l=Yh($p,this))||void 0===l?void 0:l.loadSignatures());if(t===cd.POPUP)Yh(fp,this)||Xh(fp,this,await Yh(Zp,this).getAnnotationsByType(new Set(Yh(Ep,this).map(t=>t._editorType)))),null===(c=Yh(wp,this))||void 0===c||c.showSidebar(Yh(fp,this));this.setEditingState(!0),await qh(lf,this,Af).call(this),this.unselectAll();for(const e of Yh(gp,this).values())e.updateMode(t);if(!n)return i&&this.addNewEditorFromKeyboard(),void Yh(of,this).resolve();for(const t of Yh(mp,this).values())t.annotationElementId===n||t.id===n?(this.setSelected(t),s?t.editComment():a&&t.enterInEditMode()):t.unselect();Yh(of,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==Yh(Yp,this)&&this._eventBus.dispatch("switchannotationeditormode",l({source:this},t))}updateParams(t,e){if(Yh(Ep,this)){switch(t){case hd.CREATE:return void this.currentLayer.addNewEditor(e);case hd.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Yh(Jp,this)||Xh(Jp,this,new Map)).set(t,e),this.showAllEditors("highlight",e)}if(this.hasSelection)for(const n of Yh(Xp,this))n.updateParams(t,e);else for(const n of Yh(Ep,this))n.updateDefaultParams(t,e)}}showAllEditors(t,e){var n,i;for(const a of Yh(mp,this).values())a.editorType===t&&a.show(e);(null===(n=null===(i=Yh(Jp,this))||void 0===i?void 0:i.get(hd.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==e&&qh(lf,this,Sf).call(this,[[hd.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Yh(Wp,this)!==t){Xh(Wp,this,t);for(const e of Yh(gp,this).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of Yh(mp,this).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return Yh(mp,this).get(t)}addEditor(t){Yh(mp,this).set(t.id,t)}removeEditor(t){var e,n;(t.div.contains(document.activeElement)&&(Yh(Lp,this)&&clearTimeout(Yh(Lp,this)),Xh(Lp,this,setTimeout(()=>{this.focusMainContainer(),Xh(Lp,this,null)},0))),Yh(mp,this).delete(t.id),t.annotationElementId)&&(null===(e=Yh(qp,this))||void 0===e||e.delete(t.annotationElementId));(this.unselect(t),t.annotationElementId&&Yh(Ap,this).has(t.annotationElementId))||(null===(n=Yh(bp,this))||void 0===n||n.remove(t.id))}addDeletedAnnotationElement(t){Yh(Ap,this).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return Yh(Ap,this).has(t)}removeDeletedAnnotationElement(t){Yh(Ap,this).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){Yh(pp,this)!==t&&(Xh(pp,this,t),t&&qh(lf,this,Sf).call(this,t.propertiesToUpdate))}updateUI(t){Gh(lf,this,Cf)===t&&qh(lf,this,Sf).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){qh(lf,this,Sf).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(Yh(Xp,this).has(t))return Yh(Xp,this).delete(t),t.unselect(),void qh(lf,this,kf).call(this,{hasSelectedEditor:this.hasSelection});Yh(Xp,this).add(t),t.select(),qh(lf,this,Sf).call(this,t.propertiesToUpdate),qh(lf,this,kf).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),null===(e=Yh(kp,this))||void 0===e||e.commitOrRemove();for(const n of Yh(Xp,this))n!==t&&n.unselect();Yh(Xp,this).clear(),Yh(Xp,this).add(t),t.select(),qh(lf,this,Sf).call(this,t.propertiesToUpdate),qh(lf,this,kf).call(this,{hasSelectedEditor:!0})}isSelected(t){return Yh(Xp,this).has(t)}get firstSelectedEditor(){return Yh(Xp,this).values().next().value}unselect(t){t.unselect(),Yh(Xp,this).delete(t),qh(lf,this,kf).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==Yh(Xp,this).size}get isEnterHandled(){return 1===Yh(Xp,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){var t;Yh(yp,this).undo(),qh(lf,this,kf).call(this,{hasSomethingToUndo:Yh(yp,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:qh(lf,this,Tf).call(this)}),null===(t=this._editorUndoBar)||void 0===t||t.hide()}redo(){Yh(yp,this).redo(),qh(lf,this,kf).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Yh(yp,this).hasSomethingToRedo(),isEmpty:qh(lf,this,Tf).call(this)})}addCommands(t){Yh(yp,this).add(t),qh(lf,this,kf).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:qh(lf,this,Tf).call(this)})}cleanUndoStack(t){Yh(yp,this).cleanType(t)}delete(){var t;this.commitOrRemove();const e=null===(t=this.currentLayer)||void 0===t?void 0:t.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...Yh(Xp,this)],i=()=>{for(const t of n)qh(lf,this,Ef).call(this,t)};this.addCommands({cmd:()=>{var t;null===(t=this._editorUndoBar)||void 0===t||t.show(i,1===n.length?n[0].editorType:n.length);for(const e of n)e.remove()},undo:i,mustExec:!0})}commitOrRemove(){var t;null===(t=Yh(pp,this))||void 0===t||t.commitOrRemove()}hasSomethingToControl(){return Yh(pp,this)||this.hasSelection}selectAll(){for(const t of Yh(Xp,this))t.commit();qh(lf,this,Pf).call(this,Yh(mp,this).values())}unselectAll(){var t;if((!Yh(pp,this)||(Yh(pp,this).commitOrRemove(),Yh(Yp,this)===cd.NONE))&&(null===(t=Yh(kp,this))||void 0===t||!t.commitOrRemove())&&this.hasSelection){for(const t of Yh(Xp,this))t.unselect();Yh(Xp,this).clear(),qh(lf,this,kf).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;Yh(ef,this)[0]+=t,Yh(ef,this)[1]+=e;const[n,i]=Yh(ef,this),a=[...Yh(Xp,this)];Yh(nf,this)&&clearTimeout(Yh(nf,this)),Xh(nf,this,setTimeout(()=>{Xh(nf,this,null),Yh(ef,this)[0]=Yh(ef,this)[1]=0,this.addCommands({cmd:()=>{for(const t of a)Yh(mp,this).has(t.id)&&(t.translateInPage(n,i),t.translationDone())},undo:()=>{for(const t of a)Yh(mp,this).has(t.id)&&(t.translateInPage(-n,-i),t.translationDone())},mustExec:!1})},1e3));for(const s of a)s.translateInPage(t,e),s.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Xh(Mp,this,new Map);for(const t of Yh(Xp,this))Yh(Mp,this).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Yh(Mp,this))return!1;this.disableUserSelect(!1);const t=Yh(Mp,this);Xh(Mp,this,null);let e=!1;for(const[{x:i,y:a,pageIndex:s},r]of t)r.newX=i,r.newY=a,r.newPageIndex=s,e||(e=i!==r.savedX||a!==r.savedY||s!==r.savedPageIndex);if(!e)return!1;const n=(t,e,n,i)=>{if(Yh(mp,this).has(t.id)){const a=Yh(gp,this).get(i);a?t._setParentAndPosition(a,e,n):(t.pageIndex=i,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:i,newY:a,newPageIndex:s}]of t)n(e,i,a,s)},undo:()=>{for(const[e,{savedX:i,savedY:a,savedPageIndex:s}]of t)n(e,i,a,s)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(Yh(Mp,this))for(const n of Yh(Mp,this).keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return(null===(t=this.getActive())||void 0===t?void 0:t.shouldGetKeyboardEvents())||1===Yh(Xp,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return Yh(pp,this)===t}getActive(){return Yh(pp,this)}getMode(){return Yh(Yp,this)}get imageManager(){return zd(this,"imageManager",new ep)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,c=e.rangeCount;l<c;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:a,height:s}=t.getBoundingClientRect();let r;switch(t.getAttribute("data-main-rotation")){case"90":r=(t,e,r,o)=>({x:(e-i)/s,y:1-(t+r-n)/a,width:o/s,height:r/a});break;case"180":r=(t,e,r,o)=>({x:1-(t+r-n)/a,y:1-(e+o-i)/s,width:r/a,height:o/s});break;case"270":r=(t,e,r,o)=>({x:1-(e+o-i)/s,y:(t-n)/a,width:o/s,height:r/a});break;default:r=(t,e,r,o)=>({x:(t-n)/a,y:(e-i)/s,width:r/a,height:o/s})}const o=[];for(let l=0,c=e.rangeCount;l<c;l++){const t=e.getRangeAt(l);if(!t.collapsed)for(const{x:e,y:n,width:i,height:a}of t.getClientRects())0!==i&&0!==a&&o.push(r(e,n,i,a))}return 0===o.length?null:o}addChangedExistingAnnotation(t){let{annotationElementId:e,id:n}=t;(Yh(xp,this)||Xh(xp,this,new Map)).set(e,n)}removeChangedExistingAnnotation(t){var e;let{annotationElementId:n}=t;null===(e=Yh(xp,this))||void 0===e||e.delete(n)}renderAnnotationElement(t){var e;const n=null===(e=Yh(xp,this))||void 0===e?void 0:e.get(t.data.id);if(!n)return;const i=Yh(bp,this).getRawValue(n);i&&(Yh(Yp,this)!==cd.NONE||i.hasBeenModified)&&i.renderAnnotationElement(t)}setMissingCanvas(t,e,n){var i;const a=null===(i=Yh(qp,this))||void 0===i?void 0:i.get(t);a&&(a.setCanvas(e,n),Yh(qp,this).delete(t))}addMissingCanvas(t,e){(Yh(qp,this)||Xh(qp,this,new Map)).set(t,e)}}function hf(t){let{anchorNode:e}=t;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}function df(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of Yh(gp,this).values())if(n.hasTextLayer(t))return n;return null}function uf(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=qh(lf,this,hf).call(this,t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&(Yh(Fp,this)||Xh(Fp,this,new Uu(this)),Yh(Fp,this).show(e,n,"ltr"===this.direction))}function pf(){var t;const e=document.getSelection();if(!e||e.isCollapsed){var n;if(Yh(Kp,this))null===(n=Yh(Fp,this))||void 0===n||n.hide(),Xh(Kp,this,null),qh(lf,this,kf).call(this,{hasSelectedText:!1});return}const{anchorNode:i}=e;if(i===Yh(Kp,this))return;const a=qh(lf,this,hf).call(this,e).closest(".textLayer");var s;if(a){if(null===(t=Yh(Fp,this))||void 0===t||t.hide(),Xh(Kp,this,i),qh(lf,this,kf).call(this,{hasSelectedText:!0}),(Yh(Yp,this)===cd.HIGHLIGHT||Yh(Yp,this)===cd.NONE)&&(Yh(Yp,this)===cd.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Xh(Ip,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const t=Yh(Yp,this)===cd.HIGHLIGHT?qh(lf,this,df).call(this,a):null;if(null===t||void 0===t||t.toggleDrawing(),Yh(Bp,this)){const e=new AbortController,n=this.combinedSignal(e),i=n=>{"pointerup"===n.type&&0!==n.button||(e.abort(),null===t||void 0===t||t.toggleDrawing(!0),"pointerup"===n.type&&qh(lf,this,ff).call(this,"main_toolbar"))};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})}else null===t||void 0===t||t.toggleDrawing(!0),qh(lf,this,ff).call(this,"main_toolbar")}}else Yh(Kp,this)&&(null===(s=Yh(Fp,this))||void 0===s||s.hide(),Xh(Kp,this,null),qh(lf,this,kf).call(this,{hasSelectedText:!1}))}function ff(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Yh(Yp,this)===cd.HIGHLIGHT?this.highlightSelection(t):Yh(Tp,this)&&qh(lf,this,uf).call(this)}function mf(){document.addEventListener("selectionchange",qh(lf,this,pf).bind(this),{signal:this._signal})}function gf(){if(Yh(Np,this))return;Xh(Np,this,new AbortController);const t=this.combinedSignal(Yh(Np,this));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}function vf(){var t;null===(t=Yh(Np,this))||void 0===t||t.abort(),Xh(Np,this,null)}function bf(){if(Yh(Hp,this))return;Xh(Hp,this,new AbortController);const t=this.combinedSignal(Yh(Hp,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}function xf(){var t;null===(t=Yh(Hp,this))||void 0===t||t.abort(),Xh(Hp,this,null)}function yf(){if(Yh(_p,this))return;Xh(_p,this,new AbortController);const t=this.combinedSignal(Yh(_p,this));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}function wf(){var t;null===(t=Yh(_p,this))||void 0===t||t.abort(),Xh(_p,this,null)}function _f(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}function kf(t){Object.entries(t).some(t=>{let[e,n]=t;return Yh(tf,this)[e]!==n})&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Yh(tf,this),t)}),Yh(Yp,this)===cd.HIGHLIGHT&&!1===t.hasSelectedEditor&&qh(lf,this,Sf).call(this,[[hd.HIGHLIGHT_FREE,!0]]))}function Sf(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}async function Af(){if(!Yh(zp,this)){Xh(zp,this,!0);const t=[];for(const e of Yh(gp,this).values())t.push(e.enable());await Promise.all(t);for(const e of Yh(mp,this).values())e.enable()}}function Mf(){if(this.unselectAll(),Yh(zp,this)){Xh(zp,this,!1);for(const t of Yh(gp,this).values())t.disable();for(const t of Yh(mp,this).values())t.disable()}}function Ef(t){const e=Yh(gp,this).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}function Cf(t){let e=null;for(e of Yh(Xp,t));return e}function Tf(){if(0===Yh(mp,this).size)return!0;if(1===Yh(mp,this).size)for(const t of Yh(mp,this).values())return t.isEmpty();return!1}function Pf(t){for(const e of Yh(Xp,this))e.unselect();Yh(Xp,this).clear();for(const e of t)e.isEmpty()||(Yh(Xp,this).add(e),e.select());qh(lf,this,kf).call(this,{hasSelectedEditor:this.hasSelection})}r(cf,"TRANSLATE_SMALL",1),r(cf,"TRANSLATE_BIG",10);var Df=new WeakMap,Rf=new WeakMap,Lf=new WeakMap,Nf=new WeakMap,Of=new WeakMap,If=new WeakMap,Ff=new WeakMap,jf=new WeakMap,zf=new WeakMap,Bf=new WeakMap,Wf=new WeakMap,Hf=new WeakMap,Vf=new WeakSet;class Uf{constructor(t){Vh(this,Vf),Uh(this,Df,null),Uh(this,Rf,!1),Uh(this,Lf,null),Uh(this,Nf,null),Uh(this,Of,null),Uh(this,If,null),Uh(this,Ff,!1),Uh(this,jf,null),Uh(this,zf,null),Uh(this,Bf,null),Uh(this,Wf,null),Uh(this,Hf,!1),Xh(zf,this,t),Xh(Hf,this,t._uiManager.useNewAltTextFlow),Yf._||(Yf._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){var e;null!==(e=Uf._l10n)&&void 0!==e||(Uf._l10n=t)}async render(){const t=Xh(Lf,this,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=Xh(Nf,this,document.createElement("span"));t.append(e),Yh(Hf,this)?(t.classList.add("new"),t.setAttribute("data-l10n-id",Yf._.missing),e.setAttribute("data-l10n-id",Yf._["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=Yh(zf,this)._uiManager._signal;t.addEventListener("contextmenu",mu,{signal:n}),t.addEventListener("pointerdown",t=>t.stopPropagation(),{signal:n});const i=t=>{t.preventDefault(),Yh(zf,this)._uiManager.editAltText(Yh(zf,this)),Yh(Hf,this)&&Yh(zf,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:Gh(Vf,this,qf)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",e=>{e.target===t&&"Enter"===e.key&&(Xh(Ff,this,!0),i(e))},{signal:n}),await qh(Vf,this,Gf).call(this),t}finish(){Yh(Lf,this)&&(Yh(Lf,this).focus({focusVisible:Yh(Ff,this)}),Xh(Ff,this,!1))}isEmpty(){return Yh(Hf,this)?null===Yh(Df,this):!Yh(Df,this)&&!Yh(Rf,this)}hasData(){return Yh(Hf,this)?null!==Yh(Df,this)||!!Yh(Bf,this):this.isEmpty()}get guessedText(){return Yh(Bf,this)}async setGuessedText(t){null===Yh(Df,this)&&(Xh(Bf,this,t),Xh(Wf,this,await Uf._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),qh(Vf,this,Gf).call(this))}toggleAltTextBadge(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;if(!Yh(Hf,this)||Yh(Df,this))return null===(e=Yh(jf,this))||void 0===e||e.remove(),void Xh(jf,this,null);if(!Yh(jf,this)){const t=Xh(jf,this,document.createElement("div"));t.className="noAltTextBadge",Yh(zf,this).div.append(t)}Yh(jf,this).classList.toggle("hidden",!t)}serialize(t){let e=Yh(Df,this);return t||Yh(Bf,this)!==e||(e=Yh(Wf,this)),{altText:e,decorative:Yh(Rf,this),guessedText:Yh(Bf,this),textWithDisclaimer:Yh(Wf,this)}}get data(){return{altText:Yh(Df,this),decorative:Yh(Rf,this)}}set data(t){let{altText:e,decorative:n,guessedText:i,textWithDisclaimer:a,cancel:s=!1}=t;i&&(Xh(Bf,this,i),Xh(Wf,this,a)),Yh(Df,this)===e&&Yh(Rf,this)===n||(s||(Xh(Df,this,e),Xh(Rf,this,n)),qh(Vf,this,Gf).call(this))}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Yh(Lf,this)&&(!t&&Yh(If,this)&&(clearTimeout(Yh(If,this)),Xh(If,this,null)),Yh(Lf,this).disabled=!t)}shown(){Yh(zf,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:Gh(Vf,this,qf)}})}destroy(){var t,e;null===(t=Yh(Lf,this))||void 0===t||t.remove(),Xh(Lf,this,null),Xh(Nf,this,null),Xh(Of,this,null),null===(e=Yh(jf,this))||void 0===e||e.remove(),Xh(jf,this,null)}}function qf(t){return(Yh(Df,t)?"added":null===Yh(Df,t)&&t.guessedText&&"review")||"missing"}async function Gf(){const t=Yh(Lf,this);if(!t)return;if(Yh(Hf,this)){var e,n;if(t.classList.toggle("done",!!Yh(Df,this)),t.setAttribute("data-l10n-id",Yf._[Gh(Vf,this,qf)]),null===(e=Yh(Nf,this))||void 0===e||e.setAttribute("data-l10n-id",Yf._["".concat(Gh(Vf,this,qf),"-label")]),!Yh(Df,this))return void(null===(n=Yh(Of,this))||void 0===n||n.remove())}else{var i;if(!Yh(Df,this)&&!Yh(Rf,this))return t.classList.remove("done"),void(null===(i=Yh(Of,this))||void 0===i||i.remove());t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let a=Yh(Of,this);if(!a){Xh(Of,this,a=document.createElement("span")),a.className="tooltip",a.setAttribute("role","tooltip"),a.id="alt-text-tooltip-".concat(Yh(zf,this).id);const e=100,n=Yh(zf,this)._uiManager._signal;n.addEventListener("abort",()=>{clearTimeout(Yh(If,this)),Xh(If,this,null)},{once:!0}),t.addEventListener("mouseenter",()=>{Xh(If,this,setTimeout(()=>{Xh(If,this,null),Yh(Of,this).classList.add("show"),Yh(zf,this)._reportTelemetry({action:"alt_text_tooltip"})},e))},{signal:n}),t.addEventListener("mouseleave",()=>{var t;Yh(If,this)&&(clearTimeout(Yh(If,this)),Xh(If,this,null)),null===(t=Yh(Of,this))||void 0===t||t.classList.remove("show")},{signal:n})}Yh(Rf,this)?a.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(a.removeAttribute("data-l10n-id"),a.textContent=Yh(Df,this)),a.parentNode||t.append(a);const s=Yh(zf,this).getElementForAltText();null===s||void 0===s||s.setAttribute("aria-describedby",a.id)}var Yf={_:null};r(Uf,"_l10n",null);var Xf=new WeakMap,Kf=new WeakMap,$f=new WeakMap,Qf=new WeakMap,Jf=new WeakMap,Zf=new WeakMap,tm=new WeakMap;class em{constructor(t){Uh(this,Xf,null),Uh(this,Kf,!1),Uh(this,$f,null),Uh(this,Qf,null),Uh(this,Jf,null),Uh(this,Zf,null),Uh(this,tm,!1),Xh($f,this,t),this.toolbar=null}render(){if(!Yh($f,this)._uiManager.hasCommentManager())return null;const t=Xh(Xf,this,document.createElement("button"));t.className="comment",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const e=Yh($f,this)._uiManager._signal;if(!(e instanceof AbortSignal)||e.aborted)return t;t.addEventListener("contextmenu",mu,{signal:e}),t.addEventListener("pointerdown",t=>t.stopPropagation(),{signal:e});const n=t=>{t.preventDefault(),this.edit()};return t.addEventListener("click",n,{capture:!0,signal:e}),t.addEventListener("keydown",e=>{e.target===t&&"Enter"===e.key&&(Xh(Kf,this,!0),n(e))},{signal:e}),t}edit(){const{bottom:t,left:e,right:n}=Yh($f,this).getClientDimensions(),i={top:t};"ltr"===Yh($f,this)._uiManager.direction?i.right=n:i.left=e,Yh($f,this)._uiManager.editComment(Yh($f,this),i)}finish(){Yh(Xf,this)&&(Yh(Xf,this).focus({focusVisible:Yh(Kf,this)}),Xh(Kf,this,!1))}isDeleted(){return Yh(tm,this)||""===Yh(Jf,this)}hasBeenEdited(){return this.isDeleted()||Yh(Jf,this)!==Yh(Qf,this)}serialize(){return this.data}get data(){return{text:Yh(Jf,this),date:Yh(Zf,this),deleted:Yh(tm,this)}}set data(t){if(null===t)return Xh(Jf,this,""),void Xh(tm,this,!0);Xh(Jf,this,t),Xh(Zf,this,new Date),Xh(tm,this,!1)}setInitialText(t){Xh(Qf,this,t),this.data=t}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Yh(Xf,this)&&(Yh(Xf,this).disabled=!t)}shown(){}destroy(){var t;null===(t=Yh(Xf,this))||void 0===t||t.remove(),Xh(Xf,this,null),Xh(Jf,this,""),Xh(Zf,this,null),Xh($f,this,null),Xh(Kf,this,!1),Xh(tm,this,!1)}}var nm=new WeakMap,im=new WeakMap,am=new WeakMap,sm=new WeakMap,rm=new WeakMap,om=new WeakMap,lm=new WeakMap,cm=new WeakMap,hm=new WeakMap,dm=new WeakMap,um=new WeakMap,pm=new WeakMap,fm=new WeakSet;class mm{constructor(t){let{container:e,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:s=null,onPinchEnd:r=null,signal:o}=t;Vh(this,fm),Uh(this,nm,void 0),Uh(this,im,!1),Uh(this,am,null),Uh(this,sm,void 0),Uh(this,rm,void 0),Uh(this,om,void 0),Uh(this,lm,void 0),Uh(this,cm,null),Uh(this,hm,void 0),Uh(this,dm,null),Uh(this,um,void 0),Uh(this,pm,null),Xh(nm,this,e),Xh(am,this,i),Xh(sm,this,n),Xh(rm,this,a),Xh(om,this,s),Xh(lm,this,r),Xh(um,this,new AbortController),Xh(hm,this,AbortSignal.any([o,Yh(um,this).signal])),e.addEventListener("touchstart",qh(fm,this,gm).bind(this),{passive:!1,signal:Yh(hm,this)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ku.pixelRatio}destroy(){var t,e;null===(t=Yh(um,this))||void 0===t||t.abort(),Xh(um,this,null),null===(e=Yh(cm,this))||void 0===e||e.abort(),Xh(cm,this,null)}}function gm(t){var e,n;if(null!==(e=Yh(sm,this))&&void 0!==e&&e.call(this))return;if(1===t.touches.length){if(Yh(cm,this))return;const t=Xh(cm,this,new AbortController),e=AbortSignal.any([Yh(hm,this),t.signal]),n=Yh(nm,this),i={capture:!0,signal:e,passive:!1},a=t=>{var e;"touch"===t.pointerType&&(null===(e=Yh(cm,this))||void 0===e||e.abort(),Xh(cm,this,null))};return n.addEventListener("pointerdown",t=>{"touch"===t.pointerType&&(gu(t),a(t))},i),n.addEventListener("pointerup",a,i),void n.addEventListener("pointercancel",a,i)}if(!Yh(pm,this)){var i;Xh(pm,this,new AbortController);const t=AbortSignal.any([Yh(hm,this),Yh(pm,this).signal]),e=Yh(nm,this),n={signal:t,capture:!1,passive:!1};e.addEventListener("touchmove",qh(fm,this,vm).bind(this),n);const a=qh(fm,this,bm).bind(this);e.addEventListener("touchend",a,n),e.addEventListener("touchcancel",a,n),n.capture=!0,e.addEventListener("pointerdown",gu,n),e.addEventListener("pointermove",gu,n),e.addEventListener("pointercancel",gu,n),e.addEventListener("pointerup",gu,n),null===(i=Yh(rm,this))||void 0===i||i.call(this)}if(gu(t),2!==t.touches.length||null!==(n=Yh(am,this))&&void 0!==n&&n.call(this))return void Xh(dm,this,null);let[a,s]=t.touches;a.identifier>s.identifier&&([a,s]=[s,a]),Xh(dm,this,{touch0X:a.screenX,touch0Y:a.screenY,touch1X:s.screenX,touch1Y:s.screenY})}function vm(t){var e;if(!Yh(dm,this)||2!==t.touches.length)return;gu(t);let[n,i]=t.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:a,screenY:s}=n,{screenX:r,screenY:o}=i,l=Yh(dm,this),{touch0X:c,touch0Y:h,touch1X:d,touch1Y:u}=l,p=d-c,f=u-h,m=r-a,g=o-s,v=Math.hypot(m,g)||1,b=Math.hypot(p,f)||1;if(!Yh(im,this)&&Math.abs(b-v)<=Eh.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=a,l.touch0Y=s,l.touch1X=r,l.touch1Y=o,!Yh(im,this))return void Xh(im,this,!0);const x=[(a+r)/2,(s+o)/2];null===(e=Yh(om,this))||void 0===e||e.call(this,x,b,v)}function bm(t){if(!(t.touches.length>=2)){var e;if(Yh(pm,this))Yh(pm,this).abort(),Xh(pm,this,null),null===(e=Yh(lm,this))||void 0===e||e.call(this);Yh(dm,this)&&(gu(t),Xh(dm,this,null),Xh(im,this,!1))}}Eh=mm;var xm=new WeakMap,ym=new WeakMap,wm=new WeakMap,_m=new WeakMap,km=new WeakMap,Sm=new WeakMap,Am=new WeakMap,Mm=new WeakMap,Em=new WeakMap,Cm=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,Dm=new WeakMap,Rm=new WeakMap,Lm=new WeakMap,Nm=new WeakMap,Om=new WeakMap,Im=new WeakMap,Fm=new WeakMap,jm=new WeakMap,zm=new WeakMap,Bm=new WeakMap,Wm=new WeakMap,Hm=new WeakMap,Vm=new WeakMap,Um=new WeakSet;class qm{static get _resizerKeyboardManager(){const t=qm.prototype._resizeWithKeyboard,e=cf.TRANSLATE_SMALL,n=cf.TRANSLATE_BIG;return zd(this,"_resizerKeyboardManager",new cp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],qm.prototype._stopResizingWithKeyboard]]))}constructor(t){Vh(this,Um),Uh(this,xm,null),Uh(this,ym,null),Uh(this,wm,null),Uh(this,_m,null),Uh(this,km,!1),Uh(this,Sm,null),Uh(this,Am,""),Uh(this,Mm,!1),Uh(this,Em,null),Uh(this,Cm,null),Uh(this,Tm,null),Uh(this,Pm,null),Uh(this,Dm,""),Uh(this,Rm,!1),Uh(this,Lm,null),Uh(this,Nm,!1),Uh(this,Om,!1),Uh(this,Im,!1),Uh(this,Fm,null),Uh(this,jm,0),Uh(this,zm,0),Uh(this,Bm,null),Uh(this,Wm,null),r(this,"isSelected",!1),r(this,"_isCopy",!1),r(this,"_editToolbar",null),r(this,"_initialOptions",Object.create(null)),r(this,"_initialData",null),r(this,"_isVisible",!0),r(this,"_uiManager",null),r(this,"_focusEventsAllowed",!0),Uh(this,Hm,!1),Uh(this,Vm,qm._zIndex++),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,s];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return zd(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new dg({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){var n;if(null!==(n=qm._l10n)&&void 0!==n||(qm._l10n=t),qm._l10nResizer||(qm._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==qm._borderLineWidth)return;const i=getComputedStyle(document.documentElement);qm._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Od("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Yh(Hm,this)}set _isDraggable(t){var e;Xh(Hm,this,t),null===(e=this.div)||void 0===e||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Yh(Vm,this)}setParent(t){null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):qh(Um,this,hg).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(Yh(Rm,this)?Xh(Rm,this,!1):this.parent.setSelected(this))}focusout(t){var e;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=t.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(t.preventDefault(),null!==(e=this.parent)&&void 0!==e&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[a,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/a,this.y=(e+i)/s,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i),this._onTranslated()}translate(t,e){qh(Um,this,Gm).call(this,this.parentDimensions,t,e)}translateInPage(t,e){Yh(Lm,this)||Xh(Lm,this,[this.x,this.y,this.width,this.height]),qh(Um,this,Gm).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){Yh(Lm,this)||Xh(Lm,this,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,a]}=this;if(this.x+=t/i,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:r}=this;const[o,l]=this.getBaseTranslation();s+=o,r+=l;const{style:c}=n;c.left="".concat((100*s).toFixed(2),"%"),c.top="".concat((100*r).toFixed(2),"%"),this._onTranslating(s,r),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!Yh(Lm,this)&&(Yh(Lm,this)[0]!==this.x||Yh(Lm,this)[1]!==this.y)}get _hasBeenResized(){return!!Yh(Lm,this)&&(Yh(Lm,this)[2]!==this.width||Yh(Lm,this)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=qm,i=n/t,a=n/e;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:e},pageDimensions:[n,i]}=this;let{x:a,y:s,width:r,height:o}=this;if(r*=n,o*=i,a*=n,s*=i,this._mustFixPosition)switch(t){case 0:a=au(a,0,n-r),s=au(s,0,i-o);break;case 90:a=au(a,0,n-o),s=au(s,r,i);break;case 180:a=au(a,r,n),s=au(s,o,i);break;case 270:a=au(a,o,n),s=au(s,0,i-r)}this.x=a/=n,this.y=s/=i;const[l,c]=this.getBaseTranslation();a+=l,s+=c,e.left="".concat((100*a).toFixed(2),"%"),e.top="".concat((100*s).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(t,e){return Ym.call(qm,t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Ym.call(qm,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,i]=this.parentDimensions,{style:a}=this.div;a.width="".concat((100*t/n).toFixed(2),"%"),Yh(Mm,this)||(a.height="".concat((100*e/i).toFixed(2),"%"))}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,i=n.endsWith("%"),a=!Yh(Mm,this)&&e.endsWith("%");if(i&&a)return;const[s,r]=this.parentDimensions;i||(t.width="".concat((100*parseFloat(n)/s).toFixed(2),"%")),Yh(Mm,this)||a||(t.height="".concat((100*parseFloat(e)/r).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(1e4*t)/1e4}_onResizing(){}altTextFinish(){var t;null===(t=Yh(wm,this))||void 0===t||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||Yh(Om,this))return this._editToolbar;this._editToolbar=new Lu(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(t=Yh(wm,this))||void 0===t||t.destroy())}addContainer(t){var e;const n=null===(e=this._editToolbar)||void 0===e?void 0:e.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return Yh(wm,this)||(Uf.initialize(qm._l10n),Xh(wm,this,new Uf(this)),Yh(xm,this)&&(Yh(wm,this).data=Yh(xm,this),Xh(xm,this,null))),Yh(wm,this)}get altTextData(){var t;return null===(t=Yh(wm,this))||void 0===t?void 0:t.data}set altTextData(t){Yh(wm,this)&&(Yh(wm,this).data=t)}get guessedAltText(){var t;return null===(t=Yh(wm,this))||void 0===t?void 0:t.guessedText}async setGuessedAltText(t){var e;await(null===(e=Yh(wm,this))||void 0===e?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return null===(e=Yh(wm,this))||void 0===e?void 0:e.serialize(t)}hasAltText(){return!!Yh(wm,this)&&!Yh(wm,this).isEmpty()}hasAltTextData(){var t,e;return null!==(t=null===(e=Yh(wm,this))||void 0===e?void 0:e.hasData())&&void 0!==t&&t}addCommentButton(){return Yh(_m,this)?Yh(_m,this):Xh(_m,this,new em(this))}get commentColor(){return null}get comment(){const t=Yh(_m,this);return{text:t.data.text,date:t.data.date,deleted:t.isDeleted(),color:this.commentColor}}set comment(t){Yh(_m,this)||Xh(_m,this,new em(this)),Yh(_m,this).data=t}setCommentData(t){Yh(_m,this)||Xh(_m,this,new em(this)),Yh(_m,this).setInitialText(t)}get hasEditedComment(){var t;return null===(t=Yh(_m,this))||void 0===t?void 0:t.hasBeenEdited()}async editComment(){Yh(_m,this)||Xh(_m,this,new em(this)),Yh(_m,this).edit()}addComment(t){if(this.hasEditedComment){const e=180,n=100,[,,,i]=t.rect,[a]=this.pageDimensions,[s]=this.pageTranslation,r=s+a+1,o=i-n,l=r+e;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[r,o,l,i]}}}render(){var t;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=Yh(km,this)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),qh(Um,this,sg).call(this);const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth="".concat((100*i/n).toFixed(2),"%"),e.style.maxHeight="".concat((100*n/i).toFixed(2),"%"));const[a,s]=this.getInitialTranslation();return this.translate(a,s),Xu(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(Yh(Wm,this)||Xh(Wm,this,new mm({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:qh(Um,this,tg).bind(this),onPinching:qh(Um,this,eg).bind(this),onPinchEnd:qh(Um,this,ng).bind(this),signal:this._uiManager._signal}))),null===(t=this._uiManager._editorUndoBar)||void 0===t||t.hide(),e}pointerdown(t){const{isMac:e}=Kd.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(Xh(Rm,this,!0),this._isDraggable?qh(Um,this,ag).call(this,t):qh(Um,this,ig).call(this,t))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){Yh(Fm,this)&&clearTimeout(Yh(Fm,this)),Xh(Fm,this,setTimeout(()=>{var t;Xh(Fm,this,null),null===(t=this.parent)||void 0===t||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[a,s]=this.pageDimensions,[r,o]=this.pageTranslation,l=t/i,c=e/i,h=this.x*a,d=this.y*s,u=this.width*a,p=this.height*s;switch(n){case 0:return[h+l+r,s-d-c-p+o,h+l+u+r,s-d-c+o];case 90:return[h+c+r,s-d+l+o,h+c+p+r,s-d+l+u+o];case 180:return[h-l-u+r,s-d+c+o,h-l+r,s-d+c+p+o];case 270:return[h-c-p+r,s-d-l-u+o,h-c+r,s-d-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,a,s]=t,r=a-n,o=s-i;switch(this.rotation){case 0:return[n,e-s,r,o];case 90:return[n,e-i,o,r];case 180:return[a,e-i,r,o];case 270:return[a,e-s,o,r];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),Xh(Om,this,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),Xh(Om,this,!1),!0)}isInEditMode(){return Yh(Om,this)}shouldGetKeyboardEvents(){return Yh(Im,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return e<s&&i>0&&t<a&&n>0}rebuild(){qh(Um,this,sg).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}serialize(){Od("An editor must be serializable")}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId});i.rotation=t.rotation,Xh(xm,i,t.accessibilityData),i._isCopy=t.isCopy||!1;const[a,s]=i.pageDimensions,[r,o,l,c]=i.getRectInCurrentCoords(t.rect,s);return i.x=r/a,i.y=o/s,i.width=l/a,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var t,e;if(null===(t=Yh(Pm,this))||void 0===t||t.abort(),Xh(Pm,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Yh(Fm,this)&&(clearTimeout(Yh(Fm,this)),Xh(Fm,this,null)),qh(Um,this,hg).call(this),this.removeEditToolbar(),Yh(Bm,this)){for(const t of Yh(Bm,this).values())clearTimeout(t);Xh(Bm,this,null)}this.parent=null,null===(e=Yh(Wm,this))||void 0===e||e.destroy(),Xh(Wm,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(qh(Um,this,Km).call(this),Yh(Em,this).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),Xh(Tm,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=Yh(Em,this).children;if(!Yh(ym,this)){Xh(ym,this,Array.from(e));const t=qh(Um,this,rg).bind(this),n=qh(Um,this,og).bind(this),i=this._uiManager._signal;for(const e of Yh(ym,this)){const a=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t,{signal:i}),e.addEventListener("blur",n,{signal:i}),e.addEventListener("focus",qh(Um,this,lg).bind(this,a),{signal:i}),e.setAttribute("data-l10n-id",qm._l10nResizer[a])}}const n=Yh(ym,this)[0];let i=0;for(const s of e){if(s===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(Yh(ym,this).length/4);if(a!==i){if(a<i)for(let e=0;e<i-a;e++)Yh(Em,this).append(Yh(Em,this).firstChild);else if(a>i)for(let e=0;e<a-i;e++)Yh(Em,this).firstChild.before(Yh(Em,this).lastChild);let t=0;for(const n of e){const e=Yh(ym,this)[t++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",qm._l10nResizer[e])}}qh(Um,this,cg).call(this,0),Xh(Im,this,!0),Yh(Em,this).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){Yh(Im,this)&&qh(Um,this,Zm).call(this,Yh(Dm,this),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){qh(Um,this,hg).call(this),this.div.focus()}select(){var t,e,n;this.isSelected&&this._editToolbar||(this.isSelected=!0,this.makeResizable(),null===(t=this.div)||void 0===t||t.classList.add("selectedEditor"),this._editToolbar?(null===(e=this._editToolbar)||void 0===e||e.show(),null===(n=Yh(wm,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{var t,e;null!==(t=this.div)&&void 0!==t&&t.classList.contains("selectedEditor")&&(null===(e=this._editToolbar)||void 0===e||e.show())}))}unselect(){var t,e,n,i,a;this.isSelected&&(this.isSelected=!1,null===(t=Yh(Em,this))||void 0===t||t.classList.add("hidden"),null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(i=this._editToolbar)||void 0===i||i.hide(),null===(a=Yh(wm,this))||void 0===a||a.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return Yh(Nm,this)}set isEditing(t){Xh(Nm,this,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){Xh(Mm,this,!0);const n=t/e,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){Yh(Bm,this)||Xh(Bm,this,new Map);const{action:e}=t;let n=Yh(Bm,this).get(e);return n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(t),Yh(Bm,this).delete(e),0===Yh(Bm,this).size&&Xh(Bm,this,null)},qm._telemetryTimeout),void Yh(Bm,this).set(e,n)}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),Xh(km,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),Xh(km,this,!0)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const t=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstChild:e}=t.container;"DIV"===(null===e||void 0===e?void 0:e.nodeName)&&e.classList.contains("annotationContent")&&e.remove()}}function Gm(t,e,n){let[i,a]=t;[e,n]=this.screenToPageTranslation(e,n),this.x+=e/i,this.y+=n/a,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function Ym(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}function Xm(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}function Km(){if(Yh(Em,this))return;Xh(Em,this,document.createElement("div")),Yh(Em,this).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const t=document.createElement("div");Yh(Em,this).append(t),t.classList.add("resizer",n),t.setAttribute("data-resizer-name",n),t.addEventListener("pointerdown",qh(Um,this,$m).bind(this,n),{signal:e}),t.addEventListener("contextmenu",mu,{signal:e}),t.tabIndex=-1}this.div.prepend(Yh(Em,this))}function $m(t,e){var n;e.preventDefault();const{isMac:i}=Kd.platform;if(0!==e.button||e.ctrlKey&&i)return;null===(n=Yh(wm,this))||void 0===n||n.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,Xh(Cm,this,[e.screenX,e.screenY]);const s=new AbortController,r=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",qh(Um,this,Zm).bind(this,t),{passive:!0,capture:!0,signal:r}),window.addEventListener("touchmove",gu,{passive:!1,signal:r}),window.addEventListener("contextmenu",mu,{signal:r}),Xh(Tm,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{var t;s.abort(),this.parent.togglePointerEvents(!0),null===(t=Yh(wm,this))||void 0===t||t.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=o,this.div.style.cursor=l,qh(Um,this,Jm).call(this)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})}function Qm(t,e,n,i){this.width=n,this.height=i,this.x=t,this.y=e;const[a,s]=this.parentDimensions;this.setDims(a*n,s*i),this.fixAndSetPosition(),this._onResized()}function Jm(){if(!Yh(Tm,this))return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=Yh(Tm,this);Xh(Tm,this,null);const a=this.x,s=this.y,r=this.width,o=this.height;a===t&&s===e&&r===n&&o===i||this.addCommands({cmd:qh(Um,this,Qm).bind(this,a,s,r,o),undo:qh(Um,this,Qm).bind(this,t,e,n,i),mustExec:!0})}function Zm(t,e){const[n,i]=this.parentDimensions,a=this.x,s=this.y,r=this.width,o=this.height,l=Ch.MIN_SIZE/n,c=Ch.MIN_SIZE/i,h=qh(Um,this,Xm).call(this,this.rotation),d=(t,e)=>[h[0]*t+h[2]*e,h[1]*t+h[3]*e],u=qh(Um,this,Xm).call(this,360-this.rotation);let p,f,m=!1,g=!1;switch(t){case"topLeft":m=!0,p=(t,e)=>[0,0],f=(t,e)=>[t,e];break;case"topMiddle":p=(t,e)=>[t/2,0],f=(t,e)=>[t/2,e];break;case"topRight":m=!0,p=(t,e)=>[t,0],f=(t,e)=>[0,e];break;case"middleRight":g=!0,p=(t,e)=>[t,e/2],f=(t,e)=>[0,e/2];break;case"bottomRight":m=!0,p=(t,e)=>[t,e],f=(t,e)=>[0,0];break;case"bottomMiddle":p=(t,e)=>[t/2,e],f=(t,e)=>[t/2,0];break;case"bottomLeft":m=!0,p=(t,e)=>[0,e],f=(t,e)=>[t,0];break;case"middleLeft":g=!0,p=(t,e)=>[0,e/2],f=(t,e)=>[t,e/2]}const v=p(r,o),b=f(r,o);let x=d(...b);const y=Ch._round(a+x[0]),w=Ch._round(s+x[1]);let _,k,S=1,A=1;if(e.fromKeyboard)({deltaX:_,deltaY:k}=e);else{const{screenX:t,screenY:n}=e,[i,a]=Yh(Cm,this);[_,k]=this.screenToPageTranslation(t-i,n-a),Yh(Cm,this)[0]=t,Yh(Cm,this)[1]=n}var M,E;if([_,k]=(M=_/n,E=k/i,[u[0]*M+u[2]*E,u[1]*M+u[3]*E]),m){const t=Math.hypot(r,o);S=A=Math.max(Math.min(Math.hypot(b[0]-v[0]-_,b[1]-v[1]-k)/t,1/r,1/o),l/r,c/o)}else g?S=au(Math.abs(b[0]-v[0]-_),l,1)/r:A=au(Math.abs(b[1]-v[1]-k),c,1)/o;const C=Ch._round(r*S),T=Ch._round(o*A);x=d(...f(C,T));const P=y-x[0],D=w-x[1];Yh(Lm,this)||Xh(Lm,this,[this.x,this.y,this.width,this.height]),this.width=C,this.height=T,this.x=P,this.y=D,this.setDims(n*C,i*T),this.fixAndSetPosition(),this._onResizing()}function tg(){var t;Xh(Tm,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(t=Yh(wm,this))||void 0===t||t.toggle(!1),this.parent.togglePointerEvents(!1)}function eg(t,e,n){let i=n/e*.7+1-.7;if(1===i)return;const a=qh(Um,this,Xm).call(this,this.rotation),s=(t,e)=>[a[0]*t+a[2]*e,a[1]*t+a[3]*e],[r,o]=this.parentDimensions,l=this.x,c=this.y,h=this.width,d=this.height,u=Ch.MIN_SIZE/r,p=Ch.MIN_SIZE/o;i=Math.max(Math.min(i,1/h,1/d),u/h,p/d);const f=Ch._round(h*i),m=Ch._round(d*i);if(f===h&&m===d)return;Yh(Lm,this)||Xh(Lm,this,[l,c,h,d]);const g=s(h/2,d/2),v=Ch._round(l+g[0]),b=Ch._round(c+g[1]),x=s(f/2,m/2);this.x=v-x[0],this.y=b-x[1],this.width=f,this.height=m,this.setDims(r*f,o*m),this.fixAndSetPosition(),this._onResizing()}function ng(){var t;null===(t=Yh(wm,this))||void 0===t||t.toggle(!0),this.parent.togglePointerEvents(!0),qh(Um,this,Jm).call(this)}function ig(t){const{isMac:e}=Kd.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}function ag(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},r=t=>{i.abort(),Xh(Sm,this,null),Xh(Rm,this,!1),this._uiManager.endDragSession()||qh(Um,this,ig).call(this,t),n&&this._onStopDragging()};e&&(Xh(jm,this,t.clientX),Xh(zm,this,t.clientY),Xh(Sm,this,t.pointerId),Xh(Am,this,t.pointerType),window.addEventListener("pointermove",t=>{n||(n=!0,this._onStartDragging());const{clientX:e,clientY:i,pointerId:a}=t;if(a!==Yh(Sm,this))return void gu(t);const[s,r]=this.screenToPageTranslation(e-Yh(jm,this),i-Yh(zm,this));Xh(jm,this,e),Xh(zm,this,i),this._uiManager.dragSelectedEditors(s,r)},s),window.addEventListener("touchmove",gu,s),window.addEventListener("pointerdown",t=>{t.pointerType===Yh(Am,this)&&(Yh(Wm,this)||t.isPrimary)&&r(t),gu(t)},s));const o=t=>{Yh(Sm,this)&&Yh(Sm,this)!==t.pointerId?gu(t):r(t)};window.addEventListener("pointerup",o,{signal:a}),window.addEventListener("blur",o,{signal:a})}function sg(){if(Yh(Pm,this)||!this.div)return;Xh(Pm,this,new AbortController);const t=this._uiManager.combinedSignal(Yh(Pm,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}function rg(t){Ch._resizerKeyboardManager.exec(this,t)}function og(t){var e;Yh(Im,this)&&(null===(e=t.relatedTarget)||void 0===e?void 0:e.parentNode)!==Yh(Em,this)&&qh(Um,this,hg).call(this)}function lg(t){Xh(Dm,this,Yh(Im,this)?t:"")}function cg(t){if(Yh(ym,this))for(const e of Yh(ym,this))e.tabIndex=t}function hg(){Xh(Im,this,!1),qh(Um,this,cg).call(this,-1),qh(Um,this,Jm).call(this)}Ch=qm,r(qm,"_l10n",null),r(qm,"_l10nResizer",null),r(qm,"_borderLineWidth",-1),r(qm,"_colorManager",new dp),r(qm,"_zIndex",1),r(qm,"_telemetryTimeout",1e3);class dg extends qm{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const ug=3285377520,pg=4294901760,fg=65535;class mg{constructor(t){this.h1=t?4294967295&t:ug,this.h2=t?4294967295&t:ug}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let i=0,a=t.length;i<a;i++){const a=t.charCodeAt(i);a<=255?e[n++]=a:(e[n++]=a>>>8,e[n++]=255&a)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),n=e.byteLength}const i=n>>2,a=n-4*i,s=new Uint32Array(e.buffer,0,i);let r=0,o=0,l=this.h1,c=this.h2;const h=3432918353,d=461845907,u=11601,p=13715;for(let f=0;f<i;f++)1&f?(r=s[f],r=r*h&pg|r*u&fg,r=r<<15|r>>>17,r=r*d&pg|r*p&fg,l^=r,l=l<<13|l>>>19,l=5*l+3864292196):(o=s[f],o=o*h&pg|o*u&fg,o=o<<15|o>>>17,o=o*d&pg|o*p&fg,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(r=0,a){case 3:r^=e[4*i+2]<<16;case 2:r^=e[4*i+1]<<8;case 1:r^=e[4*i],r=r*h&pg|r*u&fg,r=r<<15|r>>>17,r=r*d&pg|r*p&fg,1&i?l^=r:c^=r}this.h1=l,this.h2=c}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&pg|36045*t&fg,e=4283543511*e&pg|(2950163797*(e<<16|t>>>16)&pg)>>>16,t^=e>>>1,t=444984403*t&pg|60499*t&fg,e=3301882366*e&pg|(3120437893*(e<<16|t>>>16)&pg)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const gg=Object.freeze({map:null,hash:"",transfer:void 0});var vg=new WeakMap,bg=new WeakMap,xg=new WeakMap,yg=new WeakSet;class wg{constructor(){Vh(this,yg),Uh(this,vg,!1),Uh(this,bg,null),Uh(this,xg,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=Yh(xg,this).get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return Yh(xg,this).get(t)}remove(t){if(Yh(xg,this).delete(t),0===Yh(xg,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const t of Yh(xg,this).values())if(t instanceof qm)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=Yh(xg,this).get(t);let i=!1;if(void 0!==n)for(const[a,s]of Object.entries(e))n[a]!==s&&(i=!0,n[a]=s);else i=!0,Yh(xg,this).set(t,e);i&&qh(yg,this,_g).call(this),e instanceof qm&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(t){return Yh(xg,this).has(t)}get size(){return Yh(xg,this).size}resetModified(){Yh(vg,this)&&(Xh(vg,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new Sg(this)}get serializable(){if(0===Yh(xg,this).size)return gg;const t=new Map,e=new mg,n=[],i=Object.create(null);let a=!1;for(const[s,r]of Yh(xg,this)){const n=r instanceof qm?r.serialize(!1,i):r;n&&(t.set(s,n),e.update("".concat(s,":").concat(JSON.stringify(n))),a||(a=!!n.bitmap))}if(a)for(const s of t.values())s.bitmap&&n.push(s.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:gg}get editorStats(){let t=null;const e=new Map;for(const a of Yh(xg,this).values()){var n;if(!(a instanceof qm))continue;const s=a.telemetryFinalData;if(!s)continue;const{type:r}=s;e.has(r)||e.set(r,Object.getPrototypeOf(a).constructor),t||(t=Object.create(null));const o=(n=t)[r]||(n[r]=new Map);for(const[t,e]of Object.entries(s)){var i;if("type"===t)continue;let n=o.get(t);n||(n=new Map,o.set(t,n));const a=null!==(i=n.get(e))&&void 0!==i?i:0;n.set(e,a+1)}}for(const[a,s]of e)t[a]=s.computeTelemetryFinalData(t[a]);return t}resetModifiedIds(){Xh(bg,this,null)}get modifiedIds(){if(Yh(bg,this))return Yh(bg,this);const t=[];for(const e of Yh(xg,this).values())e instanceof qm&&e.annotationElementId&&e.serialize()&&t.push(e.annotationElementId);return Xh(bg,this,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return Yh(xg,this).entries()}}function _g(){Yh(vg,this)||(Xh(vg,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var kg=new WeakMap;class Sg extends wg{constructor(t){super(),Uh(this,kg,void 0);const{map:e,hash:n,transfer:i}=t.serializable,a=structuredClone(e,i?{transfer:i}:null);Xh(kg,this,{map:a,hash:n,transfer:i})}get print(){Od("Should not call PrintAnnotationStorage.print")}get serializable(){return Yh(kg,this)}get modifiedIds(){return zd(this,"modifiedIds",{ids:new Set,hash:""})}}var Ag=new WeakMap;class Mg{constructor(t){let{ownerDocument:e=globalThis.document,styleElement:n=null}=t;Uh(this,Ag,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),Yh(Ag,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){let{systemFontInfo:e,disableFontFace:n,_inspectFont:i}=t;if(e&&!Yh(Ag,this).has(e.loadedName)){if(Id(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:n,style:s}=e,r=new FontFace(t,n,s);this.addNativeFontFace(r);try{await r.load(),Yh(Ag,this).add(t),null===i||void 0===i||i(e)}catch(a){Nd("Cannot load system font: ".concat(e.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(r)}return}Od("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw Nd("Failed to load font '".concat(e.family,"': '").concat(n,"'.")),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)})}}get isFontLoadingAPISupported(){var t;return zd(this,"isFontLoadingAPISupported",!(null===(t=this._document)||void 0===t||!t.fonts))}get isSyncFontLoadingSupported(){return zd(this,"isSyncFontLoadingSupported",$h||Kd.platform.isFirefox)}_queueLoadingCallback(t){const{loadingRequests:e}=this,n={done:!1,complete:function(){for(Id(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){const t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}get _loadTestFont(){return zd(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)}let a,s;const r=this._document.createElement("canvas");r.width=1,r.height=1;const o=r.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let h=this._loadTestFont;h=i(h,976,c.length,c);const d=1482184792;let u=n(h,16);for(a=0,s=c.length-3;a<s;a+=4)u=u-d+n(c,a)|0;var p;a<c.length&&(u=u-d+n(c+"XXX",a)|0),h=i(h,16,4,(p=u,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f="url(data:font/opentype;base64,".concat(btoa(h),");"),m='@font-face {font-family:"'.concat(c,'";src:').concat(f,"}");this.insertRule(m);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const v of[t.loadedName,c]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=v,g.append(t)}this._document.body.append(g),function t(e,n){if(++l>30)return Nd("Load test font never loaded."),void n();o.font="30px "+e,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(c,()=>{g.remove(),e.complete()})}}class Eg{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return null===(t=this._inspectFont)||void 0===t||t.call(this,this),e}createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;const e="url(data:".concat(this.mimetype,";base64,").concat(su(this.data),");");let n;if(this.cssFontInfo){let t="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(t+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(t,"src:").concat(e,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(e,"}");return null===(t=this._inspectFont)||void 0===t||t.call(this,this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let i;try{i=t.get(n)}catch(s){Nd('getPathGenerator - ignoring character: "'.concat(s,'".'))}const a=new Path2D(i||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=a}}function Cg(t){if("string"!==typeof t)return null;if(t.endsWith("/"))return t;throw new Error('Invalid factory url: "'.concat(t,'" must include trailing slash.'))}const Tg=t=>"object"===typeof t&&Number.isInteger(null===t||void 0===t?void 0:t.num)&&t.num>=0&&Number.isInteger(null===t||void 0===t?void 0:t.gen)&&t.gen>=0,Pg=function(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,a,...s]=n;if(!t(i)&&!Number.isInteger(i))return!1;if(!e(a))return!1;const r=s.length;let o=!0;switch(a.name){case"XYZ":if(r<2||r>3)return!1;break;case"Fit":case"FitB":return 0===r;case"FitH":case"FitBH":case"FitV":case"FitBV":if(r>1)return!1;break;case"FitR":if(4!==r)return!1;o=!1;break;default:return!1}for(const l of s)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,Tg,t=>"object"===typeof t&&"string"===typeof(null===t||void 0===t?void 0:t.name));var Dg=new WeakMap,Rg=new WeakMap;class Lg{constructor(){Uh(this,Dg,new Map),Uh(this,Rg,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};Yh(Rg,this).then(()=>{for(const[t]of Yh(Dg,this))t.call(this,n)})}addEventListener(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted)return void Nd("LoopbackPort - cannot use an `aborted` signal.");const s=()=>this.removeEventListener(t,e);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}Yh(Dg,this).set(e,i)}removeEventListener(t,e){const n=Yh(Dg,this).get(e);null===n||void 0===n||n(),Yh(Dg,this).delete(e)}terminate(){for(const[,t]of Yh(Dg,this))null===t||void 0===t||t();Yh(Dg,this).clear()}}const Ng=1,Og=2,Ig=1,Fg=2,jg=3,zg=4,Bg=5,Wg=6,Hg=7,Vg=8;function Ug(){}function qg(t){if(t instanceof Gd||t instanceof Vd||t instanceof Wd||t instanceof Ud||t instanceof Hd)return t;switch(t instanceof Error||"object"===typeof t&&null!==t||Od('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Gd(t.message);case"InvalidPDFException":return new Vd(t.message);case"PasswordException":return new Wd(t.message,t.code);case"ResponseException":return new Ud(t.message,t.status,t.missing);case"UnknownErrorException":return new Hd(t.message,t.details)}return new Hd(t.message,t.toString())}var Gg=new WeakMap,Yg=new WeakSet;class Xg{constructor(t,e,n){Vh(this,Yg),Uh(this,Gg,new AbortController),this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",qh(Yg,this,Kg).bind(this),{signal:Yh(Gg,this).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(s){a.reject(s)}return a.promise}sendWithStream(t,e,n,i){const a=this.streamId++,s=this.sourceName,r=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[a]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:s,targetName:r,action:t,streamId:a,data:e,desiredSize:n.desiredSize},i),l.promise},pull:t=>{const e=Promise.withResolvers();return this.streamControllers[a].pullCall=e,o.postMessage({sourceName:s,targetName:r,stream:Wg,streamId:a,desiredSize:t.desiredSize}),e.promise},cancel:t=>{Id(t instanceof Error,"cancel must have a valid reason");const e=Promise.withResolvers();return this.streamControllers[a].cancelCall=e,this.streamControllers[a].isClosed=!0,o.postMessage({sourceName:s,targetName:r,stream:Ig,streamId:a,reason:qg(t)}),e.promise}},n)}destroy(){var t;null===(t=Yh(Gg,this))||void 0===t||t.abort(),Xh(Gg,this,null)}}function Kg(t){let{data:e}=t;if(e.targetName!==this.sourceName)return;if(e.stream)return void qh(Yg,this,Qg).call(this,e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error("Cannot resolve callback ".concat(t));if(delete this.callbackCapabilities[t],e.callback===Ng)n.resolve(e.data);else{if(e.callback!==Og)throw new Error("Unexpected callback case");n.reject(qg(e.reason))}return}const n=this.actionHandler[e.action];if(!n)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){const t=this.sourceName,i=e.sourceName,a=this.comObj;return void Promise.try(n,e.data).then(function(n){a.postMessage({sourceName:t,targetName:i,callback:Ng,callbackId:e.callbackId,data:n})},function(n){a.postMessage({sourceName:t,targetName:i,callback:Og,callbackId:e.callbackId,reason:qg(n)})})}e.streamId?qh(Yg,this,$g).call(this,e):n(e.data)}function $g(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,a=this.comObj,s=this,r=this.actionHandler[t.action],o={enqueue(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=s,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:zg,streamId:e,chunk:t},r)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:jg,streamId:e}),delete s.streamSinks[e])},error(t){Id(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:Bg,streamId:e,reason:qg(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[e]=o,Promise.try(r,t.data,o).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Vg,streamId:e,success:!0})},function(t){a.postMessage({sourceName:n,targetName:i,stream:Vg,streamId:e,reason:qg(t)})})}function Qg(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,a=this.comObj,s=this.streamControllers[e],r=this.streamSinks[e];switch(t.stream){case Vg:t.success?s.startCall.resolve():s.startCall.reject(qg(t.reason));break;case Hg:t.success?s.pullCall.resolve():s.pullCall.reject(qg(t.reason));break;case Wg:if(!r){a.postMessage({sourceName:n,targetName:i,stream:Hg,streamId:e,success:!0});break}r.desiredSize<=0&&t.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=t.desiredSize,Promise.try(r.onPull||Ug).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Hg,streamId:e,success:!0})},function(t){a.postMessage({sourceName:n,targetName:i,stream:Hg,streamId:e,reason:qg(t)})});break;case zg:if(Id(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(t.chunk);break;case jg:if(Id(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),qh(Yg,this,Jg).call(this,s,e);break;case Bg:Id(s,"error should have stream controller"),s.controller.error(qg(t.reason)),qh(Yg,this,Jg).call(this,s,e);break;case Fg:t.success?s.cancelCall.resolve():s.cancelCall.reject(qg(t.reason)),qh(Yg,this,Jg).call(this,s,e);break;case Ig:if(!r)break;const o=qg(t.reason);Promise.try(r.onCancel||Ug,o).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Fg,streamId:e,success:!0})},function(t){a.postMessage({sourceName:n,targetName:i,stream:Fg,streamId:e,reason:qg(t)})}),r.sinkCapability.reject(o),r.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async function Jg(t,e){var n,i,a;await Promise.allSettled([null===(n=t.startCall)||void 0===n?void 0:n.promise,null===(i=t.pullCall)||void 0===i?void 0:i.promise,null===(a=t.cancelCall)||void 0===a?void 0:a.promise]),delete this.streamControllers[e]}var Zg=new WeakMap;class tv{constructor(t){let{enableHWA:e=!1}=t;Uh(this,Zg,!1),Xh(Zg,this,e)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!Yh(Zg,this)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Od("Abstract method `_createCanvas` called.")}}class ev extends tv{constructor(t){let{ownerDocument:e=globalThis.document,enableHWA:n=!1}=t;super({enableHWA:n}),this._document=e}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class nv{constructor(t){let{baseUrl:e=null,isCompressed:n=!0}=t;this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(t=>({cMapData:t,isCompressed:this.isCompressed})).catch(t=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))})}async _fetch(t){Od("Abstract method `_fetch` called.")}}class iv extends nv{async _fetch(t){const e=await lu(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Xd(e)}}class av{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,a){return"none"}destroy(){}}var sv=new WeakMap,rv=new WeakMap,ov=new WeakMap,lv=new WeakMap,cv=new WeakMap,hv=new WeakMap,dv=new WeakMap,uv=new WeakSet;class pv extends av{constructor(t){let{docId:e,ownerDocument:n=globalThis.document}=t;super(),Vh(this,uv),Uh(this,sv,void 0),Uh(this,rv,void 0),Uh(this,ov,void 0),Uh(this,lv,void 0),Uh(this,cv,void 0),Uh(this,hv,void 0),Uh(this,dv,0),Xh(lv,this,e),Xh(cv,this,n)}addFilter(t){var e,n;if(!t)return"none";let i=Gh(uv,this,fv).get(t);if(i)return i;const[a,s,r]=qh(uv,this,vv).call(this,t),o=1===t.length?a:"".concat(a).concat(s).concat(r);if(i=Gh(uv,this,fv).get(o),i)return Gh(uv,this,fv).set(t,i),i;const l="g_".concat(Yh(lv,this),"_transfer_map_").concat((Xh(dv,this,(e=Yh(dv,this),n=e++,e)),n)),c=qh(uv,this,bv).call(this,l);Gh(uv,this,fv).set(t,c),Gh(uv,this,fv).set(o,c);const h=qh(uv,this,wv).call(this,l);return qh(uv,this,kv).call(this,a,s,r,h),c}addHCMFilter(t,e){var n;const i="".concat(t,"-").concat(e),a="base";let s=Gh(uv,this,mv).get(a);if((null===(n=s)||void 0===n?void 0:n.key)===i)return s.url;var r;s?(null===(r=s.filter)||void 0===r||r.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},Gh(uv,this,mv).set(a,s));if(!t||!e)return s.url;const o=qh(uv,this,Av).call(this,t);t=Qd.makeHexColor(...o);const l=qh(uv,this,Av).call(this,e);if(e=Qd.makeHexColor(...l),Gh(uv,this,gv).style.color="","#000000"===t&&"#ffffff"===e||t===e)return s.url;const c=new Array(256);for(let f=0;f<=255;f++){const t=f/255;c[f]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const h=c.join(","),d="g_".concat(Yh(lv,this),"_hcm_filter"),u=s.filter=qh(uv,this,wv).call(this,d);qh(uv,this,kv).call(this,h,h,h,u),qh(uv,this,yv).call(this,u);const p=(t,e)=>{const n=o[t]/255,i=l[t]/255,a=new Array(e+1);for(let s=0;s<=e;s++)a[s]=n+s/e*(i-n);return a.join(",")};return qh(uv,this,kv).call(this,p(0,5),p(1,5),p(2,5),u),s.url=qh(uv,this,bv).call(this,d),s.url}addAlphaFilter(t){var e,n;let i=Gh(uv,this,fv).get(t);if(i)return i;const[a]=qh(uv,this,vv).call(this,[t]),s="alpha_".concat(a);if(i=Gh(uv,this,fv).get(s),i)return Gh(uv,this,fv).set(t,i),i;const r="g_".concat(Yh(lv,this),"_alpha_map_").concat((Xh(dv,this,(e=Yh(dv,this),n=e++,e)),n)),o=qh(uv,this,bv).call(this,r);Gh(uv,this,fv).set(t,o),Gh(uv,this,fv).set(s,o);const l=qh(uv,this,wv).call(this,r);return qh(uv,this,Sv).call(this,a,l),o}addLuminosityFilter(t){var e,n;let i,a,s=Gh(uv,this,fv).get(t||"luminosity");if(s)return s;if(t?([i]=qh(uv,this,vv).call(this,[t]),a="luminosity_".concat(i)):a="luminosity",s=Gh(uv,this,fv).get(a),s)return Gh(uv,this,fv).set(t,s),s;const r="g_".concat(Yh(lv,this),"_luminosity_map_").concat((Xh(dv,this,(e=Yh(dv,this),n=e++,e)),n)),o=qh(uv,this,bv).call(this,r);Gh(uv,this,fv).set(t,o),Gh(uv,this,fv).set(a,o);const l=qh(uv,this,wv).call(this,r);return qh(uv,this,xv).call(this,l),t&&qh(uv,this,Sv).call(this,i,l),o}addHighlightHCMFilter(t,e,n,i,a){var s;const r="".concat(e,"-").concat(n,"-").concat(i,"-").concat(a);let o=Gh(uv,this,mv).get(t);if((null===(s=o)||void 0===s?void 0:s.key)===r)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},Gh(uv,this,mv).set(t,o));if(!e||!n)return o.url;const[c,h]=[e,n].map(qh(uv,this,Av).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),u=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,f]=[i,a].map(qh(uv,this,Av).bind(this));u<d&&([d,u,p,f]=[u,d,f,p]),Gh(uv,this,gv).style.color="";const m=(t,e,n)=>{const i=new Array(256),a=(u-d)/n,s=t/255,r=(e-t)/(255*n);let o=0;for(let l=0;l<=n;l++){const t=Math.round(d+l*a),e=s+l*r;for(let n=o;n<=t;n++)i[n]=e;o=t+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},g="g_".concat(Yh(lv,this),"_hcm_").concat(t,"_filter"),v=o.filter=qh(uv,this,wv).call(this,g);return qh(uv,this,yv).call(this,v),qh(uv,this,kv).call(this,m(p[0],f[0],5),m(p[1],f[1],5),m(p[2],f[2],5),v),o.url=qh(uv,this,bv).call(this,g),o.url}destroy(){var t,e,n,i;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(t=Yh(hv,this))&&void 0!==t&&t.size||(null===(e=Yh(ov,this))||void 0===e||e.parentNode.parentNode.remove(),Xh(ov,this,null),null===(n=Yh(rv,this))||void 0===n||n.clear(),Xh(rv,this,null),null===(i=Yh(hv,this))||void 0===i||i.clear(),Xh(hv,this,null),Xh(dv,this,0))}}function fv(t){return Yh(rv,t)||Xh(rv,t,new Map)}function mv(t){return Yh(hv,t)||Xh(hv,t,new Map)}function gv(t){if(!Yh(ov,t)){const e=Yh(cv,t).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=Yh(cv,t).createElementNS(ru,"svg");i.setAttribute("width",0),i.setAttribute("height",0),Xh(ov,t,Yh(cv,t).createElementNS(ru,"defs")),e.append(i),i.append(Yh(ov,t)),Yh(cv,t).body.append(e)}return Yh(ov,t)}function vv(t){if(1===t.length){const e=t[0],n=new Array(256);for(let t=0;t<256;t++)n[t]=e[t]/255;const i=n.join(",");return[i,i,i]}const[e,n,i]=t,a=new Array(256),s=new Array(256),r=new Array(256);for(let o=0;o<256;o++)a[o]=e[o]/255,s[o]=n[o]/255,r[o]=i[o]/255;return[a.join(","),s.join(","),r.join(",")]}function bv(t){if(void 0===Yh(sv,this)){Xh(sv,this,"");const t=Yh(cv,this).URL;t!==Yh(cv,this).baseURI&&(du(t)?Nd('#createUrl: ignore "data:"-URL for performance reasons.'):Xh(sv,this,jd(t,"")))}return"url(".concat(Yh(sv,this),"#").concat(t,")")}function xv(t){const e=Yh(cv,this).createElementNS(ru,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}function yv(t){const e=Yh(cv,this).createElementNS(ru,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}function wv(t){const e=Yh(cv,this).createElementNS(ru,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),Gh(uv,this,gv).append(e),e}function _v(t,e,n){const i=Yh(cv,this).createElementNS(ru,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),t.append(i)}function kv(t,e,n,i){const a=Yh(cv,this).createElementNS(ru,"feComponentTransfer");i.append(a),qh(uv,this,_v).call(this,a,"feFuncR",t),qh(uv,this,_v).call(this,a,"feFuncG",e),qh(uv,this,_v).call(this,a,"feFuncB",n)}function Sv(t,e){const n=Yh(cv,this).createElementNS(ru,"feComponentTransfer");e.append(n),qh(uv,this,_v).call(this,n,"feFuncA",t)}function Av(t){return Gh(uv,this,gv).style.color=t,xu(getComputedStyle(Gh(uv,this,gv)).getPropertyValue("color"))}class Mv{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch(t=>{throw new Error("Unable to load font data at: ".concat(n))})}async _fetch(t){Od("Abstract method `_fetch` called.")}}class Ev extends Mv{async _fetch(t){const e=await lu(t,"arraybuffer");return new Uint8Array(e)}}class Cv{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch(t=>{throw new Error("Unable to load wasm data at: ".concat(n))})}async _fetch(t){Od("Abstract method `_fetch` called.")}}class Tv extends Cv{async _fetch(t){const e=await lu(t,"arraybuffer");return new Uint8Array(e)}}async function Pv(t){const e=process.getBuiltinModule("fs"),n=await e.promises.readFile(t);return new Uint8Array(n)}$h&&Nd("Please use the `legacy` build in Node.js environments.");class Dv extends av{}class Rv extends tv{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire("file:///D:/React/FRA%20project/frontend/fralytics/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(t,e)}}class Lv extends nv{async _fetch(t){return Pv(t)}}class Nv extends Mv{async _fetch(t){return Pv(t)}}class Ov extends Cv{async _fetch(t){return Pv(t)}}const Iv="__forcedDependency";var Fv=new WeakMap,jv=new WeakMap,zv=new WeakMap,Bv=new WeakMap,Wv=new WeakMap,Hv=new WeakMap,Vv=new WeakMap,Uv=new WeakMap,qv=new WeakMap,Gv=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,Kv=new WeakMap,$v=new WeakMap;class Qv{constructor(t){Uh(this,Fv,{__proto__:null}),Uh(this,jv,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Iv]:[]}),Uh(this,zv,new Map),Uh(this,Bv,[]),Uh(this,Wv,[]),Uh(this,Hv,[[1,0,0,1,0,0]]),Uh(this,Vv,[-1/0,-1/0,1/0,1/0]),Uh(this,Uv,new Float64Array([1/0,1/0,-1/0,-1/0])),Uh(this,qv,-1),Uh(this,Gv,new Set),Uh(this,Yv,new Map),Uh(this,Xv,new Map),Uh(this,Kv,void 0),Uh(this,$v,void 0),Xh(Kv,this,t.width),Xh($v,this,t.height)}save(t){return Xh(Fv,this,{__proto__:Yh(Fv,this)}),Xh(jv,this,{__proto__:Yh(jv,this),transform:{__proto__:Yh(jv,this).transform},moveText:{__proto__:Yh(jv,this).moveText},sameLineText:{__proto__:Yh(jv,this).sameLineText},[Iv]:{__proto__:Yh(jv,this)[Iv]}}),Xh(Vv,this,{__proto__:Yh(Vv,this)}),Yh(Bv,this).push([t,null]),this}restore(t){const e=Object.getPrototypeOf(Yh(Fv,this));if(null===e)return this;Xh(Fv,this,e),Xh(jv,this,Object.getPrototypeOf(Yh(jv,this))),Xh(Vv,this,Object.getPrototypeOf(Yh(Vv,this)));const n=Yh(Bv,this).pop();return void 0!==n&&(n[1]=t),this}recordOpenMarker(t){return Yh(Bv,this).push([t,null]),this}getOpenMarker(){return 0===Yh(Bv,this).length?null:Yh(Bv,this).at(-1)[0]}recordCloseMarker(t){const e=Yh(Bv,this).pop();return void 0!==e&&(e[1]=t),this}beginMarkedContent(t){return Yh(Wv,this).push([t,null]),this}endMarkedContent(t){const e=Yh(Wv,this).pop();return void 0!==e&&(e[1]=t),this}pushBaseTransform(t){return Yh(Hv,this).push(Qd.multiplyByDOMMatrix(Yh(Hv,this).at(-1),t.getTransform())),this}popBaseTransform(){return Yh(Hv,this).length>1&&Yh(Hv,this).pop(),this}recordSimpleData(t,e){return Yh(Fv,this)[t]=e,this}recordIncrementalData(t,e){return Yh(jv,this)[t].push(e),this}resetIncrementalData(t,e){return Yh(jv,this)[t].length=0,this}recordNamedData(t,e){return Yh(zv,this).set(t,e),this}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Iv,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in Yh(Fv,this)&&this.recordFutureForcedDependency(e,Yh(Fv,this)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of Yh(Gv,this))this.recordFutureForcedDependency(Iv,t);return this}resetBBox(t){return Xh(qv,this,t),Yh(Uv,this)[0]=1/0,Yh(Uv,this)[1]=1/0,Yh(Uv,this)[2]=-1/0,Yh(Uv,this)[3]=-1/0,this}get hasPendingBBox(){return-1!==Yh(qv,this)}recordClipBox(t,e,n,i,a,s){const r=Qd.multiplyByDOMMatrix(Yh(Hv,this).at(-1),e.getTransform()),o=[1/0,1/0,-1/0,-1/0];Qd.axialAlignedBoundingBox([n,a,i,s],r,o);const l=Qd.intersect(Yh(Vv,this),o);return l?(Yh(Vv,this)[0]=l[0],Yh(Vv,this)[1]=l[1],Yh(Vv,this)[2]=l[2],Yh(Vv,this)[3]=l[3]):(Yh(Vv,this)[0]=Yh(Vv,this)[1]=1/0,Yh(Vv,this)[2]=Yh(Vv,this)[3]=-1/0),this}recordBBox(t,e,n,i,a,s){const r=Yh(Vv,this);if(r[0]===1/0)return this;const o=Qd.multiplyByDOMMatrix(Yh(Hv,this).at(-1),e.getTransform());if(r[0]===-1/0)return Qd.axialAlignedBoundingBox([n,a,i,s],o,Yh(Uv,this)),this;const l=[1/0,1/0,-1/0,-1/0];return Qd.axialAlignedBoundingBox([n,a,i,s],o,l),Yh(Uv,this)[0]=Math.min(Yh(Uv,this)[0],Math.max(l[0],r[0])),Yh(Uv,this)[1]=Math.min(Yh(Uv,this)[1],Math.max(l[1],r[1])),Yh(Uv,this)[2]=Math.max(Yh(Uv,this)[2],Math.min(l[2],r[2])),Yh(Uv,this)[3]=Math.max(Yh(Uv,this)[3],Math.min(l[3],r[3])),this}recordCharacterBBox(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6?arguments[6]:void 0;const o=n.bbox;let l,c;if(o&&(l=o[2]!==o[0]&&o[3]!==o[1]&&Yh(Xv,this).get(n),!1!==l&&(c=[0,0,0,0],Qd.axialAlignedBoundingBox(o,n.fontMatrix,c),1===i&&0===a&&0===s||Qd.scaleMinMax([i,0,0,-i,a,s],c),l)))return this.recordBBox(t,e,c[0],c[2],c[1],c[3]);if(!r)return this.recordFullPageBBox(t);const h=r();return o&&c&&void 0===l&&(l=c[0]<=a-h.actualBoundingBoxLeft&&c[2]>=a+h.actualBoundingBoxRight&&c[1]<=s-h.actualBoundingBoxAscent&&c[3]>=s+h.actualBoundingBoxDescent,Yh(Xv,this).set(n,l),l)?this.recordBBox(t,e,c[0],c[2],c[1],c[3]):this.recordBBox(t,e,a-h.actualBoundingBoxLeft,a+h.actualBoundingBoxRight,s-h.actualBoundingBoxAscent,s+h.actualBoundingBoxDescent)}recordFullPageBBox(t){return Yh(Uv,this)[0]=Math.max(0,Yh(Vv,this)[0]),Yh(Uv,this)[1]=Math.max(0,Yh(Vv,this)[1]),Yh(Uv,this)[2]=Math.min(Yh(Kv,this),Yh(Vv,this)[2]),Yh(Uv,this)[3]=Math.min(Yh($v,this),Yh(Vv,this)[3]),this}getSimpleIndex(t){return Yh(Fv,this)[t]}recordDependencies(t,e){const n=Yh(Gv,this),i=Yh(Fv,this),a=Yh(jv,this);for(const s of e)s in Yh(Fv,this)?n.add(i[s]):s in a&&a[s].forEach(n.add,n);return this}copyDependenciesFromIncrementalOperation(t,e){const n=Yh(Yv,this),i=Yh(Gv,this);for(const a of Yh(jv,this)[e])n.get(a).dependencies.forEach(i.add,i.add(a));return this}recordNamedDependency(t,e){return Yh(zv,this).has(e)&&Yh(Gv,this).add(Yh(zv,this).get(e)),this}recordOperation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recordDependencies(t,[Iv]);const n=new Set(Yh(Gv,this)),i=Yh(Bv,this).concat(Yh(Wv,this)),a=Yh(qv,this)===t?{minX:Yh(Uv,this)[0],minY:Yh(Uv,this)[1],maxX:Yh(Uv,this)[2],maxY:Yh(Uv,this)[3]}:null;return Yh(Yv,this).set(t,{bbox:a,pairs:i,dependencies:n}),e||Xh(qv,this,-1),Yh(Gv,this).clear(),this}bboxToClipBoxDropOperation(t){return-1!==Yh(qv,this)&&(Xh(qv,this,-1),Yh(Vv,this)[0]=Math.max(Yh(Vv,this)[0],Yh(Uv,this)[0]),Yh(Vv,this)[1]=Math.max(Yh(Vv,this)[1],Yh(Uv,this)[1]),Yh(Vv,this)[2]=Math.min(Yh(Vv,this)[2],Yh(Uv,this)[2]),Yh(Vv,this)[3]=Math.min(Yh(Vv,this)[3],Yh(Uv,this)[3])),Yh(Gv,this).clear(),this}_takePendingDependencies(){const t=Yh(Gv,this);return Xh(Gv,this,new Set),t}_extractOperation(t){const e=Yh(Yv,this).get(t);return Yh(Yv,this).delete(t),e}_pushPendingDependencies(t){for(const e of t)Yh(Gv,this).add(e)}take(){return Yh(Xv,this).clear(),Array.from(Yh(Yv,this),t=>{var e,n,i,a;let[s,{bbox:r,pairs:o,dependencies:l}]=t;return o.forEach(t=>t.forEach(l.add,l)),l.delete(s),{minX:(null!==(e=null===r||void 0===r?void 0:r.minX)&&void 0!==e?e:0)/Yh(Kv,this),maxX:(null!==(n=null===r||void 0===r?void 0:r.maxX)&&void 0!==n?n:Yh(Kv,this))/Yh(Kv,this),minY:(null!==(i=null===r||void 0===r?void 0:r.minY)&&void 0!==i?i:0)/Yh($v,this),maxY:(null!==(a=null===r||void 0===r?void 0:r.maxY)&&void 0!==a?a:Yh($v,this))/Yh($v,this),dependencies:Array.from(l).sort((t,e)=>t-e),idx:s}})}}var Jv=new WeakMap,Zv=new WeakMap,tb=new WeakMap,eb=new WeakMap,nb=new WeakMap;class ib{constructor(t,e){if(Uh(this,Jv,void 0),Uh(this,Zv,void 0),Uh(this,tb,0),Uh(this,eb,void 0),Uh(this,nb,0),t instanceof ib)return t;Xh(Jv,this,t),Xh(eb,this,t._takePendingDependencies()),Xh(Zv,this,e)}save(t){var e;return Xh(nb,this,(e=Yh(nb,this),e++,e)),Yh(Jv,this).save(Yh(Zv,this)),this}restore(t){var e;Yh(nb,this)>0&&(Yh(Jv,this).restore(Yh(Zv,this)),Xh(nb,this,(e=Yh(nb,this),e--,e)));return this}recordOpenMarker(t){var e;return Xh(tb,this,(e=Yh(tb,this),e++,e)),this}getOpenMarker(){return Yh(tb,this)>0?Yh(Zv,this):Yh(Jv,this).getOpenMarker()}recordCloseMarker(t){var e;return Xh(tb,this,(e=Yh(tb,this),e--,e)),this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return Yh(Jv,this).pushBaseTransform(t),this}popBaseTransform(){return Yh(Jv,this).popBaseTransform(),this}recordSimpleData(t,e){return Yh(Jv,this).recordSimpleData(t,Yh(Zv,this)),this}recordIncrementalData(t,e){return Yh(Jv,this).recordIncrementalData(t,Yh(Zv,this)),this}resetIncrementalData(t,e){return Yh(Jv,this).resetIncrementalData(t,Yh(Zv,this)),this}recordNamedData(t,e){return this}recordFutureForcedDependency(t,e){return Yh(Jv,this).recordFutureForcedDependency(t,Yh(Zv,this)),this}inheritSimpleDataAsFutureForcedDependencies(t){return Yh(Jv,this).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return Yh(Jv,this).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return Yh(Jv,this).hasPendingBBox||Yh(Jv,this).resetBBox(Yh(Zv,this)),this}get hasPendingBBox(){return Yh(Jv,this).hasPendingBBox}recordClipBox(t,e,n,i,a,s){return Yh(Jv,this).recordClipBox(Yh(Zv,this),e,n,i,a,s),this}recordBBox(t,e,n,i,a,s){return Yh(Jv,this).recordBBox(Yh(Zv,this),e,n,i,a,s),this}recordCharacterBBox(t,e,n,i,a,s,r){return Yh(Jv,this).recordCharacterBBox(Yh(Zv,this),e,n,i,a,s,r),this}recordFullPageBBox(t){return Yh(Jv,this).recordFullPageBBox(Yh(Zv,this)),this}getSimpleIndex(t){return Yh(Jv,this).getSimpleIndex(t)}recordDependencies(t,e){return Yh(Jv,this).recordDependencies(Yh(Zv,this),e),this}copyDependenciesFromIncrementalOperation(t,e){return Yh(Jv,this).copyDependenciesFromIncrementalOperation(Yh(Zv,this),e),this}recordNamedDependency(t,e){return Yh(Jv,this).recordNamedDependency(Yh(Zv,this),e),this}recordOperation(t){Yh(Jv,this).recordOperation(Yh(Zv,this),!0);const e=Yh(Jv,this)._extractOperation(Yh(Zv,this));for(const n of e.dependencies)Yh(eb,this).add(n);return Yh(eb,this).delete(Yh(Zv,this)),Yh(eb,this).delete(null),this}bboxToClipBoxDropOperation(t){return Yh(Jv,this).bboxToClipBoxDropOperation(Yh(Zv,this)),this}recordNestedDependencies(){Yh(Jv,this)._pushPendingDependencies(Yh(eb,this))}take(){throw new Error("Unreachable")}}const ab=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],sb=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],rb=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],ob=["filter","fillColor","fillAlpha"],lb=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation"],cb=["transform"],hb=["transform","fillColor"],db="Fill",ub="Stroke",pb="Shading";function fb(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],n,i),t.clip(a)}class mb{isModifyingCurrentTransform(){return!1}getPattern(){Od("Abstract method `getPattern` called.")}}class gb extends mb{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let a;if(i===ub||i===db){const s=e.current.getClippedPathBoundingBox(i,yu(t))||[0,0,0,0],r=Math.ceil(s[2]-s[0])||1,o=Math.ceil(s[3]-s[1])||1,l=e.cachedCanvases.getCanvas("pattern",r,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),n=Qd.transform(n,[1,0,0,1,s[0],s[1]]),c.transform(...e.baseTransform),this.matrix&&c.transform(...this.matrix),fb(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),a=t.createPattern(l.canvas,"no-repeat");const h=new DOMMatrix(n);a.setTransform(h)}else fb(t,this._bbox),a=this._createGradient(t);return a}}function vb(t,e,n,i,a,s,r,o){const l=e.coords,c=e.colors,h=t.data,d=4*t.width;let u;l[n+1]>l[i+1]&&(u=n,n=i,i=u,u=s,s=r,r=u),l[i+1]>l[a+1]&&(u=i,i=a,a=u,u=r,r=o,o=u),l[n+1]>l[i+1]&&(u=n,n=i,i=u,u=s,s=r,r=u);const p=(l[n]+e.offsetX)*e.scaleX,f=(l[n+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,g=(l[i+1]+e.offsetY)*e.scaleY,v=(l[a]+e.offsetX)*e.scaleX,b=(l[a+1]+e.offsetY)*e.scaleY;if(f>=b)return;const x=c[s],y=c[s+1],w=c[s+2],_=c[r],k=c[r+1],S=c[r+2],A=c[o],M=c[o+1],E=c[o+2],C=Math.round(f),T=Math.round(b);let P,D,R,L,N,O,I,F;for(let j=C;j<=T;j++){if(j<g){const t=j<f?0:(f-j)/(f-g);P=p-(p-m)*t,D=x-(x-_)*t,R=y-(y-k)*t,L=w-(w-S)*t}else{let t;t=j>b?1:g===b?0:(g-j)/(g-b),P=m-(m-v)*t,D=_-(_-A)*t,R=k-(k-M)*t,L=S-(S-E)*t}let t;t=j<f?0:j>b?1:(f-j)/(f-b),N=p-(p-v)*t,O=x-(x-A)*t,I=y-(y-M)*t,F=w-(w-E)*t;const e=Math.round(Math.min(P,N)),n=Math.round(Math.max(P,N));let i=d*j+4*e;for(let a=e;a<=n;a++)t=(P-a)/(P-N),t<0?t=0:t>1&&(t=1),h[i++]=D-(D-O)*t|0,h[i++]=R-(R-I)*t|0,h[i++]=L-(L-F)*t|0,h[i++]=255}}function bb(t,e,n){const i=e.coords,a=e.colors;let s,r;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(s=0;s<l;s++){let e=s*o;for(let s=0;s<c;s++,e++)vb(t,n,i[e],i[e+1],i[e+o],a[e],a[e+1],a[e+o]),vb(t,n,i[e+o+1],i[e+1],i[e+o],a[e+o+1],a[e+1],a[e+o])}break;case"triangles":for(s=0,r=i.length;s<r;s+=3)vb(t,n,i[s],i[s+1],i[s+2],a[s],a[s+1],a[s+2]);break;default:throw new Error("illegal figure")}}class xb extends mb{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const i=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-i,r=Math.ceil(this._bounds[3])-a,o=Math.min(Math.ceil(Math.abs(s*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(r*t[1]*1.1)),3e3),c=s/o,h=r/l,d={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-a,scaleX:1/c,scaleY:1/h},u=o+4,p=l+4,f=n.getCanvas("mesh",u,p),m=f.context,g=m.createImageData(o,l);if(e){const t=g.data;for(let n=0,i=t.length;n<i;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const v of this._figures)bb(g,v,d);m.putImageData(g,2,2);return{canvas:f.canvas,offsetX:i-2*c,offsetY:a-2*h,scaleX:c,scaleY:h}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,i){fb(t,this._bbox);const a=new Float32Array(2);if(i===pb)Qd.singularValueDecompose2dScale(yu(t),a);else if(this.matrix){Qd.singularValueDecompose2dScale(this.matrix,a);const[t,n]=a;Qd.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=t,a[1]*=n}else Qd.singularValueDecompose2dScale(e.baseTransform,a);const s=this._createMeshCanvas(a,i===pb?null:this._background,e.cachedCanvases);return i!==pb&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(s.offsetX,s.offsetY),t.scale(s.scaleX,s.scaleY),t.createPattern(s.canvas,"no-repeat")}}class yb extends mb{getPattern(){return"hotpink"}}const wb=1,_b=2;class kb{constructor(t,e,n,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(t){var e,n,i,a;const{bbox:s,operatorList:r,paintType:o,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:u}=this;d=Math.abs(d),u=Math.abs(u),Ld("TilingType: "+l);const p=s[0],f=s[1],m=s[2],g=s[3],v=m-p,b=g-f,x=new Float32Array(2);Qd.singularValueDecompose2dScale(this.matrix,x);const[y,w]=x;Qd.singularValueDecompose2dScale(this.baseTransform,x);const _=y*x[0],k=w*x[1];let S=v,A=b,M=!1,E=!1;const C=Math.ceil(d*_),T=Math.ceil(u*k);C>=Math.ceil(v*_)?S=d:M=!0,T>=Math.ceil(b*k)?A=u:E=!0;const P=this.getSizeAndScale(S,this.ctx.canvas.width,_),D=this.getSizeAndScale(A,this.ctx.canvas.height,k),R=t.cachedCanvases.getCanvas("pattern",P.size,D.size),L=R.context,N=h.createCanvasGraphics(L);if(N.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(N,o,c),L.translate(-P.scale*p,-D.scale*f),N.transform(0,P.scale,0,0,D.scale,0,0),L.save(),null===(e=N.dependencyTracker)||void 0===e||e.save(),this.clipBbox(N,p,f,m,g),N.baseTransform=yu(N.ctx),N.executeOperatorList(r),N.endDrawing(),null===(n=N.dependencyTracker)||void 0===n||null===(i=(a=n.restore()).recordNestedDependencies)||void 0===i||i.call(a),L.restore(),M||E){const e=R.canvas;M&&(S=d),E&&(A=u);const n=this.getSizeAndScale(S,this.ctx.canvas.width,_),i=this.getSizeAndScale(A,this.ctx.canvas.height,k),a=n.size,s=i.size,r=t.cachedCanvases.getCanvas("pattern-workaround",a,s),o=r.context,l=M?Math.floor(v/d):0,c=E?Math.floor(b/u):0;for(let t=0;t<=l;t++)for(let n=0;n<=c;n++)o.drawImage(e,a*t,s*n,a,s,0,0,a,s);return{canvas:r.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:p,offsetY:f}}return{canvas:R.canvas,scaleX:P.scale,scaleY:D.scale,offsetX:p,offsetY:f}}getSizeAndScale(t,e,n){const i=Math.max(kb.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*n);return a>=i?a=i:n=a/t,{scale:n,size:a}}clipBbox(t,e,n,i,a){const s=i-e,r=a-n;t.ctx.rect(e,n,s,r),Qd.axialAlignedBoundingBox([e,n,i,a],yu(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,a=t.current;switch(e){case wb:const{fillStyle:t,strokeStyle:s}=this.ctx;i.fillStyle=a.fillColor=t,i.strokeStyle=a.strokeColor=s;break;case _b:i.fillStyle=i.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new qd("Unsupported paint type: ".concat(e))}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,i){let a=n;i!==pb&&(a=Qd.transform(a,e.baseTransform),this.matrix&&(a=Qd.transform(a,this.matrix)));const s=this.createPatternCanvas(e);let r=new DOMMatrix(a);r=r.translate(s.offsetX,s.offsetY),r=r.scale(1/s.scaleX,1/s.scaleY);const o=t.createPattern(s.canvas,"repeat");return o.setTransform(r),o}}function Sb(t){let{src:e,srcPos:n=0,dest:i,width:a,height:s,nonBlackColor:r=4294967295,inverseDecode:o=!1}=t;const l=Kd.isLittleEndian?4278190080:255,[c,h]=o?[r,l]:[l,r],d=a>>3,u=7&a,p=e.length;i=new Uint32Array(i.buffer);let f=0;for(let m=0;m<s;m++){for(const a=n+d;n<a;n++){const t=n<p?e[n]:255;i[f++]=128&t?h:c,i[f++]=64&t?h:c,i[f++]=32&t?h:c,i[f++]=16&t?h:c,i[f++]=8&t?h:c,i[f++]=4&t?h:c,i[f++]=2&t?h:c,i[f++]=1&t?h:c}if(0===u)continue;const t=n<p?e[n++]:255;for(let e=0;e<u;e++)i[f++]=t&1<<7-e?h:c}return{srcPos:n,destPos:f}}r(kb,"MAX_PATTERN_SIZE",3e3);const Ab=16,Mb=new DOMMatrix,Eb=new Float32Array(2),Cb=new Float32Array([1/0,1/0,-1/0,-1/0]);class Tb{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Pb(t,e,n,i,a,s,r,o,l,c){const[h,d,u,p,f,m]=yu(t);if(0===d&&0===u){const g=r*h+f,v=Math.round(g),b=o*p+m,x=Math.round(b),y=(r+l)*h+f,w=Math.abs(Math.round(y)-v)||1,_=(o+c)*p+m,k=Math.abs(Math.round(_)-x)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(p),v,x),t.drawImage(e,n,i,a,s,0,0,w,k),t.setTransform(h,d,u,p,f,m),[w,k]}if(0===h&&0===p){const g=o*u+f,v=Math.round(g),b=r*d+m,x=Math.round(b),y=(o+c)*u+f,w=Math.abs(Math.round(y)-v)||1,_=(r+l)*d+m,k=Math.abs(Math.round(_)-x)||1;return t.setTransform(0,Math.sign(d),Math.sign(u),0,v,x),t.drawImage(e,n,i,a,s,0,0,k,w),t.setTransform(h,d,u,p,f,m),[k,w]}t.drawImage(e,n,i,a,s,r,o,l,c);return[Math.hypot(h,d)*l,Math.hypot(u,p)*c]}class Db{constructor(t,e,n){r(this,"alphaIsShape",!1),r(this,"fontSize",0),r(this,"fontSizeScale",1),r(this,"textMatrix",null),r(this,"textMatrixScale",1),r(this,"fontMatrix",Qh),r(this,"leading",0),r(this,"x",0),r(this,"y",0),r(this,"lineX",0),r(this,"lineY",0),r(this,"charSpacing",0),r(this,"wordSpacing",0),r(this,"textHScale",1),r(this,"textRenderingMode",dd),r(this,"textRise",0),r(this,"fillColor","#000000"),r(this,"strokeColor","#000000"),r(this,"patternFill",!1),r(this,"patternStroke",!1),r(this,"fillAlpha",1),r(this,"strokeAlpha",1),r(this,"lineWidth",1),r(this,"activeSMask",null),r(this,"transferMaps","none"),null===n||void 0===n||n(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Cb.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:db,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(t===ub){e||Od("Stroke bounding box must include transform."),Qd.singularValueDecompose2dScale(e,Eb);const t=Eb[0]*this.lineWidth/2,i=Eb[1]*this.lineWidth/2;n[0]-=t,n[1]-=i,n[2]+=t,n[3]+=i}return n}updateClipFromPath(){const t=Qd.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Cb,0)}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:db,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Qd.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Rb(t,e){if(e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,i=e.width,a=n%Ab,s=(n-a)/Ab,r=0===a?s:s+1,o=t.createImageData(i,Ab);let l,c=0;const h=e.data,d=o.data;let u,p,f,m;if(e.kind===vd.GRAYSCALE_1BPP){const e=h.byteLength,n=new Uint32Array(d.buffer,0,d.byteLength>>2),m=n.length,g=i+7>>3,v=4294967295,b=Kd.isLittleEndian?4278190080:255;for(u=0;u<r;u++){for(f=u<s?Ab:a,l=0,p=0;p<f;p++){const t=e-c;let a=0;const s=t>g?i:8*t-7,r=-8&s;let o=0,d=0;for(;a<r;a+=8)d=h[c++],n[l++]=128&d?v:b,n[l++]=64&d?v:b,n[l++]=32&d?v:b,n[l++]=16&d?v:b,n[l++]=8&d?v:b,n[l++]=4&d?v:b,n[l++]=2&d?v:b,n[l++]=1&d?v:b;for(;a<s;a++)0===o&&(d=h[c++],o=128),n[l++]=d&o?v:b,o>>=1}for(;l<m;)n[l++]=0;t.putImageData(o,0,u*Ab)}}else if(e.kind===vd.RGBA_32BPP){for(p=0,m=i*Ab*4,u=0;u<s;u++)d.set(h.subarray(c,c+m)),c+=m,t.putImageData(o,0,p),p+=Ab;u<r&&(m=i*a*4,d.set(h.subarray(c,c+m)),t.putImageData(o,0,p))}else{if(e.kind!==vd.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));for(f=Ab,m=i*f,u=0;u<r;u++){for(u>=s&&(f=a,m=i*f),l=0,p=m;p--;)d[l++]=h[c++],d[l++]=h[c++],d[l++]=h[c++],d[l++]=255;t.putImageData(o,0,u*Ab)}}}function Lb(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,i=e.width,a=n%Ab,s=(n-a)/Ab,r=0===a?s:s+1,o=t.createImageData(i,Ab);let l=0;const c=e.data,h=o.data;for(let d=0;d<r;d++){const e=d<s?Ab:a;({srcPos:l}=Sb({src:c,srcPos:l,dest:h,width:i,height:e,nonBlackColor:0})),t.putImageData(o,0,d*Ab)}}function Nb(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==t[i]&&(e[i]=t[i]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Ob(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}function Ib(t,e){if(e)return!0;Qd.singularValueDecompose2dScale(t,Eb);const n=Math.fround(ku.pixelRatio*ou.PDF_TO_CSS_UNITS);return Eb[0]<=n&&Eb[1]<=n}const Fb=["butt","round","square"],jb=["miter","round","bevel"],zb={},Bb={};var Wb=new WeakSet;class Hb{constructor(t,e,n,i,a,s,r,o,l){let{optionalContentConfig:c,markedContentStack:h=null}=s;Vh(this,Wb),this.ctx=t,this.current=new Db(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new Tb(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=r,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=null!==l&&void 0!==l?l:null}getObject(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var i;return"string"===typeof e?(null===(i=this.dependencyTracker)||void 0===i||i.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing(t){let{transform:e,viewport:n,transparency:i=!1,background:a=null}=t;const s=this.ctx.canvas.width,r=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,s,r),this.ctx.fillStyle=o,i){const t=this.cachedCanvases.getCanvas("transparent",s,r);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...yu(this.compositeCtx))}this.ctx.save(),Ob(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=yu(this.ctx)}executeOperatorList(t,e,n,i,a){const s=t.argsArray,r=t.fnArray;let o=e||0;const l=s.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,h=c?Date.now()+15:0;let d=0;const u=this.commonObjs,p=this.objs;let f,m;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;var g;if(!a||a.has(o))if(f=r[o],m=null!==(g=s[o])&&void 0!==g?g:null,f!==Ad.dependency)null===m?this[f](o):this[f](o,...m);else for(const t of m){var v;null===(v=this.dependencyTracker)||void 0===v||v.recordNamedData(t,o);const e=t.startsWith("g_")?u:p;if(!e.has(t))return e.get(t,n),o}if(o++,o===l)return o;if(c&&++d>10){if(Date.now()>h)return n(),o;d=0}}}endDrawing(){qh(Wb,this,Vb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),qh(Wb,this,Ub).call(this)}_scaleImage(t,e){var n,i;const a=null!==(n=t.width)&&void 0!==n?n:t.displayWidth,s=null!==(i=t.height)&&void 0!==i?i:t.displayHeight;let r,o,l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=a,d=s,u="prescale1";for(;l>2&&h>1||c>2&&d>1;){let e=h,n=d;l>2&&h>1&&(e=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/e),c>2&&d>1&&(n=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/n),r=this.cachedCanvases.getCanvas(u,e,n),o=r.context,o.clearRect(0,0,e,n),o.drawImage(t,0,0,h,d,0,0,e,n),t=r.canvas,h=e,d=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}_createMaskCanvas(t,e){var n;const i=this.ctx,{width:a,height:s}=e,r=this.current.fillColor,o=this.current.patternFill,l=yu(i);let c,h,d,u;if((e.bitmap||e.data)&&e.count>1){const n=e.bitmap||e.data.buffer;h=JSON.stringify(o?l:[l.slice(0,4),r]),c=this._cachedBitmapsMap.get(n),c||(c=new Map,this._cachedBitmapsMap.set(n,c));const i=c.get(h);if(i&&!o){var p;const e=Math.round(Math.min(l[0],l[2])+l[4]),n=Math.round(Math.min(l[1],l[3])+l[5]);return null===(p=this.dependencyTracker)||void 0===p||p.recordDependencies(t,hb),{canvas:i,offsetX:e,offsetY:n}}d=i}d||(u=this.cachedCanvases.getCanvas("maskCanvas",a,s),Lb(u.context,e));let f=Qd.transform(l,[1/a,0,0,-1/s,0,0]);f=Qd.transform(f,[1,0,0,1,0,-s]);const m=Cb.slice();Qd.axialAlignedBoundingBox([0,0,a,s],f,m);const[g,v,b,x]=m,y=Math.round(b-g)||1,w=Math.round(x-v)||1,_=this.cachedCanvases.getCanvas("fillCanvas",y,w),k=_.context,S=g,A=v;k.translate(-S,-A),k.transform(...f),d||(d=this._scaleImage(u.canvas,wu(k)),d=d.img,c&&o&&c.set(h,d)),k.imageSmoothingEnabled=Ib(yu(k),e.interpolate),Pb(k,d,0,0,d.width,d.height,0,0,a,s),k.globalCompositeOperation="source-in";const M=Qd.transform(wu(k),[1,0,0,1,-S,-A]);return k.fillStyle=o?r.getPattern(i,this,M,db):r,k.fillRect(0,0,a,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,_.canvas)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,hb),{canvas:_.canvas,offsetX:Math.round(S),offsetY:Math.round(A)}}setLineWidth(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineCap",t),this.ctx.lineCap=Fb[e]}setLineJoin(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineJoin",t),this.ctx.lineJoin=jb[e]}setMiterLimit(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("dash",t);const a=this.ctx;void 0!==a.setLineDash&&(a.setLineDash(e),a.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var n,i,a,s,r;for(const[o,l]of e)switch(o){case"LW":this.setLineWidth(t,l);break;case"LC":this.setLineCap(t,l);break;case"LJ":this.setLineJoin(t,l);break;case"ML":this.setMiterLimit(t,l);break;case"D":this.setDash(t,l[0],l[1]);break;case"RI":this.setRenderingIntent(t,l);break;case"FL":this.setFlatness(t,l);break;case"Font":this.setFont(t,l[0],l[1]);break;case"CA":null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=l;break;case"ca":null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=l;break;case"BM":null===(a=this.dependencyTracker)||void 0===a||a.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=l;break;case"SMask":null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("SMask",t),this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":null===(r=this.dependencyTracker)||void 0===r||r.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(l)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx;const s=this.ctx=a.context;s.setTransform(this.suspendedCtx.getTransform()),Nb(this.suspendedCtx,s),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,i,a,s,r){e.transform(t,n,i,a,s,r),this.__originalTransform(t,n,i,a,s,r)},t.setTransform=function(t,n,i,a,s,r){e.setTransform(t,n,i,a,s,r),this.__originalSetTransform(t,n,i,a,s,r)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,i,a,s,r){e.bezierCurveTo(t,n,i,a,s,r),this.__originalBezierCurveTo(t,n,i,a,s,r)},t.rect=function(t,n,i,a){e.rect(t,n,i,a),this.__originalRect(t,n,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Nb(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const a=i[0],s=i[1],r=i[2]-a,o=i[3]-s;0!==r&&0!==o&&(this.genericComposeSMask(e.context,n,r,o,e.subtype,e.backdrop,e.transferMap,a,s,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,a,s,r,o,l,c,h){let d=t.canvas,u=o-c,p=l-h;if(s)if(u<0||p<0||u+n>d.width||p+i>d.height){const t=this.cachedCanvases.getCanvas("maskExtension",n,i),e=t.context;e.drawImage(d,-u,-p),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(0,0,n,i),e.globalCompositeOperation="source-over",d=t.canvas,u=p=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const e=new Path2D;e.rect(u,p,n,i),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=s,t.fillRect(u,p,n,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===a&&r?e.filter=this.filterFactory.addAlphaFilter(r):"Luminosity"===a&&(e.filter=this.filterFactory.addLuminosityFilter(r));const f=new Path2D;f.rect(o,l,n,i),e.clip(f),e.globalCompositeOperation="destination-in",e.drawImage(d,u,p,n,i,o,l,n,i),e.restore()}save(t){var e;this.inSMaskMode&&Nb(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),null===(e=this.dependencyTracker)||void 0===e||e.save(t)}restore(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.restore(t),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Nb(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(t,e,n,i,a,s,r){var o;null===(o=this.dependencyTracker)||void 0===o||o.recordIncrementalData("transform",t),this.ctx.transform(e,n,i,a,s,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,i){let[a]=n;if(!i)return a||(a=n[0]=new Path2D),void this[e](t,a);if(null!==this.dependencyTracker){const n=e===Ad.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,i[0]-n,i[2]+n,i[1]-n,i[3]+n).recordDependencies(t,["transform"])}if(!(a instanceof Path2D)){const t=n[0]=new Path2D;for(let e=0,n=a.length;e<n;)switch(a[e++]){case Md:t.moveTo(a[e++],a[e++]);break;case Ed:t.lineTo(a[e++],a[e++]);break;case Cd:t.bezierCurveTo(a[e++],a[e++],a[e++],a[e++],a[e++],a[e++]);break;case Td:t.closePath();break;default:Nd("Unrecognized drawing path operator: ".concat(a[e-1]))}a=t}Qd.axialAlignedBoundingBox(i,yu(this.ctx),this.current.minMax),this[e](t,a),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=this.ctx,s=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof s&&null!==s&&void 0!==s&&s.getPattern){const t=s.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=s.getPattern(a,this,wu(a),ub),t){const n=new Path2D;n.addPath(e,a.getTransform().invertSelf().multiplySelf(t)),e=n}this.rescaleAndStroke(e,!1),a.restore()}else this.rescaleAndStroke(e,!0);null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,ab),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(ub,yu(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=this.ctx,s=this.current.fillColor;let r=!1;if(this.current.patternFill){var o;const n=s.isModifyingCurrentTransform()?a.getTransform():null;if(null===(o=this.dependencyTracker)||void 0===o||o.save(t),a.save(),a.fillStyle=s.getPattern(a,this,wu(a),db),n){const t=new Path2D;t.addPath(e,a.getTransform().invertSelf().multiplySelf(n)),e=t}r=!0}const l=this.current.getClippedPathBoundingBox();var c;(this.contentVisible&&null!==l&&(this.pendingEOFill?(a.fill(e,"evenodd"),this.pendingEOFill=!1):a.fill(e)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,sb),r)&&(a.restore(),null===(c=this.dependencyTracker)||void 0===c||c.restore(t));i&&this.consumePath(t,e,l)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var n;this.ctx.fill(e),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(t,ob).recordOperation(t)}clip(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=zb}eoClip(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=Bb}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,null===(e=this.dependencyTracker)||void 0===e||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;void 0!==e&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",t),n.recordCloseMarker(t)}if(void 0!==e){const t=new Path2D,i=n.getTransform().invertSelf();for(const{transform:n,x:a,y:s,fontSize:r,path:o}of e)o&&t.addPath(o,new DOMMatrix(n).preMultiplySelf(i).translate(a,s).scale(r,-r));n.clip(t)}delete this.pendingTextPaths}setCharSpacing(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){var i,a;null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("font",t).recordNamedDependency(t,e);const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error("Can't find font for ".concat(e));if(r.fontMatrix=s.fontMatrix||Qh,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||Nd("Invalid font matrix for font "+e),n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=n,s.isType3Font)return;const o=s.loadedName||"sans-serif",l=(null===(a=s.systemFontInfo)||void 0===a?void 0:a.css)||'"'.concat(o,'", ').concat(s.fallbackName);let c="normal";s.black?c="900":s.bold&&(c="bold");const h=s.italic?"italic":"normal";let d=n;n<16?d=16:n>100&&(d=100),this.current.fontSizeScale=n/d,this.ctx.font="".concat(h," ").concat(c," ").concat(d,"px ").concat(l)}setTextRenderingMode(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){var e,n;this.moveText(t,0,this.current.leading),null===(e=this.dependencyTracker)||void 0===e||e.recordIncrementalData("moveText",null!==(n=this.dependencyTracker.getSimpleIndex("leading"))&&void 0!==n?n:t)}paintChar(t,e,n,i,a,s){const r=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,d=c&md,u=!!(c&gd),p=o.patternFill&&!l.missingFile,f=o.patternStroke&&!l.missingFile;let m;if((l.disableFontFace||u||p||f)&&!l.missingFile&&(m=l.getPathGenerator(this.commonObjs,e)),m&&(l.disableFontFace||p||f)){var g;let e;if(r.save(),r.translate(n,i),r.scale(h,-h),null===(g=this.dependencyTracker)||void 0===g||g.recordCharacterBBox(t,r,l),d===dd||d===pd)if(a){e=r.getTransform(),r.setTransform(...a);const t=qh(Wb,this,qb).call(this,m,e,a);r.fill(t)}else r.fill(m);if(d===ud||d===pd)if(s){e||(e=r.getTransform()),r.setTransform(...s);const{a:t,b:n,c:i,d:a}=e,o=Qd.inverseTransform(s),l=Qd.transform([t,n,i,a,0,0],o);Qd.singularValueDecompose2dScale(l,Eb),r.lineWidth*=Math.max(Eb[0],Eb[1])/h,r.stroke(qh(Wb,this,qb).call(this,m,e,s))}else r.lineWidth/=h,r.stroke(m);r.restore()}else{var v;if(d===dd||d===pd)r.fillText(e,n,i),null===(v=this.dependencyTracker)||void 0===v||v.recordCharacterBBox(t,r,l,h,n,i,()=>r.measureText(e));if(d===ud||d===pd){var b;if(this.dependencyTracker)null===(b=this.dependencyTracker)||void 0===b||b.recordCharacterBBox(t,r,l,h,n,i,()=>r.measureText(e)).recordDependencies(t,ab);r.strokeText(e,n,i)}}if(u){var x;(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:yu(r),x:n,y:i,fontSize:h,path:m}),null===(x=this.dependencyTracker)||void 0===x||x.recordCharacterBBox(t,r,l,h,n,i)}}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return zd(this,"isFontSubpixelAAEnabled",n)}showText(t,e){var n;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,lb).copyDependenciesFromIncrementalOperation(t,"sameLineText").resetBBox(t),this.current.textRenderingMode&gd&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,a=i.font;var s;if(a.isType3Font)return this.showType3Text(t,e),void(null===(s=this.dependencyTracker)||void 0===s||s.recordOperation(t).recordIncrementalData("sameLineText",t));const r=i.fontSize;var o;if(0===r)return void(null===(o=this.dependencyTracker)||void 0===o||o.recordOperation(t));const l=this.ctx,c=i.fontSizeScale,h=i.charSpacing,d=i.wordSpacing,u=i.fontDirection,p=i.textHScale*u,f=e.length,m=a.vertical,g=m?1:-1,v=a.defaultVMetrics,b=r*i.fontMatrix[0],x=i.textRenderingMode===dd&&!a.disableFontFace&&!i.patternFill;let y,w;if(l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),u>0?l.scale(p,-1):l.scale(p,1),i.patternFill){l.save();const t=i.fillColor.getPattern(l,this,wu(l),db);y=yu(l),l.restore(),l.fillStyle=t}if(i.patternStroke){l.save();const t=i.strokeColor.getPattern(l,this,wu(l),ub);w=yu(l),l.restore(),l.strokeStyle=t}let _=i.lineWidth;const k=i.textMatrixScale;if(0===k||0===_){const t=i.textRenderingMode&md;t!==ud&&t!==pd||(_=this.getSinglePixelWidth())}else _/=k;if(1!==c&&(l.scale(c,c),_/=c),l.lineWidth=_,a.isInvalidPDFjsFont){const n=[];let a=0;for(const t of e)n.push(t.unicode),a+=t.width;const s=n.join("");if(l.fillText(s,0,0),null!==this.dependencyTracker){const e=l.measureText(s);this.dependencyTracker.recordBBox(t,this.ctx,-e.actualBoundingBoxLeft,e.actualBoundingBoxRight,-e.actualBoundingBoxAscent,e.actualBoundingBoxDescent).recordOperation(t).recordIncrementalData("sameLineText",t)}return i.x+=a*b*p,l.restore(),void this.compose()}let S,A=0;for(S=0;S<f;++S){const n=e[S];if("number"===typeof n){A+=g*n*r/1e3;continue}let i=!1;const s=(n.isSpace?d:0)+h,o=n.fontChar,p=n.accent;let f,_,k,E=n.width;if(m){const t=n.vmetric||v,e=-(n.vmetric?t[1]:.5*E)*b,i=t[2]*b;E=t?-t[0]:E,f=e/c,_=(A+i)/c}else f=A/c,_=0;if(a.remeasure&&E>0){k=l.measureText(o);const t=1e3*k.width/r*c;if(E<t&&this.isFontSubpixelAAEnabled){const e=E/t;i=!0,l.save(),l.scale(e,1),f/=e}else E!==t&&(f+=(E-t)/2e3*r/c)}var M;if(this.contentVisible&&(n.isInFont||a.missingFile))if(x&&!p)l.fillText(o,f,_),null===(M=this.dependencyTracker)||void 0===M||M.recordCharacterBBox(t,l,k?{bbox:null}:a,r/c,f,_,()=>null!==k&&void 0!==k?k:l.measureText(o));else if(this.paintChar(t,o,f,_,y,w),p){const e=f+r*p.offset.x/c,n=_-r*p.offset.y/c;this.paintChar(t,p.fontChar,e,n,y,w)}A+=m?E*b-s*u:E*b+s*u,i&&l.restore()}m?i.y-=A:i.x+=A*p,l.restore(),this.compose(),null===(n=this.dependencyTracker)||void 0===n||n.recordOperation(t).recordIncrementalData("sameLineText",t)}showType3Text(t,e){const n=this.ctx,i=this.current,a=i.font,s=i.fontSize,r=i.fontDirection,o=a.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,h=i.textHScale*r,d=i.fontMatrix||Qh,u=e.length;let p,f,m,g;if(i.textRenderingMode===fd||0===s)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(h,r);const v=this.dependencyTracker;for(this.dependencyTracker=v?new ib(v,t):null,p=0;p<u;++p){if(f=e[p],"number"===typeof f){g=o*f*s/1e3,this.ctx.translate(g,0),i.x+=g*h;continue}const t=(f.isSpace?c:0)+l,r=a.charProcOperatorList[f.operatorListId];r?this.contentVisible&&(this.save(),n.scale(s,s),n.transform(...d),this.executeOperatorList(r),this.restore()):Nd('Type3 character "'.concat(f.operatorListId,'" is not available.'));const u=[f.width,0];Qd.applyTransform(u,d),m=u[0]*s+t,n.translate(m,0),i.x+=m*h}n.restore(),v&&(this.dependencyTracker.recordNestedDependencies(),this.dependencyTracker=v)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,i,a,s,r){var o;const l=new Path2D;l.rect(i,a,s-i,r-a),this.ctx.clip(l),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,this.ctx,i,s,a,r).recordClipBox(t,this.ctx,i,s,a,r),this.endPath(t)}getColorN_Pattern(t,e){let n;if("TilingPattern"===e[0]){const i=this.baseTransform||yu(this.ctx),a={createCanvasGraphics:e=>new Hb(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new ib(this.dependencyTracker,t):null)};n=new kb(e,this.ctx,a,i)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("strokeColor",t);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.current.strokeColor=this.getColorN_Pattern(t,i),this.current.patternStroke=!0}setFillColorN(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("fillColor",t);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.current.fillColor=this.getColorN_Pattern(t,i),this.current.patternFill=!0}setStrokeRGBColor(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=function(t){switch(t[0]){case"RadialAxial":return new gb(t);case"Mesh":return new xb(t);case"Dummy":return new yb}throw new Error("Unknown IR type: ".concat(t[0]))}(this.getObject(t,e)),this.cachedPatterns.set(e,n)),i&&(n.matrix=i),n}shadingFill(t,e){var n;if(!this.contentVisible)return;const i=this.ctx;this.save(t);const a=this._getPattern(t,e);i.fillStyle=a.getPattern(i,this,wu(i),pb);const s=wu(i);if(s){const{width:t,height:e}=i.canvas,n=Cb.slice();Qd.axialAlignedBoundingBox([0,0,t,e],s,n);const[a,r,o,l]=n;this.ctx.fillRect(a,r,o-a,l-r)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,cb).recordDependencies(t,sb).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Od("Should not call beginInlineImage")}beginImageData(){Od("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=yu(this.ctx),n)){var i;Qd.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[e,a,s,r]=n,o=new Path2D;o.rect(e,a,s-e,r-a),this.ctx.clip(o),null===(i=this.dependencyTracker)||void 0===i||i.recordClipBox(t,this.ctx,e,s,a,r),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var n;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Ld("TODO: Support non-isolated groups."),e.knockout&&Nd("Knockout groups not supported.");const a=yu(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Cb.slice();Qd.axialAlignedBoundingBox(e.bbox,yu(i),s);const r=[0,0,i.canvas.width,i.canvas.height];s=Qd.intersect(s,r)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),h=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,h]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(d,c,h),p=u.context;p.translate(-o,-l),p.transform(...a);let f=new Path2D;const[m,g,v,b]=e.bbox;if(f.rect(m,g,v-m,b-g),e.matrix){const t=new Path2D;t.addPath(f,new DOMMatrix(e.matrix)),f=t}p.clip(f),e.smask&&this.smaskStack.push({canvas:u.canvas,context:p,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),e.smask&&!this.dependencyTracker||(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),Nb(i,p),this.ctx=p,null===(n=this.dependencyTracker)||void 0===n||n.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){var n;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,null===(n=this.dependencyTracker)||void 0===n||n.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const e=yu(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...e);const n=Cb.slice();Qd.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],e,n),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,i,a,s){if(qh(Wb,this,Vb).call(this),Ob(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const a=n[2]-n[0],r=n[3]-n[1];if(s&&this.annotationCanvasMap){(i=i.slice())[4]-=n[0],i[5]-=n[1],(n=n.slice())[0]=n[1]=0,n[2]=a,n[3]=r,Qd.singularValueDecompose2dScale(yu(this.ctx),Eb);const{viewportScale:t}=this,s=Math.ceil(a*this.outputScaleX*t),o=Math.ceil(r*this.outputScaleY*t);this.annotationCanvas=this.canvasFactory.create(s,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(Eb[0],0,0,-Eb[1],0,r*Eb[1]),Ob(this.ctx)}else{Ob(this.ctx),this.endPath(t);const e=new Path2D;e.rect(n[0],n[1],a,r),this.ctx.clip(e)}}this.current=new Db(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...i),this.transform(t,...a)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),qh(Wb,this,Ub).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var n;if(!this.contentVisible)return;const i=e.count;(e=this.getObject(t,e.data,e)).count=i;const a=this.ctx,s=this._createMaskCanvas(t,e),r=s.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(r,s.offsetX,s.offsetY),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordBBox(t,this.ctx,s.offsetX,s.offsetX+r.width,s.offsetY,s.offsetY+r.height).recordOperation(t),a.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n){var i,a;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const c=this.ctx;c.save();const h=yu(c);c.transform(n,s,r,o,0,0);const d=this._createMaskCanvas(t,e);c.setTransform(1,0,0,1,d.offsetX-h[4],d.offsetY-h[5]),null===(i=this.dependencyTracker)||void 0===i||i.resetBBox(t);for(let p=0,f=l.length;p<f;p+=2){var u;const e=Qd.transform(h,[n,s,r,o,l[p],l[p+1]]);c.drawImage(d.canvas,e[4],e[5]),null===(u=this.dependencyTracker)||void 0===u||u.recordBBox(t,this.ctx,e[4],e[4]+d.canvas.width,e[5],e[5]+d.canvas.height)}c.restore(),this.compose(),null===(a=this.dependencyTracker)||void 0===a||a.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var n,i;if(!this.contentVisible)return;const a=this.ctx,s=this.current.fillColor,r=this.current.patternFill;null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordDependencies(t,hb);for(const l of e){var o;const{data:e,width:n,height:i,transform:c}=l,h=this.cachedCanvases.getCanvas("maskCanvas",n,i),d=h.context;d.save();Lb(d,this.getObject(t,e,l)),d.globalCompositeOperation="source-in",d.fillStyle=r?s.getPattern(d,this,wu(a),db):s,d.fillRect(0,0,n,i),d.restore(),a.save(),a.transform(...c),a.scale(1,-1),Pb(a,h.canvas,0,0,n,i,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,a,0,n,0,i),a.restore()}this.compose(),null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);n?this.paintInlineImageXObject(t,n):Nd("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,i,a){if(!this.contentVisible)return;const s=this.getObject(t,e);if(!s)return void Nd("Dependent image isn't ready yet");const r=s.width,o=s.height,l=[];for(let c=0,h=a.length;c<h;c+=2)l.push({transform:[n,0,0,i,a[c],a[c+1]],x:0,y:0,w:r,h:o});this.paintInlineImageXObjectGroup(t,s,l)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:i}=t,a=this.cachedCanvases.getCanvas("inlineImage",n,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(e,0,0),s.filter="none",a.canvas}paintInlineImageXObject(t,e){var n;if(!this.contentVisible)return;const i=e.width,a=e.height,s=this.ctx;this.save(t);const{filter:r}=s;let o;if("none"!==r&&""!==r&&(s.filter="none"),s.scale(1/i,-1/a),e.bitmap)o=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)o=e;else{const t=this.cachedCanvases.getCanvas("inlineImage",i,a).context;Rb(t,e),o=this.applyTransferMapsToCanvas(t)}const l=this._scaleImage(o,wu(s));s.imageSmoothingEnabled=Ib(yu(s),e.interpolate),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(t).recordBBox(t,s,0,i,-a,0).recordDependencies(t,rb).recordOperation(t),Pb(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-a,i,a),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){var i,a;if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Rb(i,e),r=this.applyTransferMapsToCanvas(i)}null===(i=this.dependencyTracker)||void 0===i||i.resetBBox(t);for(const l of n){var o;s.save(),s.transform(...l.transform),s.scale(1,-1),Pb(s,r,l.x,l.y,l.w,l.h,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(t,s,0,1,-1,0),s.restore()}null===(a=this.dependencyTracker)||void 0===a||a.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&(null===(e=this.dependencyTracker)||void 0===e||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,sb).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){var n;null===(n=this.dependencyTracker)||void 0===n||n.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.beginMarkedContent(t),"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;null===(e=this.dependencyTracker)||void 0===e||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const a=this.ctx;var s,r;this.pendingClip?(i||(this.pendingClip===Bb?a.clip(e,"evenodd"):a.clip(e)),this.pendingClip=null,null===(s=this.dependencyTracker)||void 0===s||s.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):null===(r=this.dependencyTracker)||void 0===r||r.recordOperation(t);this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=yu(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:a}=this.ctx.getTransform();let s,r;if(0===n&&0===i){const n=Math.abs(e),i=Math.abs(a);if(n===i)if(0===t)s=r=1/n;else{const e=n*t;s=r=e<1?1/e:1}else if(0===t)s=1/n,r=1/i;else{const e=n*t,a=i*t;s=e<1?1/e:1,r=a<1?1/a:1}}else{const o=Math.abs(e*a-n*i),l=Math.hypot(e,n),c=Math.hypot(i,a);if(0===t)s=c/o,r=l/o;else{const e=t*o;s=c>e?c/e:1,r=l>e?l/e:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=r}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:i}}=this,[a,s]=this.getScaleForStroking();if(a===s)return n.lineWidth=(i||1)*a,void n.stroke(t);const r=n.getLineDash();e&&n.save(),n.scale(a,s),Mb.a=1/a,Mb.d=1/s;const o=new Path2D;if(o.addPath(t,Mb),r.length>0){const t=Math.max(a,s);n.setLineDash(r.map(e=>e/t)),n.lineDashOffset/=t}n.lineWidth=i||1,n.stroke(o),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}function Vb(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Ub(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}function qb(t,e,n){const i=new Path2D;return i.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),i}for(const n in Ad)void 0!==Hb.prototype[n]&&(Hb.prototype[Ad[n]]=Hb.prototype[n]);class Gb{static get workerPort(){return qh(Gb,this,Yb)._}static set workerPort(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");Yb._=qh(Gb,this,t)}static get workerSrc(){return qh(Gb,this,Xb)._}static set workerSrc(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");Xb._=qh(Gb,this,t)}}var Yb={_:null},Xb={_:""},Kb=new WeakMap,$b=new WeakMap;class Qb{constructor(t){let{parsedData:e,rawData:n}=t;Uh(this,Kb,void 0),Uh(this,$b,void 0),Xh(Kb,this,e),Xh($b,this,n)}getRaw(){return Yh($b,this)}get(t){var e;return null!==(e=Yh(Kb,this).get(t))&&void 0!==e?e:null}[Symbol.iterator](){return Yh(Kb,this).entries()}}const Jb=Symbol("INTERNAL");var Zb=new WeakMap,tx=new WeakMap,ex=new WeakMap,nx=new WeakMap;class ix{constructor(t,e){let{name:n,intent:i,usage:a,rbGroups:s}=e;Uh(this,Zb,!1),Uh(this,tx,!1),Uh(this,ex,!1),Uh(this,nx,!0),Xh(Zb,this,!!(t&td)),Xh(tx,this,!!(t&ed)),this.name=n,this.intent=i,this.usage=a,this.rbGroups=s}get visible(){if(Yh(ex,this))return Yh(nx,this);if(!Yh(nx,this))return!1;const{print:t,view:e}=this.usage;return Yh(Zb,this)?"OFF"!==(null===e||void 0===e?void 0:e.viewState):!Yh(tx,this)||"OFF"!==(null===t||void 0===t?void 0:t.printState)}_setVisible(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==Jb&&Od("Internal method `_setVisible` called."),Xh(ex,this,n),Xh(nx,this,e)}}var ax=new WeakMap,sx=new WeakMap,rx=new WeakMap,ox=new WeakMap,lx=new WeakSet;class cx{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:td;if(Vh(this,lx),Uh(this,ax,null),Uh(this,sx,new Map),Uh(this,rx,null),Uh(this,ox,null),this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,Xh(ox,this,t.order);for(const n of t.groups)Yh(sx,this).set(n.id,new ix(e,n));if("OFF"===t.baseState)for(const t of Yh(sx,this).values())t._setVisible(Jb,!1);for(const e of t.on)Yh(sx,this).get(e)._setVisible(Jb,!0);for(const e of t.off)Yh(sx,this).get(e)._setVisible(Jb,!1);Xh(rx,this,this.getHash())}}isVisible(t){if(0===Yh(sx,this).size)return!0;if(!t)return Ld("Optional content group not defined."),!0;if("OCG"===t.type)return Yh(sx,this).has(t.id)?Yh(sx,this).get(t.id).visible:(Nd("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return qh(lx,this,hx).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!Yh(sx,this).has(e))return Nd("Optional content group not found: ".concat(e)),!0;if(Yh(sx,this).get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!Yh(sx,this).has(e))return Nd("Optional content group not found: ".concat(e)),!0;if(!Yh(sx,this).get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!Yh(sx,this).has(e))return Nd("Optional content group not found: ".concat(e)),!0;if(!Yh(sx,this).get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!Yh(sx,this).has(e))return Nd("Optional content group not found: ".concat(e)),!0;if(Yh(sx,this).get(e).visible)return!1}return!0}return Nd("Unknown optional content policy ".concat(t.policy,".")),!0}return Nd("Unknown group type ".concat(t.type,".")),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=Yh(sx,this).get(t);if(i){if(n&&e&&i.rbGroups.length)for(const e of i.rbGroups)for(const n of e){var a;if(n!==t)null===(a=Yh(sx,this).get(n))||void 0===a||a._setVisible(Jb,!1,!0)}i._setVisible(Jb,!!e,!0),Xh(ax,this,null)}else Nd("Optional content group not found: ".concat(t))}setOCGState(t){let e,{state:n,preserveRB:i}=t;for(const a of n){switch(a){case"ON":case"OFF":case"Toggle":e=a;continue}const t=Yh(sx,this).get(a);if(t)switch(e){case"ON":this.setVisibility(a,!0,i);break;case"OFF":this.setVisibility(a,!1,i);break;case"Toggle":this.setVisibility(a,!t.visible,i)}}Xh(ax,this,null)}get hasInitialVisibility(){return null===Yh(rx,this)||this.getHash()===Yh(rx,this)}getOrder(){return Yh(sx,this).size?Yh(ox,this)?Yh(ox,this).slice():[...Yh(sx,this).keys()]:null}getGroup(t){return Yh(sx,this).get(t)||null}getHash(){if(null!==Yh(ax,this))return Yh(ax,this);const t=new mg;for(const[e,n]of Yh(sx,this))t.update("".concat(e,":").concat(n.visible));return Xh(ax,this,t.hexdigest())}[Symbol.iterator](){return Yh(sx,this).entries()}}function hx(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let a;if(Array.isArray(e))a=qh(lx,this,hx).call(this,e);else{if(!Yh(sx,this).has(e))return Nd("Optional content group not found: ".concat(e)),!0;a=Yh(sx,this).get(e).visible}switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===n}class dx{constructor(t,e){let{disableRange:n=!1,disableStream:i=!1}=e;Id(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:s,progressiveDone:r,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=o,(null===s||void 0===s?void 0:s.length)>0){const t=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((t,e)=>{this._onReceiveData({begin:t,chunk:e})}),t.addProgressListener((t,e)=>{this._onProgress({loaded:t,total:e})}),t.addProgressiveReadListener(t=>{this._onReceiveData({chunk:t})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData(t){let{begin:e,chunk:n}=t;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{Id(this._rangeReaders.some(function(t){return t._begin===e&&(t._enqueue(i),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}_onProgress(t){var e,n,i,a;void 0===t.total?null===(e=this._rangeReaders[0])||void 0===e||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded}):null===(i=this._fullRequestReader)||void 0===i||null===(a=i.onProgress)||void 0===a||a.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;null===(t=this._fullRequestReader)||void 0===t||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Id(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new ux(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new px(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class ux{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=uu(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class px{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function fx(t,e){const n=new Headers;if(!t||!e||"object"!==typeof e)return n;for(const i in e){const t=e[i];void 0!==t&&n.append(i,t)}return n}function mx(t){var e,n;return null!==(e=null===(n=URL.parse(t))||void 0===n?void 0:n.origin)&&void 0!==e?e:null}function gx(t){let{responseHeaders:e,isHttp:n,rangeChunkSize:i,disableRange:a}=t;const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(e.get("Content-Length"),10);if(!Number.isInteger(r))return s;if(s.suggestedLength=r,r<=2*i)return s;if(a||!n)return s;if("bytes"!==e.get("Accept-Ranges"))return s;return"identity"!==(e.get("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s}function vx(t){const e=t.get("Content-Disposition");if(e){let t=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=r(n);return t=unescape(t),t=o(t),t=l(t),s(t)}if(n=function(t){const e=[];let n;const a=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=a.exec(t));){let[,t,i,a]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[i,a]}const s=[];for(let i=0;i<e.length&&i in e;++i){let[t,n]=e[i];n=r(n),t&&(n=unescape(n),0===i&&(n=o(n))),s.push(n)}return s.join("")}(t),n)return s(l(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=r(n);return t=l(t),s(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function a(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),a=Xd(n);n=i.decode(a),e=!1}catch(i){}}return n}function s(t){return e&&/[\x80-\xff]/.test(t)&&(t=a("utf-8",t),e&&(t=a("iso-8859-1",t))),t}function r(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function o(t){const e=t.indexOf("'");return-1===e?t:a(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(t,e,n,i){if("q"===n||"Q"===n)return i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}),a(e,i);try{i=atob(i)}catch(s){}return a(e,i)})}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(n){}if(uu(t))return t}return null}function bx(t,e){return new Ud("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t,404===t||0===t&&e.startsWith("file:"))}function xx(t){return 200===t||206===t}function yx(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function wx(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Nd("getArrayBuffer - unexpected data format: ".concat(t)),new Uint8Array(t).buffer)}class _x{constructor(t){r(this,"_responseOrigin",null),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=fx(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return Id(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new kx(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Sx(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class kx{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,yx(n,this._withCredentials,this._abortController)).then(e=>{if(t._responseOrigin=mx(e.url),!xx(e.status))throw bx(e.status,i);this._reader=e.body.getReader(),this._headersCapability.resolve();const n=e.headers,{allowRangeRequests:a,suggestedLength:s}=gx({responseHeaders:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=s||this._contentLength,this._filename=vx(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Gd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:wx(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class Sx{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range","bytes=".concat(e,"-").concat(n-1));const s=i.url;fetch(s,yx(a,this._withCredentials,this._abortController)).then(e=>{const n=mx(e.url);if(n!==t._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(t._responseOrigin,'".'));if(!xx(e.status))throw bx(e.status,s);this._readCapability.resolve(),this._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),{value:wx(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class Ax{constructor(t){let{url:e,httpHeaders:n,withCredentials:i}=t;r(this,"_responseOrigin",null),this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=fx(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,s]of this.headers)e.setRequestHeader(a,s);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),i.expectedStatus=206):i.expectedStatus=200,e.responseType="arraybuffer",Id(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var n;const i=this.pendingRequests[t];i&&(null===(n=i.onProgress)||void 0===n||n.call(i,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void n.onError(i.status);const a=i.status||200;if(!(200===a&&206===n.expectedStatus)&&a!==n.expectedStatus)return void n.onError(i.status);const s=function(t){const e=t.response;return"string"!==typeof e?e:Xd(e).buffer}(i);if(206===a){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);e?n.onDone({begin:parseInt(e[1],10),chunk:s}):(Nd('Missing or invalid "Content-Range" header.'),n.onError(0))}else s?n.onDone({begin:0,chunk:s}):n.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Mx{constructor(t){this._source=t,this._manager=new Ax(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Id(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ex(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new Cx(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Ex{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=mx(e.responseURL);const n=e.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(t=>{const[e,...n]=t.split(": ");return[e,n.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=gx({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=vx(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=bx(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Cx{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=mx(null===(t=this._manager.getRequestXhr(this._requestId))||void 0===t?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(e,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}_onDone(t){const e=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){var e;null!==(e=this._storedError)&&void 0!==e||(this._storedError=bx(t,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Tx=/^[a-z][a-z0-9\-+.]+:/i;class Px{constructor(t){this.source=t,this.url=function(t){if(Tx.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}(t.url),Id("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return Id(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Dx(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Rx(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Dx{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(t=>{this._contentLength=t.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},t=>{"ENOENT"===t.code&&(t=bx(0,this._url.href)),this._storedError=t,this._headersCapability.reject(t)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Gd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Rx{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Lx=Symbol("INITIAL_DATA");var Nx=new WeakMap,Ox=new WeakSet;class Ix{constructor(){Vh(this,Ox),Uh(this,Nx,Object.create(null))}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=qh(Ox,this,Fx).call(this,t);return n.promise.then(()=>e(n.data)),null}const n=Yh(Nx,this)[t];if(!n||n.data===Lx)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}has(t){const e=Yh(Nx,this)[t];return!!e&&e.data!==Lx}delete(t){const e=Yh(Nx,this)[t];return!(!e||e.data===Lx)&&(delete Yh(Nx,this)[t],!0)}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=qh(Ox,this,Fx).call(this,t);n.data=e,n.resolve()}clear(){for(const e in Yh(Nx,this)){var t;const{data:n}=Yh(Nx,this)[e];null===n||void 0===n||null===(t=n.bitmap)||void 0===t||t.close()}Xh(Nx,this,Object.create(null))}*[Symbol.iterator](){for(const t in Yh(Nx,this)){const{data:e}=Yh(Nx,this)[t];e!==Lx&&(yield[t,e])}}}function Fx(t){var e;return(e=Yh(Nx,this))[t]||(e[t]=l(l({},Promise.withResolvers()),{},{data:Lx}))}var jx=new WeakMap,zx=new WeakMap,Bx=new WeakMap,Wx=new WeakMap,Hx=new WeakMap,Vx=new WeakMap,Ux=new WeakMap,qx=new WeakMap,Gx=new WeakMap,Yx=new WeakMap,Xx=new WeakMap,Kx=new WeakMap,$x=new WeakMap,Qx=new WeakMap,Jx=new WeakMap,Zx=new WeakMap,ty=new WeakMap,ey=new WeakMap,ny=new WeakSet;class iy{constructor(t){var e;let{textContentSource:n,container:i,viewport:a}=t;if(Vh(this,ny),Uh(this,jx,Promise.withResolvers()),Uh(this,zx,null),Uh(this,Bx,!1),Uh(this,Wx,!(null===(e=globalThis.FontInspector)||void 0===e||!e.enabled)),Uh(this,Hx,null),Uh(this,Vx,null),Uh(this,Ux,0),Uh(this,qx,0),Uh(this,Gx,null),Uh(this,Yx,null),Uh(this,Xx,0),Uh(this,Kx,0),Uh(this,$x,Object.create(null)),Uh(this,Qx,[]),Uh(this,Jx,null),Uh(this,Zx,[]),Uh(this,ty,new WeakMap),Uh(this,ey,null),n instanceof ReadableStream)Xh(Jx,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');Xh(Jx,this,new ReadableStream({start(t){t.enqueue(n),t.close()}}))}Xh(zx,this,Xh(Yx,this,i)),Xh(Kx,this,a.scale*ku.pixelRatio),Xh(Xx,this,a.rotation),Xh(Vx,this,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:o,pageY:l}=a.rawDims;Xh(ey,this,[1,0,0,-1,-o,l+r]),Xh(qx,this,s),Xh(Ux,this,r),cy.call(iy),_u(i,a),Yh(jx,this).promise.finally(()=>{my._.delete(this),Xh(Vx,this,null),Xh($x,this,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Kd.platform;return zd(this,"fontFamilyMap",new Map([["sans-serif","".concat(t&&e?"Calibri, ":"","sans-serif")],["monospace","".concat(t&&e?"Lucida Console, ":"","monospace")]]))}render(){const t=()=>{Yh(Gx,this).read().then(e=>{var n;let{value:i,done:a}=e;a?Yh(jx,this).resolve():(null!==(n=Yh(Hx,this))&&void 0!==n||Xh(Hx,this,i.lang),Object.assign(Yh($x,this),i.styles),qh(ny,this,ay).call(this,i.items),t())},Yh(jx,this).reject)};return Xh(Gx,this,Yh(Jx,this).getReader()),my._.add(this),t(),Yh(jx,this).promise}update(t){let{viewport:e,onBefore:n=null}=t;const i=e.scale*ku.pixelRatio,a=e.rotation;if(a!==Yh(Xx,this)&&(null===n||void 0===n||n(),Xh(Xx,this,a),_u(Yh(Yx,this),{rotation:a})),i!==Yh(Kx,this)){null===n||void 0===n||n(),Xh(Kx,this,i);const t={div:null,properties:null,ctx:oy.call(iy,Yh(Hx,this))};for(const e of Yh(Zx,this))t.properties=Yh(ty,this).get(e),t.div=e,qh(ny,this,ry).call(this,t)}}cancel(){var t;const e=new Gd("TextLayer task cancelled.");null===(t=Yh(Gx,this))||void 0===t||t.cancel(e).catch(()=>{}),Xh(Gx,this,null),Yh(jx,this).reject(e)}get textDivs(){return Yh(Zx,this)}get textContentItemsStr(){return Yh(Qx,this)}static cleanup(){if(!(qh(iy,this,my)._.size>0)){qh(iy,this,dy)._.clear();for(const{canvas:t}of qh(iy,this,uy)._.values())t.remove();qh(iy,this,uy)._.clear()}}}function ay(t){var e,n;if(Yh(Bx,this))return;null!==(n=(e=Yh(Vx,this)).ctx)&&void 0!==n||(e.ctx=oy.call(Th,Yh(Hx,this)));const i=Yh(Zx,this),a=Yh(Qx,this);for(const s of t){if(i.length>1e5)return Nd("Ignoring additional textDivs for performance reasons."),void Xh(Bx,this,!0);if(void 0!==s.str)a.push(s.str),qh(ny,this,sy).call(this,s);else if("beginMarkedContentProps"===s.type||"beginMarkedContent"===s.type){const t=Yh(zx,this);Xh(zx,this,document.createElement("span")),Yh(zx,this).classList.add("markedContent"),s.id&&Yh(zx,this).setAttribute("id","".concat(s.id)),t.append(Yh(zx,this))}else"endMarkedContent"===s.type&&Xh(zx,this,Yh(zx,this).parentNode)}}function sy(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};Yh(Zx,this).push(e);const i=Qd.transform(Yh(ey,this),t.transform);let a=Math.atan2(i[1],i[0]);const s=Yh($x,this)[t.fontName];s.vertical&&(a+=Math.PI/2);let r=Yh(Wx,this)&&s.fontSubstitution||s.fontFamily;r=Th.fontFamilyMap.get(r)||r;const o=Math.hypot(i[2],i[3]),l=o*hy.call(Th,r,s,Yh(Hx,this));let c,h;0===a?(c=i[4],h=i[5]-l):(c=i[4]+l*Math.sin(a),h=i[5]-l*Math.cos(a));const d="calc(var(--total-scale-factor) *",u=e.style;Yh(zx,this)===Yh(Yx,this)?(u.left="".concat((100*c/Yh(qx,this)).toFixed(2),"%"),u.top="".concat((100*h/Yh(Ux,this)).toFixed(2),"%")):(u.left="".concat(d).concat(c.toFixed(2),"px)"),u.top="".concat(d).concat(h.toFixed(2),"px)")),u.fontSize="".concat(d).concat((fy._*o).toFixed(2),"px)"),u.fontFamily=r,n.fontSize=o,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,Yh(Wx,this)&&(e.dataset.fontName=s.fontSubstitutionLoadedName||t.fontName),0!==a&&(n.angle=a*(180/Math.PI));let p=!1;if(t.str.length>1)p=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=s.vertical?t.height:t.width),Yh(ty,this).set(e,n),Yh(Vx,this).div=e,Yh(Vx,this).properties=n,qh(ny,this,ry).call(this,Yh(Vx,this)),n.hasText&&Yh(zx,this).append(e),n.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),Yh(zx,this).append(t)}}function ry(t){const{div:e,properties:n,ctx:i}=t,{style:a}=e;let s="";if(fy._>1&&(s="scale(".concat(1/fy._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:t}=a,{canvasWidth:r,fontSize:o}=n;ly.call(Th,i,o*Yh(Kx,this),t);const{width:l}=i.measureText(e.textContent);l>0&&(s="scaleX(".concat(r*Yh(Kx,this)/l,") ").concat(s))}0!==n.angle&&(s="rotate(".concat(n.angle,"deg) ").concat(s)),s.length>0&&(a.transform=s)}function oy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=qh(Th,this,uy)._.get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),qh(Th,this,uy)._.set(t,e),qh(Th,this,py)._.set(e,{size:0,family:""})}return e}function ly(t,e,n){const i=qh(Th,this,py)._.get(t);e===i.size&&n===i.family||(t.font="".concat(e,"px ").concat(n),i.size=e,i.family=n)}function cy(){if(null!==qh(Th,this,fy)._)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),fy._=qh(Th,this,t.getBoundingClientRect().height),t.remove()}function hy(t,e,n){const i=qh(Th,this,dy)._.get(t);if(i)return i;const a=qh(Th,this,oy).call(this,n);a.canvas.width=a.canvas.height=30,qh(Th,this,ly).call(this,a,30,t);const s=a.measureText(""),r=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let l=.8;return r?l=r/(r+o):(Kd.platform.isFirefox&&Nd("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?l=e.ascent:e.descent&&(l=1+e.descent)),qh(Th,this,dy)._.set(t,l),l}Th=iy;var dy={_:new Map},uy={_:new Map},py={_:new WeakMap},fy={_:null},my={_:new Set};class gy{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){var i;if(!n)return;let a=null;const s=n.name;if("#text"===s)a=n.value;else{if(!gy.shouldBuildText(s))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?a=n.attributes.textContent:n.value&&(a=n.value)}if(null!==a&&e.push({str:a}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}function vy(){var t,e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const i=new by,{docId:a}=i,s=n.url?function(t){if(t instanceof URL)return t.href;if("string"===typeof t){if($h)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,r=n.data?function(t){if($h&&"undefined"!==typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"===typeof t)return Xd(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===typeof t&&!isNaN(null===t||void 0===t?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,o=n.httpHeaders||null,l=!0===n.withCredentials,c=null!==(t=n.password)&&void 0!==t?t:null,h=n.range instanceof Ay?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let u=n.worker instanceof Iy?n.worker:null;const p=n.verbosity,f="string"!==typeof n.docBaseUrl||du(n.docBaseUrl)?null:n.docBaseUrl,m=Cg(n.cMapUrl),g=!1!==n.cMapPacked,v=n.CMapReaderFactory||($h?Lv:iv),b=Cg(n.iccUrl),x=Cg(n.standardFontDataUrl),y=n.StandardFontDataFactory||($h?Nv:Ev),w=Cg(n.wasmUrl),_=n.WasmFactory||($h?Ov:Tv),k=!0!==n.stopAtErrors,S=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,A=!1!==n.isEvalSupported,M="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!$h,E="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!$h&&(Kd.platform.isFirefox||!globalThis.chrome),C=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T="boolean"===typeof n.disableFontFace?n.disableFontFace:$h,P=!0===n.fontExtraProperties,D=!0===n.enableXfa,R=n.ownerDocument||globalThis.document,L=!0===n.disableRange,N=!0===n.disableStream,O=!0===n.disableAutoFetch,I=!0===n.pdfBug,F=n.CanvasFactory||($h?Rv:ev),j=n.FilterFactory||($h?Dv:pv),z=!0===n.enableHWA,B=!1!==n.useWasm,W=h?h.length:null!==(e=n.length)&&void 0!==e?e:NaN,H="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!$h&&!T,V="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:!!(v===iv&&y===Ev&&_===Tv&&m&&x&&w&&fu(m,document.baseURI)&&fu(x,document.baseURI)&&fu(w,document.baseURI));Dd(p);const U={canvasFactory:new F({ownerDocument:R,enableHWA:z}),filterFactory:new j({docId:a,ownerDocument:R}),cMapReaderFactory:V?null:new v({baseUrl:m,isCompressed:g}),standardFontDataFactory:V?null:new y({baseUrl:x}),wasmFactory:V?null:new _({baseUrl:w})};u||(u=Iy.create({verbosity:p,port:Gb.workerPort}),i._worker=u);const q={docId:a,apiVersion:"5.4.149",data:r,password:c,disableAutoFetch:O,rangeChunkSize:d,length:W,docBaseUrl:f,enableXfa:D,evaluatorOptions:{maxImageSize:S,disableFontFace:T,ignoreErrors:k,isEvalSupported:A,isOffscreenCanvasSupported:M,isImageDecoderSupported:E,canvasMaxAreaInBytes:C,fontExtraProperties:P,useSystemFonts:H,useWasm:B,useWorkerFetch:V,cMapUrl:m,iccUrl:b,standardFontDataUrl:x,wasmUrl:w}},G={ownerDocument:R,pdfBug:I,styleElement:null,loadingParams:{disableAutoFetch:O,enableXfa:D}};return u.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const t=u.messageHandler.sendWithPromise("GetDocRequest",q,r?[r.buffer]:null);let e;if(h)e=new dx(h,{disableRange:L,disableStream:N});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");const t=fu(s)?_x:$h?Px:Mx;e=new t({url:s,length:W,httpHeaders:o,withCredentials:l,rangeChunkSize:d,disableRange:L,disableStream:N})}return t.then(t=>{if(i.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const n=new Xg(a,t,u.port),s=new Qy(n,i,e,G,U,z);i._transport=s,n.send("Ready",null)})}).catch(i._capability.reject),i}class by{constructor(){r(this,"_capability",Promise.withResolvers()),r(this,"_transport",null),r(this,"_worker",null),r(this,"docId","d".concat((xy._=(Ph=xy._,Dh=Ph++,Ph),Dh))),r(this,"destroyed",!1),r(this,"onPassword",null),r(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t;this.destroyed=!0;try{var e,n;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(n=this._transport)||void 0===n?void 0:n.destroy())}catch(a){var i;throw null!==(i=this._worker)&&void 0!==i&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,null===(t=this._worker)||void 0===t||t.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var xy={_:0},yy=new WeakMap,wy=new WeakMap,_y=new WeakMap,ky=new WeakMap,Sy=new WeakMap;class Ay{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Uh(this,yy,Promise.withResolvers()),Uh(this,wy,[]),Uh(this,_y,[]),Uh(this,ky,[]),Uh(this,Sy,[]),this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(t){Yh(Sy,this).push(t)}addProgressListener(t){Yh(ky,this).push(t)}addProgressiveReadListener(t){Yh(_y,this).push(t)}addProgressiveDoneListener(t){Yh(wy,this).push(t)}onDataRange(t,e){for(const n of Yh(Sy,this))n(t,e)}onDataProgress(t,e){Yh(yy,this).promise.then(()=>{for(const n of Yh(ky,this))n(t,e)})}onDataProgressiveRead(t){Yh(yy,this).promise.then(()=>{for(const e of Yh(_y,this))e(t)})}onDataProgressiveDone(){Yh(yy,this).promise.then(()=>{for(const t of Yh(wy,this))t()})}transportReady(){Yh(yy,this).resolve()}requestDataRange(t,e){Od("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class My{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return zd(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ey=new WeakMap,Cy=new WeakSet;class Ty{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Vh(this,Cy),Uh(this,Ey,!1),this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new pu:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Ix,this._intentStates=new Map,this.destroyed=!1,this.recordedGroups=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new cu({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:a})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return zd(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null}render(t){var e,n,i;let{canvasContext:a,canvas:s=a.canvas,viewport:r,intent:o="display",annotationMode:l=od.ENABLE,transform:c=null,background:h=null,optionalContentConfigPromise:d=null,annotationCanvasMap:u=null,pageColors:p=null,printAnnotationStorage:f=null,isEditing:m=!1,recordOperations:g=!1,filteredOperationIndexes:v=null}=t;null===(e=this._stats)||void 0===e||e.time("Overall");const b=this._transport.getRenderingIntent(o,l,f,m),{renderingIntent:x,cacheKey:y}=b;Xh(Ey,this,!1),d||(d=this._transport.getOptionalContentConfig(x));let w=this._intentStates.get(y);w||(w=Object.create(null),this._intentStates.set(y,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const _=!!(x&ed);var k;w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(k=this._stats)||void 0===k||k.time("Page Request"),this._pumpOperatorList(b));const S=!this.recordedGroups&&(g||this._pdfBug&&(null===(n=globalThis.StepperManager)||void 0===n?void 0:n.enabled)),A=t=>{if(w.renderTasks.delete(M),S){var e;const t=null===(e=M.gfx)||void 0===e?void 0:e.dependencyTracker.take();var n;if(t)null===(n=M.stepper)||void 0===n||n.setOperatorGroups(t),g&&(this.recordedGroups=t);else g&&(this.recordedGroups=[])}var i;(_&&Xh(Ey,this,!0),qh(Cy,this,Py).call(this),t?(M.capability.reject(t),this._abortOperatorList({intentState:w,reason:t instanceof Error?t:new Error(t)})):M.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(i=globalThis.Stats)&&void 0!==i&&i.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new nw({callback:A,params:{canvas:s,canvasContext:a,dependencyTracker:S?new Qv(s):null,viewport:r,transform:c,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,filteredOperationIndexes:v});((i=w).renderTasks||(i.renderTasks=new Set)).add(M);const E=M.task;return Promise.all([w.displayReadyCapability.promise,d]).then(t=>{var e;let[n,i]=t;if(this.destroyed)A();else{if(null===(e=this._stats)||void 0===e||e.time("Rendering"),!(i.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:n,optionalContentConfig:i}),M.operatorListChanged()}}).catch(A),E}getOperatorList(){let{intent:t="display",annotationMode:e=od.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=this._transport.getRenderingIntent(t,e,n,i,!0);let s,r=this._intentStates.get(a.cacheKey);var o,l;(r||(r=Object.create(null),this._intentStates.set(a.cacheKey,r)),r.opListReadCapability)||(s=Object.create(null),s.operatorListChanged=function(){r.operatorList.lastChunk&&(r.opListReadCapability.resolve(r.operatorList),r.renderTasks.delete(s))},r.opListReadCapability=Promise.withResolvers(),((o=r).renderTasks||(o.renderTasks=new Set)).add(s),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(a));return r.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:t=!1,disableNormalization:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(t=>gy.textContent(t));const e=this.streamTextContent(t);return new Promise(function(t,n){const i=e.getReader(),a={items:[],styles:Object.create(null),lang:null};!function e(){i.read().then(function(n){var i;let{value:s,done:r}=n;r?t(a):(null!==(i=a.lang)&&void 0!==i||(a.lang=s.lang),Object.assign(a.styles,s.styles),a.items.push(...s.items),e())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),Xh(Ey,this,!1),Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Xh(Ey,this,!0);const e=qh(Cy,this,Py).call(this);return t&&e&&this._stats&&(this._stats=new pu),e}_startRenderPage(t,e){var n,i;const a=this._intentStates.get(e);a&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(i=a.displayReadyCapability)||void 0===i||i.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&qh(Cy,this,Py).call(this)}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:a}=t;const{map:s,transfer:r}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:a},r).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then(t=>{let{value:e,done:n}=t;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,l),c())},t=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const t of l.renderTasks)t.operatorListChanged();qh(Cy,this,Py).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(t);else{if(!l.opListReadCapability)throw t;l.opListReadCapability.reject(t)}}})};c()}_abortOperatorList(t){let{intentState:e,reason:n,force:i=!1}=t;if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof hu){let t=100;return n.extraDelay>0&&n.extraDelay<1e3&&(t+=n.extraDelay),void(e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},t))}}if(e.streamReader.cancel(new Gd(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}function Py(){if(!Yh(Ey,this)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Xh(Ey,this,!1),!0}var Dy=new WeakMap,Ry=new WeakMap,Ly=new WeakMap,Ny=new WeakMap,Oy=new WeakSet;class Iy{constructor(){let{name:t=null,port:e=null,verbosity:n=Rd()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Vh(this,Oy),Uh(this,Dy,Promise.withResolvers()),Uh(this,Ry,null),Uh(this,Ly,null),Uh(this,Ny,null),this.name=t,this.destroyed=!1,this.verbosity=n,e){if(Uy._.has(e))throw new Error("Cannot use more than one PDFWorker per port.");Uy._.set(e,this),qh(Oy,this,jy).call(this,e)}else qh(Oy,this,zy).call(this)}get promise(){return Yh(Dy,this).promise}get port(){return Yh(Ly,this)}get messageHandler(){return Yh(Ry,this)}destroy(){var t,e;this.destroyed=!0,null===(t=Yh(Ny,this))||void 0===t||t.terminate(),Xh(Ny,this,null),Uy._.delete(Yh(Ly,this)),Xh(Ly,this,null),null===(e=Yh(Ry,this))||void 0===e||e.destroy(),Xh(Ry,this,null)}static create(t){const e=qh(Iy,this,Uy)._.get(null===t||void 0===t?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Iy(t)}static get workerSrc(){if(Gb.workerSrc)return Gb.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return zd(this,"_setupFakeWorkerGlobal",(async()=>{if(Gh(Iy,this,Wy))return Gh(Iy,this,Wy);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function Fy(){Yh(Dy,this).resolve(),Yh(Ry,this).send("configure",{verbosity:this.verbosity})}function jy(t){Xh(Ly,this,t),Xh(Ry,this,new Xg("main","worker",t)),Yh(Ry,this).on("ready",()=>{}),qh(Oy,this,Fy).call(this)}function zy(){if(Vy._||Wy(Rh))return void qh(Oy,this,By).call(this);let{workerSrc:t}=Rh;try{Rh._isSameOrigin(window.location,t)||(t=Rh._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Xg("main","worker",e),i=()=>{a.abort(),n.destroy(),e.terminate(),this.destroyed?Yh(Dy,this).reject(new Error("Worker was destroyed")):qh(Oy,this,By).call(this)},a=new AbortController;e.addEventListener("error",()=>{Yh(Ny,this)||i()},{signal:a.signal}),n.on("test",t=>{a.abort(),!this.destroyed&&t?(Xh(Ry,this,n),Xh(Ly,this,e),Xh(Ny,this,e),qh(Oy,this,Fy).call(this)):i()}),n.on("ready",t=>{if(a.abort(),this.destroyed)i();else try{s()}catch(e){qh(Oy,this,By).call(this)}});const s=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void s()}catch(e){Ld("The worker has been disabled.")}qh(Oy,this,By).call(this)}function By(){Vy._||(Nd("Setting up fake worker."),Vy._=!0),Rh._setupFakeWorkerGlobal.then(t=>{var e,n;if(this.destroyed)return void Yh(Dy,this).reject(new Error("Worker was destroyed"));const i=new Lg;Xh(Ly,this,i);const a="fake".concat((Hy._=(e=Hy._,n=e++,e),n)),s=new Xg(a+"_worker",a,i);t.setup(s,i),Xh(Ry,this,new Xg(a,a+"_worker",i)),qh(Oy,this,Fy).call(this)}).catch(t=>{Yh(Dy,this).reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}function Wy(t){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(n){return null}}Rh=Iy;var Hy={_:0},Vy={_:!1},Uy={_:new WeakMap};$h&&(Vy._=qh(Rh,Rh,!0),Gb.workerSrc||(Gb.workerSrc="./pdf.worker.mjs")),Rh._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(null===n||void 0===n||!n.origin||"null"===n.origin)return!1;const i=new URL(e,n);return n.origin===i.origin},Rh._createCDNWrapper=t=>{const e='await import("'.concat(t,'");');return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Rh.fromPort=t=>{var e;if(e="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+e),null===t||void 0===t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Rh.create(t)};var qy=new WeakMap,Gy=new WeakMap,Yy=new WeakMap,Xy=new WeakMap,Ky=new WeakMap,$y=new WeakSet;class Qy{constructor(t,e,n,i,a,s){Vh(this,$y),Uh(this,qy,new Map),Uh(this,Gy,new Map),Uh(this,Yy,new Map),Uh(this,Xy,new Map),Uh(this,Ky,null),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Ix,this.fontLoader=new Mg({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}get annotationStorage(){return zd(this,"annotationStorage",new wg)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:od.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=td,r=gg;switch(t){case"any":s=Zh;break;case"display":break;case"print":s=ed;break;default:Nd("getRenderingIntent - invalid intent: ".concat(t))}const o=s&ed&&n instanceof Sg?n:this.annotationStorage;switch(e){case od.DISABLE:s+=ad;break;case od.ENABLE:break;case od.ENABLE_FORMS:s+=nd;break;case od.ENABLE_STORAGE:s+=id,r=o.serializable;break;default:Nd("getRenderingIntent - invalid annotationMode: ".concat(e))}i&&(s+=sd),a&&(s+=rd);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:s,cacheKey:[s,r.hash,c].join("_"),annotationStorageSerializable:r,modifiedIds:l}}destroy(){var t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(t=Yh(Ky,this))||void 0===t||t.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of Yh(Gy,this).values())e.push(i._destroy());Yh(Gy,this).clear(),Yh(Yy,this).clear(),Yh(Xy,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var t,e;this.commonObjs.clear(),this.fontLoader.clear(),Yh(qy,this).clear(),this.filterFactory.destroy(),iy.cleanup(),null===(t=this._networkStream)||void 0===t||t.cancelAllRequests(new Gd("Worker was terminated.")),null===(e=this.messageHandler)||void 0===e||e.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(t,e)=>{Id(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then(function(t){let{value:n,done:i}=t;i?e.close():(Id(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))}).catch(t=>{e.error(t)})},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch(t=>{if(!this.destroyed)throw t})}}),t.on("ReaderHeadersReady",async t=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:a}=this._fullReader;if(!n||!i){var s;if(this._lastProgress)null===(s=e.onProgress)||void 0===s||s.call(e,this._lastProgress);this._fullReader.onProgress=t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})}}return{isStreamingSupported:n,isRangeSupported:i,contentLength:a}}),t.on("GetRangeReader",(t,e)=>{Id(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then(function(t){let{value:n,done:i}=t;i?e.close():(Id(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))}).catch(t=>{e.error(t)})},e.onCancel=t=>{n.cancel(t),e.ready.catch(t=>{if(!this.destroyed)throw t})}):e.close()}),t.on("GetDoc",t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new My(n,this))}),t.on("DocException",t=>{e._capability.reject(qg(t))}),t.on("PasswordRequest",t=>{Xh(Ky,this,Promise.withResolvers());try{if(!e.onPassword)throw qg(t);const n=t=>{t instanceof Error?Yh(Ky,this).reject(t):Yh(Ky,this).resolve({password:t})};e.onPassword(n,t.code)}catch(n){Yh(Ky,this).reject(n)}return Yh(Ky,this).promise}),t.on("DataLoaded",t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),t.on("StartRenderPage",t=>{if(this.destroyed)return;Yh(Gy,this).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)}),t.on("commonobj",e=>{var n;let[i,a,s]=e;if(this.destroyed)return null;if(this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in s){const t=s.error;Nd("Error during font loading: ".concat(t)),this.commonObjs.resolve(i,t);break}const e=this._params.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,r=new Eg(s,e);this.fontLoader.bind(r).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!r.fontExtraProperties&&r.data&&(r.data=null),this.commonObjs.resolve(i,r)});break;case"CopyLocalImage":const{imageRef:o}=s;Id(o,"The imageRef must be defined.");for(const t of Yh(Gy,this).values())for(const[,e]of t.objs)if((null===e||void 0===e?void 0:e.ref)===o)return e.dataLen?(this.commonObjs.resolve(i,structuredClone(e)),e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error("Got unknown common object type ".concat(a))}return null}),t.on("obj",t=>{let[e,n,i,a]=t;if(this.destroyed)return;const s=Yh(Gy,this).get(n);var r;if(!s.objs.has(e))if(0!==s._intentStates.size)switch(i){case"Image":case"Pattern":s.objs.resolve(e,a);break;default:throw new Error("Got unknown object type ".concat(i))}else null===a||void 0===a||null===(r=a.bitmap)||void 0===r||r.close()}),t.on("DocProgress",t=>{var n;this.destroyed||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})}),t.on("FetchBinaryData",async t=>{if(this.destroyed)throw new Error("Worker was destroyed.");const e=this[t.type];if(!e)throw new Error("".concat(t.type," not initialized, see the `useWorkerFetch` parameter."));return e.fetch(t)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var t,e;this.annotationStorage.size<=0&&Nd("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=Yh(Yy,this).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&Yh(Xy,this).set(n.refStr,t);const i=new Ty(e,n,this,this._params.pdfBug);return Yh(Gy,this).set(e,i),i});return Yh(Yy,this).set(e,i),i}getPageIndex(t){return Tg(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return qh($y,this,Jy).call(this,"GetFieldObjects")}hasJSActions(){return qh($y,this,Jy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return qh($y,this,Jy).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return qh($y,this,Jy).call(this,"GetOptionalContentConfig").then(e=>new cx(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=Yh(qy,this).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(t=>{var e,n,i,a;return{info:t[0],metadata:t[1]?new Qb(t[1]):null,contentDispositionFilename:null!==(e=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==e?e:null,contentLength:null!==(i=null===(a=this._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==i?i:null}});return Yh(qy,this).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of Yh(Gy,this).values()){if(!t.cleanup())throw new Error("startCleanup: Page ".concat(t.pageNumber," is currently rendering."))}this.commonObjs.clear(),t||this.fontLoader.clear(),Yh(qy,this).clear(),this.filterFactory.destroy(!0),iy.cleanup()}}cachedPageNumber(t){var e;if(!Tg(t))return null;const n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return null!==(e=Yh(Xy,this).get(n))&&void 0!==e?e:null}}function Jy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Yh(qy,this).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return Yh(qy,this).set(t,i),i}var Zy=new WeakMap;class tw{constructor(t){Uh(this,Zy,null),r(this,"onContinue",null),r(this,"onError",null),Xh(Zy,this,t)}get promise(){return Yh(Zy,this).capability.promise}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Yh(Zy,this).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=Yh(Zy,this).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=Yh(Zy,this);return t.form||t.canvas&&(null===e||void 0===e?void 0:e.size)>0}}var ew=new WeakMap;class nw{constructor(t){let{callback:e,params:n,objs:i,commonObjs:a,annotationCanvasMap:s,operatorList:r,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:u=null,enableHWA:p=!1,filteredOperationIndexes:f=null}=t;Uh(this,ew,null),this.callback=e,this.params=n,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new tw(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._filteredOperationIndexes=f}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(t){var e,n;let{transparency:i=!1,optionalContentConfig:a}=t;if(this.cancelled)return;if(this._canvas){if(iw._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");iw._.add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:s,transform:r,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Hb(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:a},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:s,transparency:i,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var t,e,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),Yh(ew,this)&&(window.cancelAnimationFrame(Yh(ew,this)),Xh(ew,this,null)),iw._.delete(this._canvas),i||(i=new hu("Rendering cancelled, page ".concat(this._pageIndex+1),a)),this.callback(i),null===(e=(n=this.task).onError)||void 0===e||e.call(n,i)}operatorListChanged(){var t;this.graphicsReady?(null===(t=this.stepper)||void 0===t||t.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Xh(ew,this,window.requestAnimationFrame(()=>{Xh(ew,this,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._filteredOperationIndexes),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),iw._.delete(this._canvas),this.callback())))}}var iw={_:new WeakSet};var aw=new WeakMap,sw=new WeakMap,rw=new WeakMap,ow=new WeakMap,lw=new WeakMap,cw=new WeakMap,hw=new WeakMap,dw=new WeakMap,uw=new WeakMap,pw=new WeakMap,fw=new WeakSet;class mw{static get _keyboardManager(){return zd(this,"_keyboardManager",new cp([[["Escape","mac+Escape"],mw.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],mw.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],mw.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],mw.prototype._moveToPrevious],[["Home","mac+Home"],mw.prototype._moveToBeginning],[["End","mac+End"],mw.prototype._moveToEnd]]))}constructor(t){var e,n;let{editor:i=null,uiManager:a=null}=t;Vh(this,fw),Uh(this,aw,null),Uh(this,sw,null),Uh(this,rw,void 0),Uh(this,ow,null),Uh(this,lw,!1),Uh(this,cw,!1),Uh(this,hw,null),Uh(this,dw,void 0),Uh(this,uw,null),Uh(this,pw,null),i?(Xh(cw,this,!1),Xh(hw,this,i)):Xh(cw,this,!0),Xh(pw,this,(null===i||void 0===i?void 0:i._uiManager)||a),Xh(dw,this,Yh(pw,this)._eventBus),Xh(rw,this,(null===i||void 0===i||null===(e=i.color)||void 0===e?void 0:e.toUpperCase())||(null===(n=Yh(pw,this))||void 0===n?void 0:n.highlightColors.values().next().value)||"#FFFF98"),_w._||(_w._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const t=Xh(aw,this,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",Yh(hw,this)&&(t.ariaControls="".concat(Yh(hw,this).id,"_colorpicker_dropdown"));const e=Yh(pw,this)._signal;t.addEventListener("click",qh(fw,this,xw).bind(this),{signal:e}),t.addEventListener("keydown",qh(fw,this,bw).bind(this),{signal:e});const n=Xh(sw,this,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=Yh(rw,this),t.append(n),t}renderMainDropdown(){const t=Xh(ow,this,qh(fw,this,gw).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===Yh(aw,this))return void qh(fw,this,xw).call(this,t);const e=t.target.getAttribute("data-color");e&&qh(fw,this,vw).call(this,e,t)}_moveToNext(t){var e,n;Gh(fw,this,ww)?t.target!==Yh(aw,this)?null===(e=t.target.nextSibling)||void 0===e||e.focus():null===(n=Yh(ow,this).firstChild)||void 0===n||n.focus():qh(fw,this,xw).call(this,t)}_moveToPrevious(t){var e,n;t.target!==(null===(e=Yh(ow,this))||void 0===e?void 0:e.firstChild)&&t.target!==Yh(aw,this)?(Gh(fw,this,ww)||qh(fw,this,xw).call(this,t),null===(n=t.target.previousSibling)||void 0===n||n.focus()):Gh(fw,this,ww)&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){var e;Gh(fw,this,ww)?null===(e=Yh(ow,this).firstChild)||void 0===e||e.focus():qh(fw,this,xw).call(this,t)}_moveToEnd(t){var e;Gh(fw,this,ww)?null===(e=Yh(ow,this).lastChild)||void 0===e||e.focus():qh(fw,this,xw).call(this,t)}hideDropdown(){var t,e;null===(t=Yh(ow,this))||void 0===t||t.classList.add("hidden"),Yh(aw,this).ariaExpanded="false",null===(e=Yh(uw,this))||void 0===e||e.abort(),Xh(uw,this,null)}_hideDropdownFromKeyboard(){var t;Yh(cw,this)||(Gh(fw,this,ww)?(this.hideDropdown(),Yh(aw,this).focus({preventScroll:!0,focusVisible:Yh(lw,this)})):null===(t=Yh(hw,this))||void 0===t||t.unselect())}updateColor(t){if(Yh(sw,this)&&(Yh(sw,this).style.backgroundColor=t),!Yh(ow,this))return;const e=Yh(pw,this).highlightColors.values();for(const n of Yh(ow,this).children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;null===(t=Yh(aw,this))||void 0===t||t.remove(),Xh(aw,this,null),Xh(sw,this,null),null===(e=Yh(ow,this))||void 0===e||e.remove(),Xh(ow,this,null)}}function gw(){const t=document.createElement("div"),e=Yh(pw,this)._signal;t.addEventListener("contextmenu",mu,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),Yh(hw,this)&&(t.id="".concat(Yh(hw,this).id,"_colorpicker_dropdown"));for(const[n,i]of Yh(pw,this).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=n,a.setAttribute("data-l10n-id",_w._[n]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.ariaSelected=i===Yh(rw,this),a.addEventListener("click",qh(fw,this,vw).bind(this,i),{signal:e}),t.append(a)}return t.addEventListener("keydown",qh(fw,this,bw).bind(this),{signal:e}),t}function vw(t,e){e.stopPropagation(),Yh(dw,this).dispatch("switchannotationeditorparams",{source:this,type:hd.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}function bw(t){Lh._keyboardManager.exec(this,t)}function xw(t){if(Gh(fw,this,ww))return void this.hideDropdown();if(Xh(lw,this,0===t.detail),Yh(uw,this)||(Xh(uw,this,new AbortController),window.addEventListener("pointerdown",qh(fw,this,yw).bind(this),{signal:Yh(pw,this).combinedSignal(Yh(uw,this))})),Yh(aw,this).ariaExpanded="true",Yh(ow,this))return void Yh(ow,this).classList.remove("hidden");const e=Xh(ow,this,qh(fw,this,gw).call(this));Yh(aw,this).append(e)}function yw(t){var e;null!==(e=Yh(ow,this))&&void 0!==e&&e.contains(t.target)||this.hideDropdown()}function ww(t){return Yh(ow,t)&&!Yh(ow,t).classList.contains("hidden")}Lh=mw;var _w={_:null},kw=new WeakMap,Sw=new WeakMap,Aw=new WeakMap;class Mw{constructor(t){Uh(this,kw,null),Uh(this,Sw,null),Uh(this,Aw,null),Xh(Sw,this,t),Xh(Aw,this,t._uiManager),Ew._||(Ew._=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(Yh(kw,this))return Yh(kw,this);const{editorType:t,colorType:e,colorValue:n}=Yh(Sw,this),i=Xh(kw,this,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Ew._[t]),i.addEventListener("input",()=>{Yh(Aw,this).updateParams(e,i.value)},{signal:Yh(Aw,this)._signal}),i}update(t){Yh(kw,this)&&(Yh(kw,this).value=t)}destroy(){var t;null===(t=Yh(kw,this))||void 0===t||t.remove(),Xh(kw,this,null)}hideDropdown(){}}var Ew={_:null};function Cw(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function Tw(t){return Math.max(0,Math.min(255,255*t))}class Pw{static CMYK_G(t){let[e,n,i,a]=t;return["G",1-Math.min(1,.3*e+.59*i+.11*n+a)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_rgb(t){let[e]=t;return e=Tw(e),[e,e,e]}static G_HTML(t){let[e]=t;const n=Cw(e);return"#".concat(n).concat(n).concat(n)}static RGB_G(t){let[e,n,i]=t;return["G",.3*e+.59*n+.11*i]}static RGB_rgb(t){return t.map(Tw)}static RGB_HTML(t){return"#".concat(t.map(Cw).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(t){let[e,n,i,a]=t;return["RGB",1-Math.min(1,e+a),1-Math.min(1,i+a),1-Math.min(1,n+a)]}static CMYK_rgb(t){let[e,n,i,a]=t;return[Tw(1-Math.min(1,e+a)),Tw(1-Math.min(1,i+a)),Tw(1-Math.min(1,n+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,i]=t;const a=1-e,s=1-n,r=1-i;return["CMYK",a,s,r,Math.min(a,s,r)]}}class Dw{create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width","".concat(t,"px")),i.setAttribute("height","".concat(e,"px"))),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),i}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Od("Abstract method `_createSVG` called.")}}class Rw extends Dw{_createSVG(t){return document.createElementNS(ru,t)}}class Lw{static setupStorage(t,e,n,i,a){const s=i.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(t.textContent=s.value),"print"===a)break;t.addEventListener("input",t=>{i.setValue(e,{value:t.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?t.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===a)break;t.addEventListener("change",t=>{i.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})})}else{if(null!==s.value&&t.setAttribute("value",s.value),"print"===a)break;t.addEventListener("input",t=>{i.setValue(e,{value:t.target.value})})}break;case"select":if(null!==s.value){t.setAttribute("value",s.value);for(const t of n.children)t.attributes.value===s.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",t=>{const n=t.target.options,a=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(e,{value:a})})}}static setAttributes(t){let{html:e,element:n,storage:i=null,intent:a,linkService:s}=t;const{attributes:r}=n,o=e instanceof HTMLAnchorElement;"radio"===r.type&&(r.name="".concat(r.name,"-").concat(a));for(const[l,c]of Object.entries(r))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(e,r.dataId,n,i)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,a=t.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:n});const r="richText"!==a,o=t.div;if(o.append(s),t.viewport){const e="matrix(".concat(t.viewport.transform.join(","),")");o.style.transform=e}r&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const t=document.createTextNode(i.value);s.append(t),r&&gy.shouldBuildText(i.name)&&l.push(t)}return{textDivs:l}}const c=[[i,-1,s]];for(;c.length>0;){var h,d;const[t,i,s]=c.at(-1);if(i+1===t.children.length){c.pop();continue}const o=t.children[++c.at(-1)[1]];if(null===o)continue;const{name:u}=o;if("#text"===u){const t=document.createTextNode(o.value);l.push(t),s.append(t);continue}const p=null!==o&&void 0!==o&&null!==(h=o.attributes)&&void 0!==h&&h.xmlns?document.createElementNS(o.attributes.xmlns,u):document.createElement(u);if(s.append(p),o.attributes&&this.setAttributes({html:p,element:o,storage:e,intent:a,linkService:n}),(null===(d=o.children)||void 0===d?void 0:d.length)>0)c.push([o,-1,p]);else if(o.value){const t=document.createTextNode(o.value);r&&gy.shouldBuildText(u)&&l.push(t),p.append(t)}}for(const u of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}const Nw=new WeakSet,Ow=60*(new Date).getTimezoneOffset()*1e3;class Iw{static create(t){switch(t.data.annotationType){case bd.LINK:return new qw(t);case bd.TEXT:return new Kw(t);case bd.WIDGET:switch(t.data.fieldType){case"Tx":return new Qw(t);case"Btn":return t.data.radioButton?new t_(t):t.data.checkBox?new Zw(t):new e_(t);case"Ch":return new n_(t);case"Sig":return new Jw(t)}return new $w(t);case bd.POPUP:return new i_(t);case bd.FREETEXT:return new H_(t);case bd.LINE:return new U_(t);case bd.SQUARE:return new G_(t);case bd.CIRCLE:return new X_(t);case bd.POLYLINE:return new $_(t);case bd.CARET:return new J_(t);case bd.INK:return new nk(t);case bd.POLYGON:return new Q_(t);case bd.HIGHLIGHT:return new ak(t);case bd.UNDERLINE:return new sk(t);case bd.SQUIGGLY:return new rk(t);case bd.STRIKEOUT:return new ok(t);case bd.STAMP:return new lk(t);case bd.FILEATTACHMENT:return new dk(t);default:return new Ww(t)}}}var Fw=new WeakMap,jw=new WeakMap,zw=new WeakMap,Bw=new WeakSet;class Ww{constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vh(this,Bw),Uh(this,Fw,null),Uh(this,jw,!1),Uh(this,zw,null),this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(t){let{contentsObj:e,richText:n}=t;return!!(null!==e&&void 0!==e&&e.str||null!==n&&void 0!==n&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ww._hasPopupData(this.data)}get hasCommentButton(){return this.enableComment&&this._isEditable&&this.hasPopupElement}get commentButtonPosition(){const{quadPoints:t,rect:e}=this.data;let n=-1/0,i=-1/0;if((null===t||void 0===t?void 0:t.length)>=8){for(let e=0;e<t.length;e+=8)t[e+1]>i?(i=t[e+1],n=t[e+2]):t[e+1]===i&&(n=Math.max(n,t[e+2]));return[n,i]}return e?[e[2],e[3]]:null}get commentButtonColor(){var t;if(!this.data.color)return null;const[e,n,i]=this.data.color,a=255*(1-(null!==(t=this.data.opacity)&&void 0!==t?t:1));return qh(Bw,this,Hw).call(this,Math.min(e+a,255),Math.min(n+a,255),Math.min(i+a,255))}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-a)/n,t[1]=100*(t[1]-s)/i,t}updateEdited(t){var e;if(!this.container)return;t.rect&&(Yh(Fw,this)||Xh(Fw,this,{rect:this.data.rect.slice(0)}));const{rect:n,popup:i}=t;n&&qh(Bw,this,Vw).call(this,n);let a=(null===(e=Yh(zw,this))||void 0===e?void 0:e.popup)||this.popup;!a&&null!==i&&void 0!==i&&i.text&&(this._createPopup(i),a=Yh(zw,this).popup),a&&(a.updateEdited(t),null!==i&&void 0!==i&&i.deleted&&(a.remove(),Xh(zw,this,null),this.popup=null))}resetEdited(){var t;Yh(Fw,this)&&(qh(Bw,this,Vw).call(this,Yh(Fw,this).rect),null===(t=Yh(zw,this))||void 0===t||t.popup.resetEdited(),Xh(Fw,this,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof $w||this instanceof qw||(a.tabIndex=0);const{style:s}=a;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof i_){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,a),a}const{width:r,height:o}=this;if(!t&&e.borderStyle.width>0){s.borderWidth="".concat(e.borderStyle.width,"px");const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e="calc(".concat(t,"px * var(--total-scale-factor)) / calc(").concat(n,"px * var(--total-scale-factor))");s.borderRadius=e}else if(this instanceof t_){const t="calc(".concat(r,"px * var(--total-scale-factor)) / calc(").concat(o,"px * var(--total-scale-factor))");s.borderRadius=t}switch(e.borderStyle.style){case xd:s.borderStyle="solid";break;case yd:s.borderStyle="dashed";break;case wd:Nd("Unimplemented border style: beveled");break;case _d:Nd("Unimplemented border style: inset");break;case kd:s.borderBottomStyle="solid"}const i=e.borderColor||null;i?(Xh(jw,this,!0),s.borderColor=Qd.makeHexColor(0|i[0],0|i[1],0|i[2])):s.borderWidth=0}const l=Qd.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:h,pageX:d,pageY:u}=i.rawDims;s.left="".concat(100*(l[0]-d)/c,"%"),s.top="".concat(100*(l[1]-u)/h,"%");const{rotation:p}=e;return e.hasOwnCanvas||0===p?(s.width="".concat(100*r/c,"%"),s.height="".concat(100*o/h,"%")):this.setRotation(p,a),a}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:s}=this;t%180!==0&&([a,s]=[s,a]),e.style.width="".concat(100*a/n,"%"),e.style.height="".concat(100*s/i,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const i=n.detail[t],a=i[0],s=i.slice(1);n.target.style[e]=Pw["".concat(a,"_HTML")](s),this.annotationStorage.setValue(this.data.id,{[e]:Pw["".concat(a,"_rgb")](s)})};return zd(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const a=t[i]||n[i];null===a||void 0===a||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,a]of Object.entries(e)){const s=n[i];if(s){s({detail:{[i]:a},target:t}),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,a]=this.data.rect.map(t=>Math.fround(t));if(8===t.length){const[s,r,o,l]=t.subarray(2,6);if(i===s&&a===r&&e===o&&n===l)return}const{style:s}=this.container;let r;if(Yh(jw,this)){const{borderColor:t,borderWidth:e}=s;s.borderWidth=0,r=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(t,'" stroke-width="').concat(e,'">')],this.container.classList.add("hasBorder")}const o=i-e,l=a-n,{svgFactory:c}=this,h=c.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const d=c.createElement("defs");h.append(d);const u=c.createElement("clipPath"),p="clippath_".concat(this.data.id);u.setAttribute("id",p),u.setAttribute("clipPathUnits","objectBoundingBox"),d.append(u);for(let m=2,g=t.length;m<g;m+=8){var f;const n=t[m],i=t[m+1],s=t[m+2],h=t[m+3],d=c.createElement("rect"),p=(s-e)/o,g=(a-i)/l,v=(n-s)/o,b=(i-h)/l;d.setAttribute("x",p),d.setAttribute("y",g),d.setAttribute("width",v),d.setAttribute("height",b),u.append(d),null===(f=r)||void 0===f||f.push('<rect vector-effect="non-scaling-stroke" x="'.concat(p,'" y="').concat(g,'" width="').concat(v,'" height="').concat(b,'"/>'))}Yh(jw,this)&&(r.push("</g></svg>')"),s.backgroundImage=r.join("")),this.container.append(h),this.container.style.clipPath="url(#".concat(p,")")}_createPopup(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{data:e}=this;let n,i;t?(n={str:t.text},i=t.date):(n=e.contentsObj,i=e.modificationDate);const a=Xh(zw,this,new i_({data:{color:e.color,titleObj:e.titleObj,modificationDate:i,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(a.render())}get hasPopupElement(){return!!(Yh(zw,this)||this.popup||this.data.popupRef)}render(){Od("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:a,exportValues:s}of i){if(-1===t)continue;if(a===e)continue;const i="string"===typeof s?s:null,r=document.querySelector('[data-element-id="'.concat(a,'"]'));!r||Nw.has(r)?n.push({id:a,exportValue:i,domElement:r}):Nd("_getElementsByName - element not allowed: ".concat(a))}return n}for(const i of document.getElementsByName(t)){const{exportValue:t}=i,a=i.getAttribute("data-element-id");a!==e&&(Nw.has(i)&&n.push({id:a,exportValue:t,domElement:i}))}return n}show(){var t;this.container&&(this.container.hidden=!1),null===(t=this.popup)||void 0===t||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),null===(t=this.popup)||void 0===t||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function Hw(t,e,n){t/=255,e/=255,n/=255;const i=Math.max(t,e,n),a=Math.min(t,e,n),s=(i+a)/2,r=((1+Math.sqrt(s))/2*100).toFixed(2);if(i===a)return"hsl(0, 0%, ".concat(r,"%)");const o=i-a;let l;l=i===t?(e-n)/o+(e<n?6:0):i===e?(n-t)/o+2:(t-e)/o+4,l=(60*l).toFixed(2);const c=(o/(1-Math.abs(2*s-1))*100).toFixed(2);return"hsl(".concat(l,", ").concat(c,"%, ").concat(r,"%)")}function Vw(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:r,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...t),e.left="".concat(100*(t[0]-r)/a,"%"),e.top="".concat(100*(s-t[3]+o)/s,"%"),0===i?(e.width="".concat(100*(t[2]-t[0])/a,"%"),e.height="".concat(100*(t[3]-t[1])/s,"%")):this.setRotation(i)}var Uw=new WeakSet;class qw extends Ww{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!(null===e||void 0===e||!e.ignoreBorder),createQuadrilaterals:!0}),Vh(this,Uw),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),i=!0):t.attachment?(qh(Uw,this,Yw).call(this,n,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(qh(Uw,this,Xw).call(this,n,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),i=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}_bindLink(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&qh(Uw,this,Gw).call(this),n&&(t.title=n)}_bindNamedAction(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),qh(Uw,this,Gw).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const a=n.get(i);a&&(t[a]=()=>{var t;return null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1})}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),qh(Uw,this,Gw).call(this)}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),qh(Uw,this,Gw).call(this),!this._fieldObjects)return Nd('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{null===n||void 0===n||n();const{fields:t,refs:i,include:a}=e,s=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===a&&s.push(n)}else for(const e of Object.values(this._fieldObjects))s.push(...e);const r=this.annotationStorage,o=[];for(const e of s){const{id:t}=e;switch(o.push(t),e.type){case"text":{const n=e.defaultValue||"";r.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;r.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";r.setValue(t,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(t,'"]'));n&&(Nw.has(n)?n.dispatchEvent(new Event("resetform")):Nd("_bindResetFormAction - element not allowed: ".concat(t)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function Gw(){this.container.setAttribute("data-internal-link","")}function Yw(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>{var t;return null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(e.content,e.filename,i),!1},qh(Uw,this,Gw).call(this)}function Xw(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),qh(Uw,this,Gw).call(this)}class Kw extends Ww{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class $w extends Ww{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&("CANVAS"===(null===(e=t.previousSibling)||void 0===e?void 0:e.nodeName)&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Kd.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,a){n.includes("mouse")?t.addEventListener(n,t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})}):t.addEventListener(n,t=>{var s;if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}a&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(t)}}))})}_setEventListeners(t,e,n,i){for(const[o,l]of n){var a,s,r;if("Action"===l||null!==(a=this.data.actions)&&void 0!==a&&a[l])"Focus"!==l&&"Blur"!==l||e||(e={focused:!1}),this._setEventListener(t,e,o,l,i),"Focus"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Blur?"Blur"!==l||null!==(r=this.data.actions)&&void 0!==r&&r.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null)}}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":Qd.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,a=t.style;let s;const r=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2),e=t/(Math.round(t/(Jh*i))||1);s=Math.min(i,r(e/Jh))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(i,r(t/Jh))}a.fontSize="calc(".concat(s,"px * var(--total-scale-factor))"),a.color=Qd.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Qw extends $w{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,i){const a=this.annotationStorage;for(const s of this._getElementsByName(t.name,t.id))s.domElement&&(s.domElement[e]=n),a.setValue(s.id,{[i]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var i;const s=t.getValue(e,{value:this.data.fieldValue});let r=s.value||"";const o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&r.length>o&&(r=r.slice(0,o));let l=s.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:r,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==l&&void 0!==l?l:r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",null!==l&&void 0!==l?l:r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Nw.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:h,datetimeType:d,timeStep:u}=this.data,p=!!d&&this.enableScripting;h&&(n.title=h),this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",i=>{t.setValue(e,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",t=>{var e;const i=null!==(e=this.data.defaultFieldValue)&&void 0!==e?e:"";n.value=c.userValue=i,c.formattedValue=null});let f=t=>{const{formattedValue:e}=c;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var a;n.addEventListener("focus",t=>{var e;if(c.focused)return;const{target:n}=t;if(p&&(n.type=d,u&&(n.step=u)),c.userValue){const t=c.userValue;if(p)if("time"===d){const e=new Date(t),i=[e.getHours(),e.getMinutes(),e.getSeconds()];n.value=i.map(t=>t.toString().padStart(2,"0")).join(":")}else n.value=new Date(t-Ow).toISOString().split("date"===d?"T":".",1)[0];else n.value=t}c.lastCommittedValue=n.value,c.commitKey=1,null!==(e=this.data.actions)&&void 0!==e&&e.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",n=>{this.showElementAndHideCanvas(n.target);const i={value(n){var i;c.userValue=null!==(i=n.detail.value)&&void 0!==i?i:"",p||t.setValue(e,{value:c.userValue.toString()}),n.target.value=c.userValue},formattedValue(n){const{formattedValue:i}=n.detail;c.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i);const a={formattedValue:i};p&&(a.value=i),t.setValue(e,a)},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{var i;const{charLimit:a}=n.detail,{target:s}=n;if(0===a)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",a);let r=c.userValue;!r||r.length<=a||(r=r.slice(0,a),s.value=c.userValue=r,t.setValue(e,{value:r}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)}),n.addEventListener("keydown",t=>{var n;c.commitKey=1;let i=-1;if("Escape"===t.key?i=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(c.commitKey=3):i=2,-1===i)return;const{value:a}=t.target;c.lastCommittedValue!==a&&(c.lastCommittedValue=a,c.userValue=a,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))});const i=f;f=null,n.addEventListener("blur",t=>{var n;if(!c.focused||!t.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(c.focused=!1);const{target:a}=t;let{value:s}=a;if(p){if(s&&"time"===d){const t=s.split(":").map(t=>parseInt(t,10));s=new Date(2e3,0,1,t[0],t[1],t[2]||0).valueOf(),a.step=""}else s=new Date(s).valueOf();a.type="text"}var r;(c.userValue=s,c.lastCommittedValue!==s)&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,willCommit:!0,commitKey:c.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}));i(t)}),null!==(a=this.data.actions)&&void 0!==a&&a.Keystroke&&n.addEventListener("beforeinput",t=>{var n;c.lastCommittedValue=null;const{data:i,target:a}=t,{value:s,selectionStart:r,selectionEnd:o}=a;let l=r,h=o;switch(t.inputType){case"deleteWordBackward":{const t=s.substring(0,r).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=s.substring(r).match(/^[^\w]*\w*/);t&&(h+=t[0].length);break}case"deleteContentBackward":r===o&&(l-=1);break;case"deleteContentForward":r===o&&(h+=1)}t.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,change:i||"",willCommit:!1,selStart:l,selEnd:h}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(t,"px * var(--total-scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Jw extends $w{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Zw extends $w{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Nw.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=0,a.addEventListener("change",i=>{const{name:a,checked:s}=i.target;for(const r of this._getElementsByName(a,n)){const n=s&&r.exportValue===e.exportValue;r.domElement&&(r.domElement.checked=n),t.setValue(r.id,{value:n})}t.setValue(n,{value:s})}),a.addEventListener("resetform",t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",e=>{const i={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(i,e)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class t_ extends $w{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"===typeof i&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const s of this._getElementsByName(e.fieldName,n))t.setValue(s.id,{value:!1});const a=document.createElement("input");if(Nw.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",e=>{const{name:i,checked:a}=e.target;for(const s of this._getElementsByName(i,n))t.setValue(s.id,{value:!1});t.setValue(n,{value:a})}),a.addEventListener("resetform",t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue}),this.enableScripting&&this.hasJSActions){const i=e.buttonValue;a.addEventListener("updatefromsandbox",e=>{const a={value:e=>{const a=i===e.detail.value;for(const i of this._getElementsByName(e.target.name)){const e=a&&i.id===n;i.domElement&&(i.domElement.checked=e),t.setValue(i.id,{value:e})}}};this._dispatchEventFromSandbox(a,e)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class e_ extends qw{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",t=>{this._dispatchEventFromSandbox({},t)})),t}}class n_ extends $w{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");Nw.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",t=>{const e=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===e});for(const c of this.data.options){const t=document.createElement("option");t.textContent=c.displayValue,t.value=c.exportValue,n.value.includes(c.exportValue)&&(t.setAttribute("selected",!0),a=!1),i.append(t)}let s=null;if(a){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),i.prepend(t),s=()=>{t.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const r=t=>{const e=t?"value":"textContent",{options:n,multiple:a}=i;return a?Array.prototype.filter.call(n,t=>t.selected).map(t=>t[e]):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let o=r(!1);const l=t=>{const e=t.target.options;return Array.prototype.map.call(e,t=>({displayValue:t.textContent,exportValue:t.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",n=>{const a={value(n){var a;null===(a=s)||void 0===a||a();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const t of i.options)t.selected=c.has(t.value);t.setValue(e,{value:r(!0)}),o=r(!1)},multipleSelection(t){i.multiple=!0},remove(n){const a=i.options,s=n.detail.remove;if(a[s].selected=!1,i.remove(s),a.length>0){-1===Array.prototype.findIndex.call(a,t=>t.selected)&&(a[0].selected=!0)}t.setValue(e,{value:r(!0),items:l(n)}),o=r(!1)},clear(n){for(;0!==i.length;)i.remove(0);t.setValue(e,{value:null,items:[]}),o=r(!1)},insert(n){const{index:a,displayValue:s,exportValue:c}=n.detail.insert,h=i.children[a],d=document.createElement("option");d.textContent=s,d.value=c,h?h.before(d):i.append(d),t.setValue(e,{value:r(!0),items:l(n)}),o=r(!1)},items(n){const{items:a}=n.detail;for(;0!==i.length;)i.remove(0);for(const t of a){const{displayValue:e,exportValue:n}=t,a=document.createElement("option");a.textContent=e,a.value=n,i.append(a)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:r(!0),items:l(n)}),o=r(!1)},indices(n){const i=new Set(n.detail.indices);for(const t of n.target.options)t.selected=i.has(t.index);t.setValue(e,{value:r(!0)}),o=r(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(a,n)}),i.addEventListener("input",n=>{var i;const a=r(!0),s=r(!1);t.setValue(e,{value:a}),n.preventDefault(),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:o,change:s,changeEx:a,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],t=>t.target.value)):i.addEventListener("input",function(n){t.setValue(e,{value:r(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class i_ extends Ww{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Ww._hasPopupData(e)}),this.elements=n,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new T_({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,eventBus:this.linkService.eventBus}),n=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(t=>"".concat(iu).concat(t)).join(",")),this.container}}var a_=new WeakMap,s_=new WeakMap,r_=new WeakMap,o_=new WeakMap,l_=new WeakMap,c_=new WeakMap,h_=new WeakMap,d_=new WeakMap,u_=new WeakMap,p_=new WeakMap,f_=new WeakMap,m_=new WeakMap,g_=new WeakMap,v_=new WeakMap,b_=new WeakMap,x_=new WeakMap,y_=new WeakMap,w_=new WeakMap,__=new WeakMap,k_=new WeakMap,S_=new WeakMap,A_=new WeakMap,M_=new WeakMap,E_=new WeakMap,C_=new WeakSet;class T_{constructor(t){let{container:e,color:n,elements:i,titleObj:a,modificationDate:s,contentsObj:r,richText:o,parent:l,rect:c,parentRect:h,open:d,eventBus:u=null}=t;Vh(this,C_),Uh(this,a_,qh(C_,this,F_).bind(this)),Uh(this,s_,qh(C_,this,W_).bind(this)),Uh(this,r_,qh(C_,this,B_).bind(this)),Uh(this,o_,qh(C_,this,z_).bind(this)),Uh(this,l_,null),Uh(this,c_,null),Uh(this,h_,null),Uh(this,d_,null),Uh(this,u_,null),Uh(this,p_,null),Uh(this,f_,null),Uh(this,m_,null),Uh(this,g_,!1),Uh(this,v_,null),Uh(this,b_,null),Uh(this,x_,null),Uh(this,y_,null),Uh(this,w_,null),Uh(this,__,null),Uh(this,k_,null),Uh(this,S_,null),Uh(this,A_,null),Uh(this,M_,null),Uh(this,E_,!1),Xh(c_,this,e),Xh(A_,this,a),Xh(h_,this,r),Xh(S_,this,o),Xh(f_,this,l),Xh(l_,this,n),Xh(k_,this,c),Xh(m_,this,h),Xh(u_,this,i),Xh(p_,this,u),Xh(d_,this,vu.toDateObject(s)),this.trigger=i.flatMap(t=>t.getElementsToTriggerPopup()),qh(C_,this,P_).call(this),Yh(c_,this).hidden=!0,d&&qh(C_,this,z_).call(this)}render(){var t;if(Yh(v_,this))return;const e=Xh(v_,this,document.createElement("div"));if(e.className="popup",Yh(l_,this)){const t=e.style.outlineColor=Qd.makeHexColor(...Yh(l_,this));e.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)")}const n=document.createElement("span");if(n.className="header",null!==(t=Yh(A_,this))&&void 0!==t&&t.str){const t=document.createElement("span");t.className="title",n.append(t),({dir:t.dir,str:t.textContent}=Yh(A_,this))}if(e.append(n),Yh(d_,this)){const t=document.createElement("time");t.className="popupDate",t.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),t.setAttribute("data-l10n-args",JSON.stringify({dateObj:Yh(d_,this).valueOf()})),t.dateTime=Yh(d_,this).toISOString(),n.append(t)}const i=Gh(C_,this,L_);if(i)Lw.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(Yh(h_,this));e.append(t)}Yh(c_,this).append(e)}_formatContents(t){let{str:e,dir:n}=t;const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const a=e.split(/(?:\r\n?|\n)/);for(let s=0,r=a.length;s<r;++s){const t=a[s];i.append(document.createTextNode(t)),s<r-1&&i.append(document.createElement("br"))}return i}updateEdited(t){var e;let{rect:n,popup:i,deleted:a}=t;a||null!==i&&void 0!==i&&i.deleted?this.remove():(qh(C_,this,P_).call(this),Yh(M_,this)||Xh(M_,this,{contentsObj:Yh(h_,this),richText:Yh(S_,this)}),n&&Xh(x_,this,null),i&&(Xh(S_,this,qh(C_,this,I_).call(this,i.text)),Xh(d_,this,vu.toDateObject(i.date)),Xh(h_,this,null)),null===(e=Yh(v_,this))||void 0===e||e.remove(),Xh(v_,this,null))}resetEdited(){var t;Yh(M_,this)&&(({contentsObj:Wh(Xh,[h_,this])._,richText:Wh(Xh,[S_,this])._}=Yh(M_,this)),Xh(M_,this,null),null===(t=Yh(v_,this))||void 0===t||t.remove(),Xh(v_,this,null),Xh(x_,this,null))}remove(){var t,e;null===(t=Yh(b_,this))||void 0===t||t.abort(),Xh(b_,this,null),null===(e=Yh(v_,this))||void 0===e||e.remove(),Xh(v_,this,null),Xh(E_,this,!1),Xh(g_,this,!1);for(const n of this.trigger)n.classList.remove("popupTriggerArea")}forceHide(){Xh(E_,this,this.isVisible),Yh(E_,this)&&(Yh(c_,this).hidden=!0)}maybeShow(){qh(C_,this,P_).call(this),Yh(E_,this)&&(Yh(v_,this)||qh(C_,this,B_).call(this),Xh(E_,this,!1),Yh(c_,this).hidden=!1)}get isVisible(){return!1===Yh(c_,this).hidden}}function P_(){if(Yh(b_,this))return;Xh(b_,this,new AbortController);const{signal:t}=Yh(b_,this);for(const n of this.trigger)n.addEventListener("click",Yh(o_,this),{signal:t}),n.addEventListener("mouseenter",Yh(r_,this),{signal:t}),n.addEventListener("mouseleave",Yh(s_,this),{signal:t}),n.classList.add("popupTriggerArea");for(const n of Yh(u_,this)){var e;null===(e=n.container)||void 0===e||e.addEventListener("keydown",Yh(a_,this),{signal:t})}qh(C_,this,R_).call(this)}function D_(){const t=Yh(u_,this).find(t=>t.hasCommentButton);t&&(Xh(w_,this,t._normalizePoint(t.commentButtonPosition)),Xh(__,this,t.commentButtonColor))}function R_(){if(Yh(y_,this))return;if(Yh(w_,this)||qh(C_,this,D_).call(this),!Yh(w_,this))return;const t=Xh(y_,this,document.createElement("button"));t.className="annotationCommentButton";const e=Yh(u_,this)[0].container;t.style.zIndex=e.style.zIndex+1,t.tabIndex=0;const{signal:n}=Yh(b_,this);t.addEventListener("hover",Yh(o_,this),{signal:n}),t.addEventListener("keydown",Yh(a_,this),{signal:n}),t.addEventListener("click",()=>{var t;const[{data:{id:e},annotationEditorType:n}]=Yh(u_,this);null===(t=Yh(p_,this))||void 0===t||t.dispatch("switchannotationeditormode",{source:this,editId:e,mode:n,editComment:!0})},{signal:n});const{style:i}=t;i.left="calc(".concat(Yh(w_,this)[0],"%)"),i.top="calc(".concat(Yh(w_,this)[1],"% - var(--comment-button-dim))"),Yh(__,this)&&(i.backgroundColor=Yh(__,this)),e.after(t)}function L_(t){const e=Yh(S_,t),n=Yh(h_,t);return null===e||void 0===e||!e.str||null!==n&&void 0!==n&&n.str&&n.str!==e.str?null:Yh(S_,t).html||null}function N_(t){var e;return(null===(e=Gh(C_,t,L_))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.fontSize)||0}function O_(t){var e;return(null===(e=Gh(C_,t,L_))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.color)||null}function I_(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:Gh(C_,this,O_),fontSize:Gh(C_,this,N_)?"calc(".concat(Gh(C_,this,N_),"px * var(--total-scale-factor))"):""}};for(const a of t.split("\n"))e.push({name:"span",value:a,attributes:i});return n}function F_(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&Yh(g_,this))&&qh(C_,this,z_).call(this)}function j_(){if(null!==Yh(x_,this))return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:a}}}=Yh(f_,this);let s=!!Yh(m_,this),r=Yh(s?m_:k_,this);for(const u of Yh(u_,this))if(!r||null!==Qd.intersect(u.data.rect,r)){r=u.data.rect,s=!0;break}const o=Qd.normalizeRect([r[0],t[3]-r[1]+t[1],r[2],t[3]-r[3]+t[1]]),l=s?r[2]-r[0]+5:0,c=o[0]+l,h=o[1];Xh(x_,this,[100*(c-i)/e,100*(h-a)/n]);const{style:d}=Yh(c_,this);d.left="".concat(Yh(x_,this)[0],"%"),d.top="".concat(Yh(x_,this)[1],"%")}function z_(){Xh(g_,this,!Yh(g_,this)),Yh(g_,this)?(qh(C_,this,B_).call(this),Yh(c_,this).addEventListener("click",Yh(o_,this)),Yh(c_,this).addEventListener("keydown",Yh(a_,this))):(qh(C_,this,W_).call(this),Yh(c_,this).removeEventListener("click",Yh(o_,this)),Yh(c_,this).removeEventListener("keydown",Yh(a_,this)))}function B_(){Yh(v_,this)||this.render(),this.isVisible?Yh(g_,this)&&Yh(c_,this).classList.add("focused"):(qh(C_,this,j_).call(this),Yh(c_,this).hidden=!1,Yh(c_,this).style.zIndex=parseInt(Yh(c_,this).style.zIndex)+1e3)}function W_(){Yh(c_,this).classList.remove("focused"),!Yh(g_,this)&&this.isVisible&&(Yh(c_,this).hidden=!0,Yh(c_,this).style.zIndex=parseInt(Yh(c_,this).style.zIndex)-1e3)}class H_ extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=cd.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var V_=new WeakMap;class U_ extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Uh(this,V_,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),a=Xh(V_,this,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Yh(V_,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var q_=new WeakMap;class G_ extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Uh(this,q_,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),a=t.borderStyle.width,s=Xh(q_,this,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",a/2),s.setAttribute("y",a/2),s.setAttribute("width",e-a),s.setAttribute("height",n-a),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Yh(q_,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Y_=new WeakMap;class X_ extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Uh(this,Y_,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,i=this.svgFactory.create(e,n,!0),a=t.borderStyle.width,s=Xh(Y_,this,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",e/2),s.setAttribute("cy",n/2),s.setAttribute("rx",e/2-a/2),s.setAttribute("ry",n/2-a/2),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Yh(Y_,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var K_=new WeakMap;class $_ extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Uh(this,K_,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:i},width:a,height:s}=this;if(!e)return this.container;const r=this.svgFactory.create(a,s,!0);let o=[];for(let c=0,h=e.length;c<h;c+=2){const n=e[c]-t[0],i=t[3]-e[c+1];o.push("".concat(n,",").concat(i))}o=o.join(" ");const l=Xh(K_,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Yh(K_,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class Q_ extends $_{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class J_ extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Z_=new WeakMap,tk=new WeakMap,ek=new WeakSet;class nk extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),Vh(this,ek),Uh(this,Z_,null),Uh(this,tk,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?cd.HIGHLIGHT:cd.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:i,popupRef:a}}=this,{transform:s,width:r,height:o}=qh(ek,this,ik).call(this,e,t),l=this.svgFactory.create(r,o,!0),c=Xh(Z_,this,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",s);for(let h=0,d=n.length;h<d;h++){const t=this.svgFactory.createElement(this.svgElementName);Yh(tk,this).push(t),t.setAttribute("points",n[h].join(",")),c.append(t)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:i}=t,a=Yh(Z_,this);if(e>=0&&a.setAttribute("stroke-width",e||1),n)for(let s=0,r=Yh(tk,this).length;s<r;s++)Yh(tk,this)[s].setAttribute("points",n[s].join(","));if(i){const{transform:t,width:e,height:n}=qh(ek,this,ik).call(this,this.data.rotation,i);a.parentElement.setAttribute("viewBox","0 0 ".concat(e," ").concat(n)),a.setAttribute("transform",t)}}getElementsToTriggerPopup(){return Yh(tk,this)}addHighlightArea(){this.container.classList.add("highlightArea")}get commentButtonPosition(){const{inkLists:t,rect:e}=this.data;if((null===t||void 0===t?void 0:t.length)>=1){let e=-1/0,n=-1/0;for(const i of t)for(let t=0,a=i.length;t<a;t+=2)i[t+1]>n?(n=i[t+1],e=i[t]):i[t+1]===n&&(e=Math.max(e,i[t]));if(e!==1/0)return[e,n]}return e?[e[2],e[3]]:null}}function ik(t,e){switch(t){case 90:return{transform:"rotate(90) translate(".concat(-e[0],",").concat(e[1],") scale(1,-1)"),width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:"rotate(180) translate(".concat(-e[2],",").concat(e[1],") scale(1,-1)"),width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:"rotate(270) translate(".concat(-e[2],",").concat(e[3],") scale(1,-1)"),width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:"translate(".concat(-e[0],",").concat(e[3],") scale(1,-1)"),width:e[2]-e[0],height:e[3]-e[1]}}}class ak extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=cd.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const e=document.createElement("mark");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class sk extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class rk extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const e=document.createElement("u");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class ok extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const e=document.createElement("s");e.classList.add("overlaidText"),e.textContent=t,this.container.append(e)}return this.container}}class lk extends Ww{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=cd.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ck=new WeakMap,hk=new WeakSet;class dk extends Ww{constructor(t){var e;super(t,{isRenderable:!0}),Vh(this,hk),Uh(this,ck,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("fileattachmentannotation",l({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(e.name)?"paperclip":"pushpin",".svg"),e.fillAlpha&&e.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*e.fillAlpha),"%);"))),n.addEventListener("dblclick",qh(hk,this,uk).bind(this)),Xh(ck,this,n);const{isMac:i}=Kd.platform;return t.addEventListener("keydown",t=>{"Enter"===t.key&&(i?t.metaKey:t.ctrlKey)&&qh(hk,this,uk).call(this)}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return Yh(ck,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function uk(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.content,this.filename)}var pk=new WeakMap,fk=new WeakMap,mk=new WeakMap,gk=new WeakMap,vk=new WeakSet;class bk{constructor(t){let{div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:a,page:s,viewport:r,structTreeLayer:o}=t;Vh(this,vk),Uh(this,pk,null),Uh(this,fk,null),Uh(this,mk,new Map),Uh(this,gk,null),this.div=e,Xh(pk,this,n),Xh(fk,this,i),Xh(gk,this,o||null),this.page=s,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return Yh(mk,this).size>0}async render(t){const{annotations:e}=t,n=this.div;_u(n,this.viewport);const i=new Map,a={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new Rw,annotationStorage:t.annotationStorage||new wg,enableComment:!0===t.enableComment,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const r of e){if(r.noHTML)continue;const t=r.annotationType===bd.POPUP;if(t){const t=i.get(r.id);if(!t)continue;a.elements=t}else if(r.rect[2]===r.rect[0]||r.rect[3]===r.rect[1])continue;a.data=r;const e=Iw.create(a);if(!e.isRenderable)continue;if(!t&&r.popupRef){const t=i.get(r.popupRef);t?t.push(e):i.set(r.popupRef,[e])}const n=e.render();var s;if(r.hidden&&(n.style.visibility="hidden"),await qh(vk,this,xk).call(this,n,r.id,a.elements),e._isEditable)Yh(mk,this).set(e.data.id,e),null===(s=this._annotationEditorUIManager)||void 0===s||s.renderAnnotationElement(e)}qh(vk,this,yk).call(this)}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new Rw,parent:this};for(const i of t){i.borderStyle||(i.borderStyle=bk._defaultBorderStyle),n.data=i;const t=Iw.create(n);if(!t.isRenderable)continue;const e=t.render();await qh(vk,this,xk).call(this,e,i.id,null)}}update(t){let{viewport:e}=t;const n=this.div;this.viewport=e,_u(n,{rotation:e.rotation}),qh(vk,this,yk).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(Yh(mk,this).values())}getEditableAnnotation(t){return Yh(mk,this).get(t)}static get _defaultBorderStyle(){return zd(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:xd,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function xk(t,e,n){var i;const a=t.firstChild||t,s=a.id="".concat(iu).concat(e),r=await(null===(i=Yh(gk,this))||void 0===i?void 0:i.getAriaAttributes(s));if(r)for(const[l,c]of r)a.setAttribute(l,c);var o;n?n.at(-1).container.after(t):(this.div.append(t),null===(o=Yh(pk,this))||void 0===o||o.moveElementInDOM(this.div,t,a,!1))}function yk(){if(!Yh(fk,this))return;const t=this.div;for(const[n,i]of Yh(fk,this)){const a=t.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!a)continue;i.className="annotationContent";const{firstChild:s}=a;s?"CANVAS"===s.nodeName?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):a.append(i);const r=Yh(mk,this).get(n);var e;if(r)if(r._hasNoCanvas)null===(e=this._annotationEditorUIManager)||void 0===e||e.setMissingCanvas(n,a.id,i),r._hasNoCanvas=!1;else r.canvas=i}Yh(fk,this).clear()}const wk=/\r\n?|\n/g;var _k=new WeakMap,kk=new WeakMap,Sk=new WeakMap,Ak=new WeakMap,Mk=new WeakMap,Ek=new WeakSet;class Ck extends qm{static get _keyboardManager(){const t=Ck.prototype,e=t=>t.isEmpty(),n=cf.TRANSLATE_SMALL,i=cf.TRANSLATE_BIG;return zd(this,"_keyboardManager",new cp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}constructor(t){super(l(l({},t),{},{name:"freeTextEditor"})),Vh(this,Ek),Uh(this,_k,void 0),Uh(this,kk,""),Uh(this,Sk,"".concat(this.id,"-editor")),Uh(this,Ak,null),Uh(this,Mk,void 0),r(this,"_colorPicker",null),Xh(_k,this,t.color||Ck._defaultColor||qm._defaultLineColor),Xh(Mk,this,t.fontSize||Ck._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){qm.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case hd.FREETEXT_SIZE:Ck._defaultFontSize=e;break;case hd.FREETEXT_COLOR:Ck._defaultColor=e}}updateParams(t,e){switch(t){case hd.FREETEXT_SIZE:qh(Ek,this,Tk).call(this,e);break;case hd.FREETEXT_COLOR:qh(Ek,this,Pk).call(this,e)}}static get defaultPropertiesToUpdate(){return[[hd.FREETEXT_SIZE,Ck._defaultFontSize],[hd.FREETEXT_COLOR,Ck._defaultColor||qm._defaultLineColor]]}get propertiesToUpdate(){return[[hd.FREETEXT_SIZE,Yh(Mk,this)],[hd.FREETEXT_COLOR,Yh(_k,this)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Mw(this)),[["colorPicker",this._colorPicker]]}get colorType(){return hd.FREETEXT_COLOR}get colorValue(){return Yh(_k,this)}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ck._internalPadding*t,-(Ck._internalPadding+Yh(Mk,this))*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Xh(Ak,this,new AbortController);const t=this._uiManager.combinedSignal(Yh(Ak,this));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Yh(Sk,this)),this._isDraggable=!0,null===(t=Yh(Ak,this))||void 0===t||t.abort(),Xh(Ak,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var e;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=Yh(kk,this),e=Xh(kk,this,qh(Ek,this,Dk).call(this).trimEnd());if(t===e)return;const n=t=>{Xh(kk,this,t),t?(qh(Ek,this,Nk).call(this),this._uiManager.rebuild(this),qh(Ek,this,Rk).call(this)):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),qh(Ek,this,Rk).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ck._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Yh(Sk,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(Yh(Mk,this),"px * var(--total-scale-factor))"),n.color=Yh(_k,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[s,r]=this.getInitialTranslation();[s,r]=this.pageTranslationToScreen(s,r);const[o,l]=this.pageDimensions,[c,h]=this.pageTranslation;let d,u;switch(this.rotation){case 0:d=t+(a[0]-c)/o,u=e+this.height-(a[1]-h)/l;break;case 90:d=t+(a[0]-c)/o,u=e-(a[1]-h)/l,[s,r]=[r,-s];break;case 180:d=t-this.width+(a[0]-c)/o,u=e-(a[1]-h)/l,[s,r]=[-s,-r];break;case 270:d=t+(a[0]-c-this.height*l)/o,u=e+(a[1]-h-this.width*o)/l,[s,r]=[-r,s]}this.setAt(d*n,u*i,s,r)}else this._moveAfterPaste(t,e);qh(Ek,this,Nk).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(1===n.length&&"text/plain"===n[0])return;t.preventDefault();const i=Ik.call(Ck,e.getData("text")||"").replaceAll(wk,"\n");if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const s=a.getRangeAt(0);if(!i.includes("\n"))return s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void a.collapseToStart();const{startContainer:r,startOffset:o}=s,l=[],c=[];if(r.nodeType===Node.TEXT_NODE){const t=r.parentElement;if(c.push(r.nodeValue.slice(o).replaceAll(wk,"")),t!==this.editorDiv){let e=l;for(const n of this.editorDiv.childNodes)n!==t?e.push(Lk.call(Ck,n)):e=c}l.push(r.nodeValue.slice(0,o).replaceAll(wk,""))}else if(r===this.editorDiv){let t=l,e=0;for(const n of this.editorDiv.childNodes)e++===o&&(t=c),t.push(Lk.call(Ck,n))}Xh(kk,this,"".concat(l.join("\n")).concat(i).concat(c.join("\n"))),qh(Ek,this,Nk).call(this);const h=new Range;let d=Math.sumPrecise(l.map(t=>t.length));for(const{firstChild:u}of this.editorDiv.childNodes)if(u.nodeType===Node.TEXT_NODE){const t=u.nodeValue.length;if(d<=t){h.setStart(u,d),h.setEnd(u,d);break}d-=t}a.removeAllRanges(),a.addRange(h)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ck._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let i=null;if(t instanceof H_){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:a,rotation:s,id:r,popupRef:o,contentsObj:l},textContent:c,textPosition:h,parent:{page:{pageNumber:d}}}=t;if(!c||0===c.length)return null;i=t={annotationType:cd.FREETEXT,color:Array.from(n),fontSize:e,value:c.join("\n"),position:h,pageIndex:d-1,rect:a.slice(0),rotation:s,annotationElementId:r,id:r,deleted:!1,popupRef:o,comment:(null===l||void 0===l?void 0:l.str)||null}}const a=await super.deserialize(t,e,n);return Xh(Mk,a,t.fontSize),Xh(_k,a,Qd.makeHexColor(...t.color)),Xh(kk,a,Ik.call(Ck,t.value)),a._initialData=i,t.comment&&a.setCommentData(t.comment),a}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=this.getPDFRect(),n=qm._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Yh(_k,this)),i={annotationType:cd.FREETEXT,color:n,fontSize:Yh(Mk,this),value:qh(Ek,this,Ok).call(this),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!qh(Ek,this,Fk).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize="calc(".concat(Yh(Mk,this),"px * var(--total-scale-factor))"),n.color=Yh(_k,this),e.replaceChildren();for(const a of Yh(kk,this).split("\n")){const t=document.createElement("div");t.append(a?document.createTextNode(a):document.createElement("br")),e.append(t)}const i={rect:this.getPDFRect()};return i.popup=this.hasEditedComment?this.comment:{text:Yh(kk,this)},t.updateEdited(i),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}function Tk(t){const e=t=>{this.editorDiv.style.fontSize="calc(".concat(t,"px * var(--total-scale-factor))"),this.translate(0,-(t-Yh(Mk,this))*this.parentScale),Xh(Mk,this,t),qh(Ek,this,Rk).call(this)},n=Yh(Mk,this);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:hd.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Pk(t){const e=t=>{var e;Xh(_k,this,this.editorDiv.style.color=t),null===(e=this._colorPicker)||void 0===e||e.update(t)},n=Yh(_k,this);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:hd.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Dk(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes){var n;(null===(n=e)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===i.nodeName||(t.push(Lk.call(Nh,i)),e=i)}return t.join("\n")}function Rk(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,i=e.style.display,a=e.classList.contains("hidden");e.classList.remove("hidden"),e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=i,e.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}function Lk(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(wk,"")}function Nk(){if(this.editorDiv.replaceChildren(),Yh(kk,this))for(const t of Yh(kk,this).split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}function Ok(){return Yh(kk,this).replaceAll("\xa0"," ")}function Ik(t){return t.replaceAll(" ","\xa0")}function Fk(t){const{value:e,fontSize:n,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((t,e)=>t!==i[e])||t.pageIndex!==a}Nh=Ck,r(Ck,"_freeTextDefaultContent",""),r(Ck,"_internalPadding",0),r(Ck,"_defaultColor",null),r(Ck,"_defaultFontSize",10),r(Ck,"_type","freetext"),r(Ck,"_editorType",cd.FREETEXT);class jk{toSVGPath(){Od("Abstract method `toSVGPath` must be implemented.")}get box(){Od("Abstract getter `box` must be implemented.")}serialize(t,e){Od("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,i,a,s){s||(s=new Float32Array(t.length));for(let r=0,o=t.length;r<o;r+=2)s[r]=e+t[r]*i,s[r+1]=n+t[r+1]*a;return s}static _rescaleAndSwap(t,e,n,i,a,s){s||(s=new Float32Array(t.length));for(let r=0,o=t.length;r<o;r+=2)s[r]=e+t[r+1]*i,s[r+1]=n+t[r]*a;return s}static _translate(t,e,n,i){i||(i=new Float32Array(t.length));for(let a=0,s=t.length;a<s;a+=2)i[a]=e+t[a],i[a+1]=n+t[a+1];return i}static svgRound(t){return Math.round(1e4*t)}static _normalizePoint(t,e,n,i,a){switch(a){case 90:return[1-e/n,t/i];case 180:return[1-t/n,1-e/i];case 270:return[e/n,1-t/i];default:return[t/n,e/i]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,i,a,s){return[(t+5*n)/6,(e+5*i)/6,(5*n+a)/6,(5*i+s)/6,(n+a)/2,(i+s)/2]}}r(jk,"PRECISION",1e-4);var zk=new WeakMap,Bk=new WeakMap,Wk=new WeakMap,Hk=new WeakMap,Vk=new WeakMap,Uk=new WeakMap,qk=new WeakMap,Gk=new WeakMap,Yk=new WeakMap,Xk=new WeakMap,Kk=new WeakMap,$k=new WeakMap,Qk=new WeakMap,Jk=new WeakSet;class Zk{constructor(t,e,n,i,a){let{x:s,y:r}=t,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Vh(this,Jk),Uh(this,zk,void 0),Uh(this,Bk,[]),Uh(this,Wk,void 0),Uh(this,Hk,void 0),Uh(this,Vk,[]),Uh(this,Uk,new Float32Array(18)),Uh(this,qk,void 0),Uh(this,Gk,void 0),Uh(this,Yk,void 0),Uh(this,Xk,void 0),Uh(this,Kk,void 0),Uh(this,$k,void 0),Uh(this,Qk,[]),Xh(zk,this,e),Xh($k,this,i*n),Xh(Hk,this,a),Yh(Uk,this).set([NaN,NaN,NaN,NaN,s,r],6),Xh(Wk,this,o),Xh(Xk,this,oS._*n),Xh(Yk,this,lS._*n),Xh(Kk,this,n),Yh(Qk,this).push(s,r)}isEmpty(){return isNaN(Yh(Uk,this)[8])}add(t){var e;let{x:n,y:i}=t;Xh(qk,this,n),Xh(Gk,this,i);const[a,s,r,o]=Yh(zk,this);let[l,c,h,d]=Yh(Uk,this).subarray(8,12);const u=n-h,p=i-d,f=Math.hypot(u,p);if(f<Yh(Yk,this))return!1;const m=f-Yh(Xk,this),g=m/f,v=g*u,b=g*p;let x=l,y=c;l=h,c=d,h+=v,d+=b,null===(e=Yh(Qk,this))||void 0===e||e.push(n,i);const w=v/m,_=-b/m*Yh($k,this),k=w*Yh($k,this);if(Yh(Uk,this).set(Yh(Uk,this).subarray(2,8),0),Yh(Uk,this).set([h+_,d+k],4),Yh(Uk,this).set(Yh(Uk,this).subarray(14,18),12),Yh(Uk,this).set([h-_,d-k],16),isNaN(Yh(Uk,this)[6]))return 0===Yh(Vk,this).length&&(Yh(Uk,this).set([l+_,c+k],2),Yh(Vk,this).push(NaN,NaN,NaN,NaN,(l+_-a)/r,(c+k-s)/o),Yh(Uk,this).set([l-_,c-k],14),Yh(Bk,this).push(NaN,NaN,NaN,NaN,(l-_-a)/r,(c-k-s)/o)),Yh(Uk,this).set([x,y,l,c,h,d],6),!this.isEmpty();Yh(Uk,this).set([x,y,l,c,h,d],6);return Math.abs(Math.atan2(y-c,x-l)-Math.atan2(b,v))<Math.PI/2?([l,c,h,d]=Yh(Uk,this).subarray(2,6),Yh(Vk,this).push(NaN,NaN,NaN,NaN,((l+h)/2-a)/r,((c+d)/2-s)/o),[l,c,x,y]=Yh(Uk,this).subarray(14,18),Yh(Bk,this).push(NaN,NaN,NaN,NaN,((x+l)/2-a)/r,((y+c)/2-s)/o),!0):([x,y,l,c,h,d]=Yh(Uk,this).subarray(0,6),Yh(Vk,this).push(((x+5*l)/6-a)/r,((y+5*c)/6-s)/o,((5*l+h)/6-a)/r,((5*c+d)/6-s)/o,((l+h)/2-a)/r,((c+d)/2-s)/o),[h,d,l,c,x,y]=Yh(Uk,this).subarray(12,18),Yh(Bk,this).push(((x+5*l)/6-a)/r,((y+5*c)/6-s)/o,((5*l+h)/6-a)/r,((5*c+d)/6-s)/o,((l+h)/2-a)/r,((c+d)/2-s)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const t=Yh(Vk,this),e=Yh(Bk,this);if(isNaN(Yh(Uk,this)[6])&&!this.isEmpty())return qh(Jk,this,eS).call(this);const n=[];n.push("M".concat(t[4]," ").concat(t[5]));for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push("L".concat(t[i+4]," ").concat(t[i+5])):n.push("C".concat(t[i]," ").concat(t[i+1]," ").concat(t[i+2]," ").concat(t[i+3]," ").concat(t[i+4]," ").concat(t[i+5]));qh(Jk,this,iS).call(this,n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push("L".concat(e[i+4]," ").concat(e[i+5])):n.push("C".concat(e[i]," ").concat(e[i+1]," ").concat(e[i+2]," ").concat(e[i+3]," ").concat(e[i+4]," ").concat(e[i+5]));return qh(Jk,this,nS).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,i,a,s){return new vS(t,e,n,i,a,s)}getOutlines(){var t,e;const n=Yh(Vk,this),i=Yh(Bk,this),a=Yh(Uk,this),[s,r,o,l]=Yh(zk,this),c=new Float32Array((null!==(t=null===(e=Yh(Qk,this))||void 0===e?void 0:e.length)&&void 0!==t?t:0)+2);for(let u=0,p=c.length-2;u<p;u+=2)c[u]=(Yh(Qk,this)[u]-s)/o,c[u+1]=(Yh(Qk,this)[u+1]-r)/l;if(c[c.length-2]=(Yh(qk,this)-s)/o,c[c.length-1]=(Yh(Gk,this)-r)/l,isNaN(a[6])&&!this.isEmpty())return qh(Jk,this,aS).call(this,c);const h=new Float32Array(Yh(Vk,this).length+24+Yh(Bk,this).length);let d=n.length;for(let u=0;u<d;u+=2)isNaN(n[u])?h[u]=h[u+1]=NaN:(h[u]=n[u],h[u+1]=n[u+1]);d=qh(Jk,this,rS).call(this,h,d);for(let u=i.length-6;u>=6;u-=6)for(let t=0;t<6;t+=2)isNaN(i[u+t])?(h[d]=h[d+1]=NaN,d+=2):(h[d]=i[u+t],h[d+1]=i[u+t+1],d+=2);return qh(Jk,this,sS).call(this,h,d),this.newFreeDrawOutline(h,c,Yh(zk,this),Yh(Kk,this),Yh(Wk,this),Yh(Hk,this))}}function tS(){const t=Yh(Uk,this).subarray(4,6),e=Yh(Uk,this).subarray(16,18),[n,i,a,s]=Yh(zk,this);return[(Yh(qk,this)+(t[0]-e[0])/2-n)/a,(Yh(Gk,this)+(t[1]-e[1])/2-i)/s,(Yh(qk,this)+(e[0]-t[0])/2-n)/a,(Yh(Gk,this)+(e[1]-t[1])/2-i)/s]}function eS(){const[t,e,n,i]=Yh(zk,this),[a,s,r,o]=qh(Jk,this,tS).call(this);return"M".concat((Yh(Uk,this)[2]-t)/n," ").concat((Yh(Uk,this)[3]-e)/i," L").concat((Yh(Uk,this)[4]-t)/n," ").concat((Yh(Uk,this)[5]-e)/i," L").concat(a," ").concat(s," L").concat(r," ").concat(o," L").concat((Yh(Uk,this)[16]-t)/n," ").concat((Yh(Uk,this)[17]-e)/i," L").concat((Yh(Uk,this)[14]-t)/n," ").concat((Yh(Uk,this)[15]-e)/i," Z")}function nS(t){const e=Yh(Bk,this);t.push("L".concat(e[4]," ").concat(e[5]," Z"))}function iS(t){const[e,n,i,a]=Yh(zk,this),s=Yh(Uk,this).subarray(4,6),r=Yh(Uk,this).subarray(16,18),[o,l,c,h]=qh(Jk,this,tS).call(this);t.push("L".concat((s[0]-e)/i," ").concat((s[1]-n)/a," L").concat(o," ").concat(l," L").concat(c," ").concat(h," L").concat((r[0]-e)/i," ").concat((r[1]-n)/a))}function aS(t){const e=Yh(Uk,this),[n,i,a,s]=Yh(zk,this),[r,o,l,c]=qh(Jk,this,tS).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(e[2]-n)/a,(e[3]-i)/s,NaN,NaN,NaN,NaN,(e[4]-n)/a,(e[5]-i)/s,NaN,NaN,NaN,NaN,r,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(e[16]-n)/a,(e[17]-i)/s,NaN,NaN,NaN,NaN,(e[14]-n)/a,(e[15]-i)/s],0),this.newFreeDrawOutline(h,t,Yh(zk,this),Yh(Kk,this),Yh(Wk,this),Yh(Hk,this))}function sS(t,e){const n=Yh(Bk,this);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+6}function rS(t,e){const n=Yh(Uk,this).subarray(4,6),i=Yh(Uk,this).subarray(16,18),[a,s,r,o]=Yh(zk,this),[l,c,h,d]=qh(Jk,this,tS).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-a)/r,(n[1]-s)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(i[0]-a)/r,(i[1]-s)/o],e),e+24}var oS={_:8},lS={_:oS._+2},cS=new WeakMap,hS=new WeakMap,dS=new WeakMap,uS=new WeakMap,pS=new WeakMap,fS=new WeakMap,mS=new WeakMap,gS=new WeakSet;class vS extends jk{constructor(t,e,n,i,a,s){super(),Vh(this,gS),Uh(this,cS,void 0),Uh(this,hS,new Float32Array(4)),Uh(this,dS,void 0),Uh(this,uS,void 0),Uh(this,pS,void 0),Uh(this,fS,void 0),Uh(this,mS,void 0),Xh(mS,this,t),Xh(pS,this,e),Xh(cS,this,n),Xh(fS,this,i),Xh(dS,this,a),Xh(uS,this,s),this.lastPoint=[NaN,NaN],qh(gS,this,bS).call(this,s);const[r,o,l,c]=Yh(hS,this);for(let h=0,d=t.length;h<d;h+=2)t[h]=(t[h]-r)/l,t[h+1]=(t[h+1]-o)/c;for(let h=0,d=e.length;h<d;h+=2)e[h]=(e[h]-r)/l,e[h+1]=(e[h+1]-o)/c}toSVGPath(){const t=["M".concat(Yh(mS,this)[4]," ").concat(Yh(mS,this)[5])];for(let e=6,n=Yh(mS,this).length;e<n;e+=6)isNaN(Yh(mS,this)[e])?t.push("L".concat(Yh(mS,this)[e+4]," ").concat(Yh(mS,this)[e+5])):t.push("C".concat(Yh(mS,this)[e]," ").concat(Yh(mS,this)[e+1]," ").concat(Yh(mS,this)[e+2]," ").concat(Yh(mS,this)[e+3]," ").concat(Yh(mS,this)[e+4]," ").concat(Yh(mS,this)[e+5]));return t.push("Z"),t.join(" ")}serialize(t,e){let[n,i,a,s]=t;const r=a-n,o=s-i;let l,c;switch(e){case 0:l=jk._rescale(Yh(mS,this),n,s,r,-o),c=jk._rescale(Yh(pS,this),n,s,r,-o);break;case 90:l=jk._rescaleAndSwap(Yh(mS,this),n,i,r,o),c=jk._rescaleAndSwap(Yh(pS,this),n,i,r,o);break;case 180:l=jk._rescale(Yh(mS,this),a,i,-r,o),c=jk._rescale(Yh(pS,this),a,i,-r,o);break;case 270:l=jk._rescaleAndSwap(Yh(mS,this),a,s,-r,-o),c=jk._rescaleAndSwap(Yh(pS,this),a,s,-r,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return Yh(hS,this)}newOutliner(t,e,n,i,a){return new Zk(t,e,n,i,a,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(t,e){const[n,i,a,s]=Yh(hS,this),[r,o,l,c]=Yh(cS,this),h=a*l,d=s*c,u=n*l+r,p=i*c+o,f=this.newOutliner({x:Yh(pS,this)[0]*h+u,y:Yh(pS,this)[1]*d+p},Yh(cS,this),Yh(fS,this),t,Yh(uS,this),null!==e&&void 0!==e?e:Yh(dS,this));for(let m=2;m<Yh(pS,this).length;m+=2)f.add({x:Yh(pS,this)[m]*h+u,y:Yh(pS,this)[m+1]*d+p});return f.getOutlines()}}function bS(t){const e=Yh(mS,this);let n=e[4],i=e[5];const a=[n,i,n,i];let s=n,r=i;const o=t?Math.max:Math.min;for(let c=6,h=e.length;c<h;c+=6){const t=e[c+4],l=e[c+5];if(isNaN(e[c]))Qd.pointBoundingBox(t,l,a),r<l?(s=t,r=l):r===l&&(s=o(s,t));else{const t=[1/0,1/0,-1/0,-1/0];Qd.bezierBoundingBox(n,i,...e.slice(c,c+6),t),Qd.rectBoundingBox(...t,a),r<t[3]?(s=t[2],r=t[3]):r===t[3]&&(s=o(s,t[2]))}n=t,i=l}const l=Yh(hS,this);l[0]=a[0]-Yh(dS,this),l[1]=a[1]-Yh(dS,this),l[2]=a[2]-a[0]+2*Yh(dS,this),l[3]=a[3]-a[1]+2*Yh(dS,this),this.lastPoint=[s,r]}var xS=new WeakMap,yS=new WeakMap,wS=new WeakMap,_S=new WeakMap,kS=new WeakSet;class SS{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Vh(this,kS),Uh(this,xS,void 0),Uh(this,yS,void 0),Uh(this,wS,[]),Uh(this,_S,[]);const a=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:u,y:p,width:f,height:m}of t){const t=Math.floor((u-e)/s)*s,n=Math.ceil((u+f+e)/s)*s,i=Math.floor((p-e)/s)*s,r=Math.ceil((p+m+e)/s)*s,o=[t,i,r,!0],l=[n,i,r,!1];Yh(wS,this).push(o,l),Qd.rectBoundingBox(t,i,n,r,a)}const r=a[2]-a[0]+2*n,o=a[3]-a[1]+2*n,l=a[0]-n,c=a[1]-n,h=Yh(wS,this).at(i?-1:-2),d=[h[0],h[2]];for(const u of Yh(wS,this)){const[t,e,n]=u;u[0]=(t-l)/r,u[1]=(e-c)/o,u[2]=(n-c)/o}Xh(xS,this,new Float32Array([l,c,r,o])),Xh(yS,this,d)}getOutlines(){Yh(wS,this).sort((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]);const t=[];for(const e of Yh(wS,this))e[3]?(t.push(...qh(kS,this,TS).call(this,e)),qh(kS,this,ES).call(this,e)):(qh(kS,this,CS).call(this,e),t.push(...qh(kS,this,TS).call(this,e)));return qh(kS,this,AS).call(this,t)}}function AS(t){const e=[],n=new Set;for(const s of t){const[t,n,i]=s;e.push([t,n,s],[t,i,s])}e.sort((t,e)=>t[1]-e[1]||t[0]-e[0]);for(let s=0,r=e.length;s<r;s+=2){const t=e[s][2],i=e[s+1][2];t.push(i),i.push(t),n.add(t),n.add(i)}const i=[];let a;for(;n.size>0;){const t=n.values().next().value;let[e,s,r,o,l]=t;n.delete(t);let c=e,h=s;for(a=[e,r],i.push(a);;){let t;if(n.has(o))t=o;else{if(!n.has(l))break;t=l}n.delete(t),[e,s,r,o,l]=t,c!==e&&(a.push(c,h,e,h===s?s:r),c=e),h=h===s?r:s}a.push(c,h)}return new RS(i,Yh(xS,this),Yh(yS,this))}function MS(t){const e=Yh(_S,this);let n=0,i=e.length-1;for(;n<=i;){const a=n+i>>1,s=e[a][0];if(s===t)return a;s<t?n=a+1:i=a-1}return i+1}function ES(t){let[,e,n]=t;const i=qh(kS,this,MS).call(this,e);Yh(_S,this).splice(i,0,[e,n])}function CS(t){let[,e,n]=t;const i=qh(kS,this,MS).call(this,e);for(let a=i;a<Yh(_S,this).length;a++){const[t,i]=Yh(_S,this)[a];if(t!==e)break;if(t===e&&i===n)return void Yh(_S,this).splice(a,1)}for(let a=i-1;a>=0;a--){const[t,i]=Yh(_S,this)[a];if(t!==e)break;if(t===e&&i===n)return void Yh(_S,this).splice(a,1)}}function TS(t){const[e,n,i]=t,a=[[e,n,i]],s=qh(kS,this,MS).call(this,i);for(let r=0;r<s;r++){const[t,n]=Yh(_S,this)[r];for(let i=0,s=a.length;i<s;i++){const[,r,o]=a[i];if(!(n<=r||o<=t))if(r>=t)if(o>n)a[i][1]=n;else{if(1===s)return[];a.splice(i,1),i--,s--}else a[i][2]=t,o>n&&a.push([e,n,o])}}return a}var PS=new WeakMap,DS=new WeakMap;class RS extends jk{constructor(t,e,n){super(),Uh(this,PS,void 0),Uh(this,DS,void 0),Xh(DS,this,t),Xh(PS,this,e),this.lastPoint=n}toSVGPath(){const t=[];for(const e of Yh(DS,this)){let[n,i]=e;t.push("M".concat(n," ").concat(i));for(let a=2;a<e.length;a+=2){const s=e[a],r=e[a+1];s===n?(t.push("V".concat(r)),i=r):r===i&&(t.push("H".concat(s)),n=s)}t.push("Z")}return t.join(" ")}serialize(t,e){let[n,i,a,s]=t;const r=[],o=a-n,l=s-i;for(const c of Yh(DS,this)){const t=new Array(c.length);for(let e=0;e<c.length;e+=2)t[e]=n+c[e]*o,t[e+1]=s-c[e+1]*l;r.push(t)}return r}get box(){return Yh(PS,this)}get classNamesForOutlining(){return["highlightOutline"]}}class LS extends Zk{newFreeDrawOutline(t,e,n,i,a,s){return new NS(t,e,n,i,a,s)}}class NS extends vS{newOutliner(t,e,n,i,a){return new LS(t,e,n,i,a,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var OS=new WeakMap,IS=new WeakMap,FS=new WeakMap,jS=new WeakMap,zS=new WeakMap,BS=new WeakMap,WS=new WeakMap,HS=new WeakMap,VS=new WeakMap,US=new WeakMap,qS=new WeakMap,GS=new WeakMap,YS=new WeakMap,XS=new WeakMap,KS=new WeakMap,$S=new WeakMap,QS=new WeakMap,JS=new WeakMap,ZS=new WeakSet;class tA extends qm{static get _keyboardManager(){const t=tA.prototype;return zd(this,"_keyboardManager",new cp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super(l(l({},t),{},{name:"highlightEditor"})),Vh(this,ZS),Uh(this,OS,null),Uh(this,IS,0),Uh(this,FS,void 0),Uh(this,jS,null),Uh(this,zS,null),Uh(this,BS,null),Uh(this,WS,null),Uh(this,HS,0),Uh(this,VS,null),Uh(this,US,null),Uh(this,qS,null),Uh(this,GS,!1),Uh(this,YS,null),Uh(this,XS,void 0),Uh(this,KS,null),Uh(this,$S,""),Uh(this,QS,void 0),Uh(this,JS,""),this.color=t.color||tA._defaultColor,Xh(QS,this,t.thickness||tA._defaultThickness),Xh(XS,this,t.opacity||tA._defaultOpacity),Xh(FS,this,t.boxes||null),Xh(JS,this,t.methodOfCreation||""),Xh($S,this,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(Xh(GS,this,!0),qh(ZS,this,nA).call(this,t),qh(ZS,this,oA).call(this)):Yh(FS,this)&&(Xh(OS,this,t.anchorNode),Xh(IS,this,t.anchorOffset),Xh(WS,this,t.focusNode),Xh(HS,this,t.focusOffset),qh(ZS,this,eA).call(this),qh(ZS,this,oA).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:Yh(GS,this)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:Yh(QS,this),methodOfCreation:Yh(JS,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var n;qm.initialize(t,e),tA._defaultColor||(tA._defaultColor=(null===(n=e.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case hd.HIGHLIGHT_COLOR:tA._defaultColor=e;break;case hd.HIGHLIGHT_THICKNESS:tA._defaultThickness=e}}translateInPage(t,e){}get toolbarPosition(){return Yh(YS,this)}updateParams(t,e){switch(t){case hd.HIGHLIGHT_COLOR:qh(ZS,this,iA).call(this,e);break;case hd.HIGHLIGHT_THICKNESS:qh(ZS,this,aA).call(this,e)}}static get defaultPropertiesToUpdate(){return[[hd.HIGHLIGHT_COLOR,tA._defaultColor],[hd.HIGHLIGHT_THICKNESS,tA._defaultThickness]]}get propertiesToUpdate(){return[[hd.HIGHLIGHT_COLOR,this.color||tA._defaultColor],[hd.HIGHLIGHT_THICKNESS,Yh(QS,this)||tA._defaultThickness],[hd.HIGHLIGHT_FREE,Yh(GS,this)]]}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",Xh(zS,this,new mw({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(qh(ZS,this,dA).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,qh(ZS,this,dA).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){qh(ZS,this,rA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(qh(ZS,this,oA).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)qh(ZS,this,rA).call(this);else if(t){var n;qh(ZS,this,oA).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),this.show(this._isVisible),e&&this.select()}rotate(t){const{drawLayer:e}=this.parent;let n;Yh(GS,this)?(t=(t-this.rotation+360)%360,n=lA.call(tA,Yh(US,this).box,t)):n=lA.call(tA,[this.x,this.y,this.width,this.height],t),e.updateProperties(Yh(qS,this),{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(Yh(KS,this),{bbox:lA.call(tA,Yh(BS,this).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();Yh($S,this)&&(t.setAttribute("aria-label",Yh($S,this)),t.setAttribute("role","mark")),Yh(GS,this)?t.classList.add("free"):this.div.addEventListener("keydown",qh(ZS,this,cA).bind(this),{signal:this._uiManager._signal});const e=Xh(VS,this,document.createElement("div"));t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=Yh(jS,this);const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),Xu(this,Yh(VS,this),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(Yh(KS,this),{rootClass:{hovered:!0}}))}pointerleave(){var t;this.isSelected||(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(Yh(KS,this),{rootClass:{hovered:!1}}))}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:qh(ZS,this,hA).call(this,!0);break;case 1:case 3:qh(ZS,this,hA).call(this,!1)}}select(){var t;super.select(),Yh(KS,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(Yh(KS,this),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),Yh(KS,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(Yh(KS,this),{rootClass:{selected:!1}}),Yh(GS,this)||qh(ZS,this,hA).call(this,!1))}get _mustFixPosition(){return!Yh(GS,this)}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(Yh(qS,this),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(Yh(KS,this),{rootClass:{hidden:!t}}))}static startHighlighting(t,e,n){let{target:i,x:a,y:s}=n;const{x:r,y:o,width:l,height:c}=i.getBoundingClientRect(),h=new AbortController,d=t.combinedSignal(h),u=e=>{h.abort(),qh(tA,this,mA).call(this,t,e)};window.addEventListener("blur",u,{signal:d}),window.addEventListener("pointerup",u,{signal:d}),window.addEventListener("pointerdown",gu,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",mu,{signal:d}),i.addEventListener("pointermove",qh(tA,this,fA).bind(this,t),{signal:d}),this._freeHighlight=new LS({x:a,y:s},[r,o,l,c],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(t,e,n){let i=null;if(t instanceof ak){const{data:{quadPoints:e,rect:n,rotation:a,id:s,color:r,opacity:o,popupRef:l,contentsObj:c},parent:{page:{pageNumber:h}}}=t;i=t={annotationType:cd.HIGHLIGHT,color:Array.from(r),opacity:o,quadPoints:e,boxes:null,pageIndex:h-1,rect:n.slice(0),rotation:a,annotationElementId:s,id:s,deleted:!1,popupRef:l,comment:(null===c||void 0===c?void 0:c.str)||null}}else if(t instanceof nk){const{data:{inkLists:e,rect:n,rotation:a,id:s,color:r,borderStyle:{rawWidth:o},popupRef:l,contentsObj:c},parent:{page:{pageNumber:h}}}=t;i=t={annotationType:cd.HIGHLIGHT,color:Array.from(r),thickness:o,inkLists:e,boxes:null,pageIndex:h-1,rect:n.slice(0),rotation:a,annotationElementId:s,id:s,deleted:!1,popupRef:l,comment:(null===c||void 0===c?void 0:c.str)||null}}const{color:a,quadPoints:s,inkLists:r,opacity:o}=t,l=await super.deserialize(t,e,n);l.color=Qd.makeHexColor(...a),Xh(XS,l,o||1),r&&Xh(QS,l,t.thickness),l._initialData=i,t.comment&&l.setCommentData(t.comment);const[c,h]=l.pageDimensions,[d,u]=l.pageTranslation;if(s){const t=Xh(FS,l,[]);for(let e=0;e<s.length;e+=8)t.push({x:(s[e]-d)/c,y:1-(s[e+1]-u)/h,width:(s[e+2]-s[e])/c,height:(s[e+1]-s[e+5])/h});qh(ZS,l,eA).call(l),qh(ZS,l,oA).call(l),l.rotate(l.rotation)}else if(r){Xh(GS,l,!0);const t=r[0],n={x:t[0]-d,y:h-(t[1]-u)},i=new LS(n,[0,0,c,h],1,Yh(QS,l)/2,!0,.001);for(let e=0,r=t.length;e<r;e+=2)n.x=t[e]-d,n.y=h-(t[e+1]-u),i.add(n);const{id:a,clipPathId:s}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:i.toSVGPath()}},!0,!0);qh(ZS,l,nA).call(l,{highlightOutlines:i.getOutlines(),highlightId:a,clipPathId:s}),qh(ZS,l,oA).call(l),l.rotate(l.parentRotation)}return l}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getPDFRect(),n=qm._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i={annotationType:cd.HIGHLIGHT,color:n,opacity:Yh(XS,this),thickness:Yh(QS,this),quadPoints:qh(ZS,this,uA).call(this),outlines:qh(ZS,this,pA).call(this,e),pageIndex:this.pageIndex,rect:e,rotation:qh(ZS,this,dA).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(i),this.annotationElementId&&!qh(ZS,this,gA).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const e={rect:this.getPDFRect()};return this.hasEditedComment&&(e.popup=this.comment),t.updateEdited(e),null}static canCreateNewEmptyEditor(){return!1}}function eA(){const t=new SS(Yh(FS,this),.001);Xh(US,this,t.getOutlines()),[this.x,this.y,this.width,this.height]=Yh(US,this).box;const e=new SS(Yh(FS,this),.0025,.001,"ltr"===this._uiManager.direction);Xh(BS,this,e.getOutlines());const{lastPoint:n}=Yh(BS,this);Xh(YS,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function nA(t){let{highlightOutlines:e,highlightId:n,clipPathId:i}=t;Xh(US,this,e);if(Xh(BS,this,e.getNewOutline(Yh(QS,this)/2+1.5,.0025)),n>=0)Xh(qS,this,n),Xh(jS,this,i),this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),Xh(KS,this,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:Yh(BS,this).box,path:{d:Yh(BS,this).toSVGPath()}},!0));else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(Yh(qS,this),{bbox:lA.call(Oh,Yh(US,this).box,(t-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(Yh(KS,this),{bbox:lA.call(Oh,Yh(BS,this).box,t),path:{d:Yh(BS,this).toSVGPath()}})}const[a,s,r,o]=e.box;switch(this.rotation){case 0:this.x=a,this.y=s,this.width=r,this.height=o;break;case 90:{const[t,e]=this.parentDimensions;this.x=s,this.y=1-a,this.width=r*e/t,this.height=o*t/e;break}case 180:this.x=1-a,this.y=1-s,this.width=r,this.height=o;break;case 270:{const[t,e]=this.parentDimensions;this.x=1-s,this.y=a,this.width=r*e/t,this.height=o*t/e;break}}const{lastPoint:l}=Yh(BS,this);Xh(YS,this,[(l[0]-a)/r,(l[1]-s)/o])}function iA(t){const e=(t,e)=>{var n,i;this.color=t,Xh(XS,this,e),null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(Yh(qS,this),{root:{fill:t,"fill-opacity":e}}),null===(i=Yh(zS,this))||void 0===i||i.updateColor(t)},n=this.color,i=Yh(XS,this);this.addCommands({cmd:e.bind(this,t,Oh._defaultOpacity),undo:e.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:hd.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}function aA(t){const e=Yh(QS,this),n=t=>{Xh(QS,this,t),qh(ZS,this,sA).call(this,t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:hd.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}function sA(t){if(!Yh(GS,this))return;qh(ZS,this,nA).call(this,{highlightOutlines:Yh(US,this).getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}function rA(){null!==Yh(qS,this)&&this.parent&&(this.parent.drawLayer.remove(Yh(qS,this)),Xh(qS,this,null),this.parent.drawLayer.remove(Yh(KS,this)),Xh(KS,this,null))}function oA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===Yh(qS,this)&&(({id:Wh(Xh,[qS,this])._,clipPathId:Wh(Xh,[jS,this])._}=t.drawLayer.draw({bbox:Yh(US,this).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":Yh(XS,this)},rootClass:{highlight:!0,free:Yh(GS,this)},path:{d:Yh(US,this).toSVGPath()}},!1,!0)),Xh(KS,this,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:Yh(GS,this)},bbox:Yh(BS,this).box,path:{d:Yh(BS,this).toSVGPath()}},Yh(GS,this))),Yh(VS,this)&&(Yh(VS,this).style.clipPath=Yh(jS,this)))}function lA(t,e){let[n,i,a,s]=t;switch(e){case 90:return[1-i-s,n,s,a];case 180:return[1-n-a,1-i-s,a,s];case 270:return[i,1-n-a,s,a]}return[n,i,a,s]}function cA(t){Oh._keyboardManager.exec(this,t)}function hA(t){if(!Yh(OS,this))return;const e=window.getSelection();t?e.setPosition(Yh(OS,this),Yh(IS,this)):e.setPosition(Yh(WS,this),Yh(HS,this))}function dA(){return Yh(GS,this)?this.rotation:0}function uA(){if(Yh(GS,this))return null;const[t,e]=this.pageDimensions,[n,i]=this.pageTranslation,a=Yh(FS,this),s=new Float32Array(8*a.length);let r=0;for(const{x:o,y:l,width:c,height:h}of a){const a=o*t+n,d=(1-l)*e+i;s[r]=s[r+4]=a,s[r+1]=s[r+3]=d,s[r+2]=s[r+6]=a+c*t,s[r+5]=s[r+7]=d-h*e,r+=8}return s}function pA(t){return Yh(US,this).serialize(t,qh(ZS,this,dA).call(this))}function fA(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function mA(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function gA(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((t,n)=>t!==e[n])}Oh=tA,r(tA,"_defaultColor",null),r(tA,"_defaultOpacity",1),r(tA,"_defaultThickness",12),r(tA,"_type","highlight"),r(tA,"_editorType",cd.HIGHLIGHT),r(tA,"_freeHighlightId",-1),r(tA,"_freeHighlight",null),r(tA,"_freeHighlightClipId","");var vA=new WeakMap;class bA{constructor(){Uh(this,vA,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){Yh(vA,this)[t]=e}toSVGProperties(){const t=Yh(vA,this);return Xh(vA,this,Object.create(null)),{root:t}}reset(){Xh(vA,this,Object.create(null))}updateAll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(t)}clone(){Od("Not implemented")}}var xA=new WeakMap,yA=new WeakMap,wA=new WeakSet;class _A extends qm{constructor(t){super(t),Vh(this,wA),Uh(this,xA,null),Uh(this,yA,void 0),r(this,"_colorPicker",null),r(this,"_drawId",null),Xh(yA,this,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(qh(wA,this,kA).call(this,t),qh(wA,this,MA).call(this))}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[i,a]of Object.entries(e))n.has(i)?Object.assign(t[i],a):t[i]=a;return t}static getDefaultDrawingOptions(t){Od("Not implemented")}static get typesMap(){Od("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(DA._.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)t.push([n,e[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,i]of this.constructor.typesMap)t.push([n,e[i]]);return t}_updateProperty(t,e,n){const i=this._drawingOptions,a=i[e],s=n=>{var a;i.updateProperty(e,n);const s=Yh(xA,this).updateProperty(e,n);var r;(s&&qh(wA,this,TA).call(this,s),null===(a=this.parent)||void 0===a||a.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType)&&(null===(r=this._colorPicker)||void 0===r||r.update(n))};this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,_A._mergeSVGProperties(Yh(xA,this).getPathResizingSVGProperties(qh(wA,this,CA).call(this)),{bbox:qh(wA,this,PA).call(this)}))}_onResized(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,_A._mergeSVGProperties(Yh(xA,this).getPathResizedSVGProperties(qh(wA,this,CA).call(this)),{bbox:qh(wA,this,PA).call(this)}))}_onTranslating(t,e){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:qh(wA,this,PA).call(this)})}_onTranslated(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,_A._mergeSVGProperties(Yh(xA,this).getPathTranslatedSVGProperties(qh(wA,this,CA).call(this),this.parentDimensions),{bbox:qh(wA,this,PA).call(this)}))}_onStartDragging(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;null===(t=this.parent)||void 0===t||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,Yh(yA,this)&&(Xh(yA,this,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){qh(wA,this,AA).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(qh(wA,this,MA).call(this),qh(wA,this,TA).call(this,Yh(xA,this).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)this._uiManager.removeShouldRescale(this),qh(wA,this,AA).call(this);else if(t){var n;this._uiManager.addShouldRescale(this),qh(wA,this,MA).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),e&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,_A._mergeSVGProperties({bbox:qh(wA,this,PA).call(this)},Yh(xA,this).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&qh(wA,this,TA).call(this,Yh(xA,this).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[a,s]=this.parentDimensions;return this.setDims(this.width*a,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,i,a){Od("Not implemented")}static startDrawing(t,e,n,i){var a,s;const{target:r,offsetX:o,offsetY:l,pointerId:c,pointerType:h}=i;if(OA._&&OA._!==h)return;const{viewport:{rotation:d}}=t,{width:u,height:p}=r.getBoundingClientRect(),f=RA._=new AbortController,m=t.combinedSignal(f);NA._||(NA._=c),null!==(a=OA._)&&void 0!==a||(OA._=h),window.addEventListener("pointerup",t=>{var e;NA._===t.pointerId?this._endDraw(t):null===(e=IA._)||void 0===e||e.delete(t.pointerId)},{signal:m}),window.addEventListener("pointercancel",t=>{var e;NA._===t.pointerId?this._currentParent.endDrawingSession():null===(e=IA._)||void 0===e||e.delete(t.pointerId)},{signal:m}),window.addEventListener("pointerdown",t=>{OA._===t.pointerType&&((IA._||(IA._=new Set)).add(t.pointerId),DA._.isCancellable()&&(DA._.removeLastElement(),DA._.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",mu,{signal:m}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),r.addEventListener("touchmove",t=>{t.timeStamp===FA._&&gu(t)},{signal:m}),t.toggleDrawing(),null===(s=e._editorUndoBar)||void 0===s||s.hide(),DA._?t.drawLayer.updateProperties(this._currentDrawId,DA._.startNew(o,l,u,p,d)):(e.updateUIForDefaultProperties(this),DA._=this.createDrawerInstance(o,l,u,p,d),LA._=this.getDefaultDrawingOptions(),this._currentParent=t,({id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(LA._.toSVGProperties(),DA._.defaultSVGProperties),!0,!1)))}static _drawMove(t){var e;if(FA._=-1,!DA._)return;const{offsetX:n,offsetY:i,pointerId:a}=t;NA._===a&&((null===(e=IA._)||void 0===e?void 0:e.size)>=1?this._endDraw(t):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,DA._.add(n,i)),FA._=t.timeStamp,gu(t)))}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,DA._=null,LA._=null,OA._=null,FA._=NaN),RA._&&(RA._.abort(),RA._=null,NA._=NaN,IA._=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),(null===t||void 0===t?void 0:t.target)===e.div&&e.drawLayer.updateProperties(this._currentDrawId,DA._.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const t=DA._,n=this._currentDrawId,i=t.getLastElement();return void e.addCommands({cmd:()=>{e.drawLayer.updateProperties(n,t.setLastElement(i))},undo:()=>{e.drawLayer.updateProperties(n,t.removeLastElement())},mustExec:!1,type:hd.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(hd.DRAW_STEP),!DA._.isEmpty()){const{pageDimensions:[n,i],scale:a}=e,s=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:DA._.getOutlines(n*a,i*a,a,this._INNER_MARGIN),drawingOptions:LA._,mustBeCommitted:!t});return this._cleanup(!0),s}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,i,a,s){Od("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:r}}=e.viewport,o=this.deserializeDraw(s,r,i,a,this._INNER_MARGIN,t),l=await super.deserialize(t,e,n);return l.createDrawingOptions(t),qh(wA,l,kA).call(l,{drawOutlines:o}),qh(wA,l,MA).call(l),l.onScaleChanging(),l.rotate(),l}serializeDraw(t){const[e,n]=this.pageTranslation,[i,a]=this.pageDimensions;return Yh(xA,this).serialize([e,n,i,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}function kA(t){let{drawOutlines:e,drawId:n,drawingOptions:i}=t;Xh(xA,this,e),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-".concat(this.editorType,"-added-alert")),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=qh(wA,this,SA).call(this,e,this.parent),qh(wA,this,TA).call(this,e.box)}function SA(t,e){const{id:n}=e.drawLayer.draw(Ih._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}function AA(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function MA(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===t||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=qh(wA,this,SA).call(this,Yh(xA,this),t)):this.parent.drawLayer.updateParent(this._drawId,t.drawLayer))}function EA(t){let[e,n,i,a]=t;const{parentDimensions:[s,r],rotation:o}=this;switch(o){case 90:return[n,1-e,i*(r/s),a*(s/r)];case 180:return[1-e,1-n,i,a];case 270:return[1-n,e,i*(r/s),a*(s/r)];default:return[e,n,i,a]}}function CA(){const{x:t,y:e,width:n,height:i,parentDimensions:[a,s],rotation:r}=this;switch(r){case 90:return[1-e,t,n*(a/s),i*(s/a)];case 180:return[1-t,1-e,n,i];case 270:return[e,1-t,n*(a/s),i*(s/a)];default:return[t,e,n,i]}}function TA(t){if([this.x,this.y,this.width,this.height]=qh(wA,this,EA).call(this,t),this.div){this.fixAndSetPosition();const[t,e]=this.parentDimensions;this.setDims(this.width*t,this.height*e)}this._onResized()}function PA(){const{x:t,y:e,width:n,height:i,rotation:a,parentRotation:s,parentDimensions:[r,o]}=this;switch((4*a+s)/90){case 1:return[1-e-i,t,i,n];case 2:return[1-t-n,1-e-i,n,i];case 3:return[e,1-t-n,i,n];case 4:return[t,e-n*(r/o),i*(o/r),n*(r/o)];case 5:return[1-e,t,n*(r/o),i*(o/r)];case 6:return[1-t-i*(o/r),1-e,i*(o/r),n*(r/o)];case 7:return[e-n*(r/o),1-t-i*(o/r),n*(r/o),i*(o/r)];case 8:return[t-n,e-i,n,i];case 9:return[1-e,t-n,i,n];case 10:return[1-t,1-e,n,i];case 11:return[e-i,1-t,i,n];case 12:return[t-i*(o/r),e,i*(o/r),n*(r/o)];case 13:return[1-e-n*(r/o),t-i*(o/r),n*(r/o),i*(o/r)];case 14:return[1-t,1-e-n*(r/o),i*(o/r),n*(r/o)];case 15:return[e,1-t,n*(r/o),i*(o/r)];default:return[t,e,n,i]}}Ih=_A,r(_A,"_currentDrawId",-1),r(_A,"_currentParent",null);var DA={_:null},RA={_:null},LA={_:null},NA={_:NaN},OA={_:null},IA={_:null},FA={_:NaN};r(_A,"_INNER_MARGIN",3);var jA=new WeakMap,zA=new WeakMap,BA=new WeakMap,WA=new WeakMap,HA=new WeakMap,VA=new WeakMap,UA=new WeakMap,qA=new WeakMap,GA=new WeakMap,YA=new WeakMap,XA=new WeakMap,KA=new WeakSet;class $A{constructor(t,e,n,i,a,s){Vh(this,KA),Uh(this,jA,new Float64Array(6)),Uh(this,zA,void 0),Uh(this,BA,void 0),Uh(this,WA,void 0),Uh(this,HA,void 0),Uh(this,VA,void 0),Uh(this,UA,""),Uh(this,qA,0),Uh(this,GA,new lM),Uh(this,YA,void 0),Uh(this,XA,void 0),Xh(YA,this,n),Xh(XA,this,i),Xh(WA,this,a),Xh(HA,this,s),[t,e]=qh(KA,this,QA).call(this,t,e);const r=Xh(zA,this,[NaN,NaN,NaN,NaN,t,e]);Xh(VA,this,[t,e]),Xh(BA,this,[{line:r,points:Yh(VA,this)}]),Yh(jA,this).set(r,0)}updateProperty(t,e){"stroke-width"===t&&Xh(HA,this,e)}isEmpty(){return!Yh(BA,this)||0===Yh(BA,this).length}isCancellable(){return Yh(VA,this).length<=10}add(t,e){[t,e]=qh(KA,this,QA).call(this,t,e);const[n,i,a,s]=Yh(jA,this).subarray(2,6),r=t-a,o=e-s;return Math.hypot(Yh(YA,this)*r,Yh(XA,this)*o)<=2?null:(Yh(VA,this).push(t,e),isNaN(n)?(Yh(jA,this).set([a,s,t,e],2),Yh(zA,this).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(Yh(jA,this)[0])&&Yh(zA,this).splice(6,6),Yh(jA,this).set([n,i,a,s,t,e],0),Yh(zA,this).push(...jk.createBezierPoints(n,i,a,s,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(2===Yh(VA,this).length?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,i,a){Xh(YA,this,n),Xh(XA,this,i),Xh(WA,this,a),[t,e]=qh(KA,this,QA).call(this,t,e);const s=Xh(zA,this,[NaN,NaN,NaN,NaN,t,e]);Xh(VA,this,[t,e]);const r=Yh(BA,this).at(-1);return r&&(r.line=new Float32Array(r.line),r.points=new Float32Array(r.points)),Yh(BA,this).push({line:s,points:Yh(VA,this)}),Yh(jA,this).set(s,0),Xh(qA,this,0),this.toSVGPath(),null}getLastElement(){return Yh(BA,this).at(-1)}setLastElement(t){return Yh(BA,this)?(Yh(BA,this).push(t),Xh(zA,this,t.line),Xh(VA,this,t.points),Xh(qA,this,0),{path:{d:this.toSVGPath()}}):Yh(GA,this).setLastElement(t)}removeLastElement(){if(!Yh(BA,this))return Yh(GA,this).removeLastElement();Yh(BA,this).pop(),Xh(UA,this,"");for(let t=0,e=Yh(BA,this).length;t<e;t++){const{line:e,points:n}=Yh(BA,this)[t];Xh(zA,this,e),Xh(VA,this,n),Xh(qA,this,0),this.toSVGPath()}return{path:{d:Yh(UA,this)}}}toSVGPath(){const t=jk.svgRound(Yh(zA,this)[4]),e=jk.svgRound(Yh(zA,this)[5]);if(2===Yh(VA,this).length)return Xh(UA,this,"".concat(Yh(UA,this)," M ").concat(t," ").concat(e," Z")),Yh(UA,this);if(Yh(VA,this).length<=6){const n=Yh(UA,this).lastIndexOf("M");Xh(UA,this,"".concat(Yh(UA,this).slice(0,n)," M ").concat(t," ").concat(e)),Xh(qA,this,6)}if(4===Yh(VA,this).length){const t=jk.svgRound(Yh(zA,this)[10]),e=jk.svgRound(Yh(zA,this)[11]);return Xh(UA,this,"".concat(Yh(UA,this)," L ").concat(t," ").concat(e)),Xh(qA,this,12),Yh(UA,this)}const n=[];0===Yh(qA,this)&&(n.push("M ".concat(t," ").concat(e)),Xh(qA,this,6));for(let i=Yh(qA,this),a=Yh(zA,this).length;i<a;i+=6){const[t,e,a,s,r,o]=Yh(zA,this).slice(i,i+6).map(jk.svgRound);n.push("C".concat(t," ").concat(e," ").concat(a," ").concat(s," ").concat(r," ").concat(o))}return Xh(UA,this,Yh(UA,this)+n.join(" ")),Xh(qA,this,Yh(zA,this).length),Yh(UA,this)}getOutlines(t,e,n,i){const a=Yh(BA,this).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),Yh(GA,this).build(Yh(BA,this),t,e,n,Yh(WA,this),Yh(HA,this),i),Xh(jA,this,null),Xh(zA,this,null),Xh(BA,this,null),Xh(UA,this,null),Yh(GA,this)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function QA(t,e){return jk._normalizePoint(t,e,Yh(YA,this),Yh(XA,this),Yh(WA,this))}var JA=new WeakMap,ZA=new WeakMap,tM=new WeakMap,eM=new WeakMap,nM=new WeakMap,iM=new WeakMap,aM=new WeakMap,sM=new WeakMap,rM=new WeakMap,oM=new WeakSet;class lM extends jk{constructor(){super(...arguments),Vh(this,oM),Uh(this,JA,void 0),Uh(this,ZA,0),Uh(this,tM,void 0),Uh(this,eM,void 0),Uh(this,nM,void 0),Uh(this,iM,void 0),Uh(this,aM,void 0),Uh(this,sM,void 0),Uh(this,rM,void 0)}build(t,e,n,i,a,s,r){Xh(nM,this,e),Xh(iM,this,n),Xh(aM,this,i),Xh(sM,this,a),Xh(rM,this,s),Xh(tM,this,null!==r&&void 0!==r?r:0),Xh(eM,this,t),qh(oM,this,dM).call(this)}get thickness(){return Yh(rM,this)}setLastElement(t){return Yh(eM,this).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return Yh(eM,this).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of Yh(eM,this))if(t.push("M".concat(jk.svgRound(e[4])," ").concat(jk.svgRound(e[5]))),6!==e.length)if(12===e.length&&isNaN(e[6]))t.push("L".concat(jk.svgRound(e[10])," ").concat(jk.svgRound(e[11])));else for(let n=6,i=e.length;n<i;n+=6){const[i,a,s,r,o,l]=e.subarray(n,n+6).map(jk.svgRound);t.push("C".concat(i," ").concat(a," ").concat(s," ").concat(r," ").concat(o," ").concat(l))}else t.push("Z");return t.join("")}serialize(t,e){let[n,i,a,s]=t;const r=[],o=[],[l,c,h,d]=qh(oM,this,hM).call(this);let u,p,f,m,g,v,b,x,y;switch(Yh(sM,this)){case 0:y=jk._rescale,u=n,p=i+s,f=a,m=-s,g=n+l*a,v=i+(1-c-d)*s,b=n+(l+h)*a,x=i+(1-c)*s;break;case 90:y=jk._rescaleAndSwap,u=n,p=i,f=a,m=s,g=n+c*a,v=i+l*s,b=n+(c+d)*a,x=i+(l+h)*s;break;case 180:y=jk._rescale,u=n+a,p=i,f=-a,m=s,g=n+(1-l-h)*a,v=i+c*s,b=n+(1-l)*a,x=i+(c+d)*s;break;case 270:y=jk._rescaleAndSwap,u=n+a,p=i+s,f=-a,m=-s,g=n+(1-c-d)*a,v=i+(1-l-h)*s,b=n+(1-c)*a,x=i+(1-l)*s}for(const{line:w,points:_}of Yh(eM,this))r.push(y(w,u,p,f,m,e?new Array(w.length):null)),o.push(y(_,u,p,f,m,e?new Array(_.length):null));return{lines:r,points:o,rect:[g,v,b,x]}}static deserialize(t,e,n,i,a,s){let{paths:{lines:r,points:o},rotation:l,thickness:c}=s;const h=[];let d,u,p,f,m;switch(l){case 0:m=jk._rescale,d=-t/n,u=e/i+1,p=1/n,f=-1/i;break;case 90:m=jk._rescaleAndSwap,d=-e/i,u=-t/n,p=1/i,f=1/n;break;case 180:m=jk._rescale,d=t/n+1,u=-e/i,p=-1/n,f=1/i;break;case 270:m=jk._rescaleAndSwap,d=e/i+1,u=t/n+1,p=-1/i,f=-1/n}if(!r){r=[];for(const t of o){const e=t.length;if(2===e){r.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1]]));continue}if(4===e){r.push(new Float32Array([NaN,NaN,NaN,NaN,t[0],t[1],NaN,NaN,NaN,NaN,t[2],t[3]]));continue}const n=new Float32Array(3*(e-2));r.push(n);let[i,a,s,o]=t.subarray(0,4);n.set([NaN,NaN,NaN,NaN,i,a],0);for(let r=4;r<e;r+=2){const e=t[r],l=t[r+1];n.set(jk.createBezierPoints(i,a,s,o,e,l),3*(r-2)),[i,a,s,o]=[s,o,e,l]}}}for(let v=0,b=r.length;v<b;v++)h.push({line:m(r[v].map(t=>null!==t&&void 0!==t?t:NaN),d,u,p,f),points:m(o[v].map(t=>null!==t&&void 0!==t?t:NaN),d,u,p,f)});const g=new this.prototype.constructor;return g.build(h,n,i,1,l,c,a),g}get box(){return Yh(JA,this)}updateProperty(t,e){return"stroke-width"===t?qh(oM,this,uM).call(this,e):null}updateParentDimensions(t,e){let[n,i]=t;const[a,s]=qh(oM,this,cM).call(this);Xh(nM,this,n),Xh(iM,this,i),Xh(aM,this,e);const[r,o]=qh(oM,this,cM).call(this),l=r-a,c=o-s,h=Yh(JA,this);return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h}updateRotation(t){return Xh(ZA,this,t),{path:{transform:this.rotationTransform}}}get viewBox(){return Yh(JA,this).map(jk.svgRound).join(" ")}get defaultProperties(){const[t,e]=Yh(JA,this);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(jk.svgRound(t)," ").concat(jk.svgRound(e))}}}get rotationTransform(){const[,,t,e]=Yh(JA,this);let n=0,i=0,a=0,s=0,r=0,o=0;switch(Yh(ZA,this)){case 90:i=e/t,a=-t/e,r=t;break;case 180:n=-1,s=-1,r=t,o=e;break;case 270:i=-e/t,a=t/e,o=e;break;default:return""}return"matrix(".concat(n," ").concat(i," ").concat(a," ").concat(s," ").concat(jk.svgRound(r)," ").concat(jk.svgRound(o),")")}getPathResizingSVGProperties(t){let[e,n,i,a]=t;const[s,r]=qh(oM,this,cM).call(this),[o,l,c,h]=Yh(JA,this);if(Math.abs(c-s)<=jk.PRECISION||Math.abs(h-r)<=jk.PRECISION){const t=e+i/2-(o+c/2),s=n+a/2-(l+h/2);return{path:{"transform-origin":"".concat(jk.svgRound(e)," ").concat(jk.svgRound(n)),transform:"".concat(this.rotationTransform," translate(").concat(t," ").concat(s,")")}}}const d=(i-2*s)/(c-2*s),u=(a-2*r)/(h-2*r),p=c/i,f=h/a;return{path:{"transform-origin":"".concat(jk.svgRound(o)," ").concat(jk.svgRound(l)),transform:"".concat(this.rotationTransform," scale(").concat(p," ").concat(f,") ")+"translate(".concat(jk.svgRound(s)," ").concat(jk.svgRound(r),") scale(").concat(d," ").concat(u,") ")+"translate(".concat(jk.svgRound(-s)," ").concat(jk.svgRound(-r),")")}}}getPathResizedSVGProperties(t){let[e,n,i,a]=t;const[s,r]=qh(oM,this,cM).call(this),o=Yh(JA,this),[l,c,h,d]=o;if(o[0]=e,o[1]=n,o[2]=i,o[3]=a,Math.abs(h-s)<=jk.PRECISION||Math.abs(d-r)<=jk.PRECISION){const t=e+i/2-(l+h/2),s=n+a/2-(c+d/2);for(const{line:e,points:n}of Yh(eM,this))jk._translate(e,t,s,e),jk._translate(n,t,s,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(jk.svgRound(e)," ").concat(jk.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const u=(i-2*s)/(h-2*s),p=(a-2*r)/(d-2*r),f=-u*(l+s)+e+s,m=-p*(c+r)+n+r;if(1!==u||1!==p||0!==f||0!==m)for(const{line:g,points:v}of Yh(eM,this))jk._rescale(g,f,m,u,p,g),jk._rescale(v,f,m,u,p,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(jk.svgRound(e)," ").concat(jk.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(t,e){let[n,i]=t;const[a,s]=e,r=Yh(JA,this),o=n-r[0],l=i-r[1];if(Yh(nM,this)===a&&Yh(iM,this)===s)for(const{line:c,points:h}of Yh(eM,this))jk._translate(c,o,l,c),jk._translate(h,o,l,h);else{const t=Yh(nM,this)/a,e=Yh(iM,this)/s;Xh(nM,this,a),Xh(iM,this,s);for(const{line:n,points:i}of Yh(eM,this))jk._rescale(n,o,l,t,e,n),jk._rescale(i,o,l,t,e,i);r[2]*=t,r[3]*=e}return r[0]=n,r[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(jk.svgRound(n)," ").concat(jk.svgRound(i))}}}get defaultSVGProperties(){const t=Yh(JA,this);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(jk.svgRound(t[0])," ").concat(jk.svgRound(t[1])),transform:this.rotationTransform||null},bbox:t}}}function cM(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yh(rM,this);const e=Yh(tM,this)+t/2*Yh(aM,this);return Yh(sM,this)%180===0?[e/Yh(nM,this),e/Yh(iM,this)]:[e/Yh(iM,this),e/Yh(nM,this)]}function hM(){const[t,e,n,i]=Yh(JA,this),[a,s]=qh(oM,this,cM).call(this,0);return[t+a,e+s,n-2*a,i-2*s]}function dM(){const t=Xh(JA,this,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of Yh(eM,this)){if(i.length<=12){for(let e=4,n=i.length;e<n;e+=6)Qd.pointBoundingBox(i[e],i[e+1],t);continue}let e=i[4],n=i[5];for(let a=6,s=i.length;a<s;a+=6){const[s,r,o,l,c,h]=i.subarray(a,a+6);Qd.bezierBoundingBox(e,n,s,r,o,l,c,h,t),e=c,n=h}}const[e,n]=qh(oM,this,cM).call(this);t[0]=au(t[0]-e,0,1),t[1]=au(t[1]-n,0,1),t[2]=au(t[2]+e,0,1),t[3]=au(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}function uM(t){const[e,n]=qh(oM,this,cM).call(this);Xh(rM,this,t);const[i,a]=qh(oM,this,cM).call(this),[s,r]=[i-e,a-n],o=Yh(JA,this);return o[0]-=s,o[1]-=r,o[2]+=2*s,o[3]+=2*r,o}class pM extends bA{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:qm._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){"stroke-width"===t&&(null!==e&&void 0!==e||(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new pM(this._viewParameters);return t.updateAll(this),t}}var fM=new WeakSet;class mM extends _A{constructor(t){super(l(l({},t),{},{name:"inkEditor"})),Vh(this,fM),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){qm.initialize(t,e),this._defaultDrawingOptions=new pM(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return zd(this,"typesMap",new Map([[hd.INK_THICKNESS,"stroke-width"],[hd.INK_COLOR,"stroke"],[hd.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,i,a){return new $A(t,e,n,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,i,a,s){return lM.deserialize(t,e,n,i,a,s)}static async deserialize(t,e,n){let i=null;if(t instanceof nk){const{data:{inkLists:e,rect:n,rotation:a,id:s,color:r,opacity:o,borderStyle:{rawWidth:l},popupRef:c,contentsObj:h},parent:{page:{pageNumber:d}}}=t;i=t={annotationType:cd.INK,color:Array.from(r),thickness:l,opacity:o,paths:{points:e},boxes:null,pageIndex:d-1,rect:n.slice(0),rotation:a,annotationElementId:s,id:s,deleted:!1,popupRef:c,comment:(null===h||void 0===h?void 0:h.str)||null}}const a=await super.deserialize(t,e,n);return a._initialData=i,t.comment&&a.setCommentData(t.comment),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Mw(this)),[["colorPicker",this._colorPicker]]}get colorType(){return hd.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(t){let{color:e,thickness:n,opacity:i}=t;this._drawingOptions=mM.getDefaultDrawingOptions({stroke:Qd.makeHexColor(...e),"stroke-width":n,"stroke-opacity":i})}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n,rect:i}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":r}}=this,o={annotationType:cd.INK,color:qm._colorManager.convert(a),opacity:s,thickness:r,paths:{lines:e,points:n},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(o),t?(o.isCopy=!0,o):this.annotationElementId&&!qh(fM,this,gM).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1),i={rect:n,thickness:this._drawingOptions["stroke-width"],points:e};return this.hasEditedComment&&(i.popup=this.comment),t.updateEdited(i),null}}function gM(t){const{color:e,thickness:n,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((t,n)=>t!==e[n])||t.thickness!==n||t.opacity!==i||t.pageIndex!==a}r(mM,"_type","ink"),r(mM,"_editorType",cd.INK),r(mM,"_defaultDrawingOptions",null);class vM extends lM{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}class bM{static extractContoursFromText(t,e,n,i,a,s){let{fontFamily:r,fontStyle:o,fontWeight:l}=e,c=new OffscreenCanvas(1,1),h=c.getContext("2d",{alpha:!1});const d=h.font="".concat(o," ").concat(l," ").concat(200,"px ").concat(r),{actualBoundingBoxLeft:u,actualBoundingBoxRight:p,actualBoundingBoxAscent:f,actualBoundingBoxDescent:m,fontBoundingBoxAscent:g,fontBoundingBoxDescent:v,width:b}=h.measureText(t),x=1.5,y=Math.ceil(Math.max(Math.abs(u)+Math.abs(p)||0,b)*x),w=Math.ceil(Math.max(Math.abs(f)+Math.abs(m)||200,Math.abs(g)+Math.abs(v)||200)*x);c=new OffscreenCanvas(y,w),h=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=d,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,y,w),h.fillStyle="black",h.fillText(t,.5*y/2,1.5*w/2);const _=qh(bM,this,EM).call(this,h.getImageData(0,0,y,w).data),k=qh(bM,this,MM).call(this,_),S=qh(bM,this,CM).call(this,k),A=qh(bM,this,_M).call(this,_,y,w,S);return this.processDrawnLines({lines:{curves:A,width:y,height:w},pageWidth:n,pageHeight:i,rotation:a,innerMargin:s,mustSmooth:!0,areContours:!0})}static process(t,e,n,i,a){const[s,r,o]=qh(bM,this,TM).call(this,t),[l,c]=qh(bM,this,AM).call(this,s,r,o,Math.hypot(r,o)*qh(bM,this,PM)._.sigmaSFactor,qh(bM,this,PM)._.sigmaR,qh(bM,this,PM)._.kernelSize),h=qh(bM,this,CM).call(this,c),d=qh(bM,this,_M).call(this,l,r,o,h);return this.processDrawnLines({lines:{curves:d,width:r,height:o},pageWidth:e,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines(t){var e;let{lines:n,pageWidth:i,pageHeight:a,rotation:s,innerMargin:r,mustSmooth:o,areContours:l}=t;s%180!==0&&([i,a]=[a,i]);const{curves:c,width:h,height:d}=n,u=null!==(e=n.thickness)&&void 0!==e?e:0,p=[],f=Math.min(i/h,a/d),m=f/i,g=f/a,v=[];for(const{points:x}of c){const t=o?qh(bM,this,SM).call(this,x):x;if(!t)continue;v.push(t);const e=t.length,n=new Float32Array(e),i=new Float32Array(3*(2===e?2:e-2));if(p.push({line:i,points:n}),2===e){n[0]=t[0]*m,n[1]=t[1]*g,i.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[a,s,r,l]=t;a*=m,s*=g,r*=m,l*=g,n.set([a,s,r,l],0),i.set([NaN,NaN,NaN,NaN,a,s],0);for(let o=4;o<e;o+=2){const e=n[o]=t[o]*m,c=n[o+1]=t[o+1]*g;i.set(jk.createBezierPoints(a,s,r,l,e,c),3*(o-2)),[a,s,r,l]=[r,l,e,c]}}if(0===p.length)return null;const b=l?new vM:new lM;return b.build(p,i,a,1,s,l?0:u,r),{outline:b,newCurves:v,areContours:l,thickness:u,width:h,height:d}}static async compressSignature(t){let e,{outlines:n,areContours:i,thickness:a,width:s,height:r}=t,o=1/0,l=-1/0,c=0;for(const b of n){c+=b.length;for(let t=2,e=b.length;t<e;t++){const e=b[t]-b[t-2];o=Math.min(o,e),l=Math.max(l,e)}}e=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const h=n.length,d=8+3*h,u=new Uint32Array(d);let p=0;u[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(c-2*h)*e.BYTES_PER_ELEMENT,u[p++]=0,u[p++]=s,u[p++]=r,u[p++]=i?0:1,u[p++]=Math.max(0,Math.floor(null!==a&&void 0!==a?a:0)),u[p++]=h,u[p++]=e.BYTES_PER_ELEMENT;for(const b of n)u[p++]=b.length-2,u[p++]=b[0],u[p++]=b[1];const f=new CompressionStream("deflate-raw"),m=f.writable.getWriter();await m.ready,m.write(u);const g=e.prototype.constructor;for(const b of n){const t=new g(b.length-2);for(let e=2,n=b.length;e<n;e++)t[e-2]=b[e]-b[e-2];m.write(t)}m.close();const v=await new Response(f.readable).arrayBuffer();return su(new Uint8Array(v))}static async decompressSignature(t){try{const l=(r=t,Uint8Array.fromBase64?Uint8Array.fromBase64(r):Xd(atob(r))),{readable:c,writable:h}=new DecompressionStream("deflate-raw"),d=h.getWriter();await d.ready,d.write(l).then(async()=>{await d.ready,await d.close()}).catch(()=>{});let u=null,p=0;var e,n=!1,i=!1;try{for(var a,s=function(t){var e,n,i,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new Kh(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(c);n=!(a=await s.next()).done;n=!1){const t=a.value;u||(u=new Uint8Array(new Uint32Array(t.buffer,0,4)[0])),u.set(t,p),p+=t.length}}catch(o){i=!0,e=o}finally{try{n&&null!=s.return&&await s.return()}finally{if(i)throw e}}const f=new Uint32Array(u.buffer,0,u.length>>2),m=f[1];if(0!==m)throw new Error("Invalid version: ".concat(m));const g=f[2],v=f[3],b=0===f[4],x=f[5],y=f[6],w=f[7],_=[],k=(8+3*y)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(w){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(u.buffer,k);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(u.buffer,k);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(u.buffer,k)}p=0;for(let t=0;t<y;t++){const e=f[3*t+8],n=new Float32Array(e+2);_.push(n);for(let i=0;i<2;i++)n[i]=f[3*t+8+i+1];for(let t=0;t<e;t++)n[t+2]=n[t]+S[p++]}return{areContours:b,thickness:x,outlines:_,width:g,height:v}}catch(UE){return Nd("decompressSignature: ".concat(UE)),null}var r}}function xM(t,e,n,i){return i-=e,0===(n-=t)?i>0?0:4:1===n?i+6:2-i}function yM(t,e,n,i,a,s,r){const o=qh(Fh,this,xM).call(this,n,i,a,s);for(let l=0;l<8;l++){const a=(-l+o-r+16)%8;if(0!==t[(n+qh(Fh,this,DM)._[2*a])*e+(i+qh(Fh,this,DM)._[2*a+1])])return a}return-1}function wM(t,e,n,i,a,s,r){const o=qh(Fh,this,xM).call(this,n,i,a,s);for(let l=0;l<8;l++){const a=(l+o+r+16)%8;if(0!==t[(n+qh(Fh,this,DM)._[2*a])*e+(i+qh(Fh,this,DM)._[2*a+1])])return a}return-1}function _M(t,e,n,i){const a=t.length,s=new Int32Array(a);for(let c=0;c<a;c++)s[c]=t[c]<=i?1:0;for(let c=1;c<n-1;c++)s[c*e]=s[c*e+e-1]=0;for(let c=0;c<e;c++)s[c]=s[e*n-1-c]=0;let r,o=1;const l=[];for(let c=1;c<n-1;c++){r=1;for(let t=1;t<e-1;t++){const n=c*e+t,i=s[n];if(0===i)continue;let a=c,h=t;if(1===i&&0===s[n-1])o+=1,h-=1;else{if(!(i>=1&&0===s[n+1])){1!==i&&(r=Math.abs(i));continue}o+=1,h+=1,i>1&&(r=i)}const d=[t,c],u=h===t+1,p={isHole:u,points:d,id:o,parent:0};let f;l.push(p);for(const t of l)if(t.id===r){f=t;break}f?f.isHole?p.parent=u?f.parent:r:p.parent=u?r:f.parent:p.parent=u?r:0;const m=qh(Fh,this,yM).call(this,s,e,c,t,a,h,0);if(-1===m){s[n]=-o,1!==s[n]&&(r=Math.abs(s[n]));continue}let g=qh(Fh,this,DM)._[2*m],v=qh(Fh,this,DM)._[2*m+1];const b=c+g,x=t+v;a=b,h=x;let y=c,w=t;for(;;){const i=qh(Fh,this,wM).call(this,s,e,y,w,a,h,1);g=qh(Fh,this,DM)._[2*i],v=qh(Fh,this,DM)._[2*i+1];const l=y+g,u=w+v;d.push(u,l);const p=y*e+w;if(0===s[p+1]?s[p]=-o:1===s[p]&&(s[p]=o),l===c&&u===t&&y===b&&w===x){1!==s[n]&&(r=Math.abs(s[n]));break}a=y,h=w,y=l,w=u}}}return l}function kM(t,e,n,i){if(n-e<=4){for(let a=e;a<n-2;a+=2)i.push(t[a],t[a+1]);return}const a=t[e],s=t[e+1],r=t[n-4]-a,o=t[n-3]-s,l=Math.hypot(r,o),c=r/l,h=o/l,d=c*s-h*a,u=o/r,p=1/l,f=Math.atan(u),m=Math.cos(f),g=Math.sin(f),v=p*(Math.abs(m)+Math.abs(g)),b=p*(1-v+v**2),x=Math.max(Math.atan(Math.abs(g+m)*b),Math.atan(Math.abs(g-m)*b));let y=0,w=e;for(let _=e+2;_<n-2;_+=2){const e=Math.abs(d-c*t[_+1]+h*t[_]);e>y&&(w=_,y=e)}y>(l*x)**2?(qh(Fh,this,kM).call(this,t,e,w+2,i),qh(Fh,this,kM).call(this,t,w,n,i)):i.push(a,s)}function SM(t){const e=[],n=t.length;return qh(Fh,this,kM).call(this,t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}function AM(t,e,n,i,a,s){const r=new Float32Array(s**2),o=-2*i**2,l=s>>1;for(let f=0;f<s;f++){const t=(f-l)**2;for(let e=0;e<s;e++)r[f*s+e]=Math.exp((t+(e-l)**2)/o)}const c=new Float32Array(256),h=-2*a**2;for(let f=0;f<256;f++)c[f]=Math.exp(f**2/h);const d=t.length,u=new Uint8Array(d),p=new Uint32Array(256);for(let f=0;f<n;f++)for(let i=0;i<e;i++){const a=f*e+i,o=t[a];let h=0,d=0;for(let u=0;u<s;u++){const a=f+u-l;if(!(a<0||a>=n))for(let n=0;n<s;n++){const p=i+n-l;if(p<0||p>=e)continue;const f=t[a*e+p],m=r[u*s+n]*c[Math.abs(f-o)];h+=f*m,d+=m}}p[u[a]=Math.round(h/d)]++}return[u,p]}function MM(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}function EM(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let i=-1/0,a=1/0;for(let r=0,o=n.length;r<o;r++){const e=n[r]=t[r<<2];i=Math.max(i,e),a=Math.min(a,e)}const s=255/(i-a);for(let r=0,o=n.length;r<o;r++)n[r]=(n[r]-a)*s;return n}function CM(t){let e,n=-1/0,i=-1/0;const a=t.findIndex(t=>0!==t);let s=a,r=a;for(e=a;e<256;e++){const a=t[e];a>n&&(e-s>i&&(i=e-s,r=e-1),n=a,s=e)}for(e=r-1;e>=0&&!(t[e]>t[e+1]);e--);return e}function TM(t){const e=t,{width:n,height:i}=t,{maxDim:a}=qh(Fh,this,PM)._;let s=n,r=i;if(n>a||i>a){let o=n,l=i,c=Math.log2(Math.max(n,i)/a);const h=Math.floor(c);c=c===h?h-1:h;for(let n=0;n<c;n++){s=Math.ceil(o/2),r=Math.ceil(l/2);const n=new OffscreenCanvas(s,r);n.getContext("2d").drawImage(t,0,0,o,l,0,0,s,r),o=s,l=r,t!==e&&t.close(),t=n.transferToImageBitmap()}const d=Math.min(a/s,a/r);s=Math.round(s*d),r=Math.round(r*d)}const o=new OffscreenCanvas(s,r).getContext("2d",{willReadFrequently:!0});o.fillStyle="white",o.fillRect(0,0,s,r),o.filter="grayscale(1)",o.drawImage(t,0,0,t.width,t.height,0,0,s,r);const l=o.getImageData(0,0,s,r).data;return[qh(Fh,this,EM).call(this,l),s,r]}Fh=bM;var PM={_:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},DM={_:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class RM extends bA{constructor(){super(),super.updateProperties({fill:qm._defaultLineColor,"stroke-width":0})}clone(){const t=new RM;return t.updateAll(this),t}}class LM extends pM{constructor(t){super(t),super.updateProperties({stroke:qm._defaultLineColor,"stroke-width":1})}clone(){const t=new LM(this._viewParameters);return t.updateAll(this),t}}var NM=new WeakMap,OM=new WeakMap,IM=new WeakMap,FM=new WeakMap;class jM extends _A{constructor(t){super(l(l({},t),{},{mustBeCommitted:!0,name:"signatureEditor"})),Uh(this,NM,!1),Uh(this,OM,null),Uh(this,IM,null),Uh(this,FM,null),this._willKeepAspectRatio=!0,Xh(IM,this,t.signatureData||null),Xh(OM,this,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){qm.initialize(t,e),this._defaultDrawingOptions=new RM,this._defaultDrawnSignatureOptions=new LM(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return zd(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!Yh(OM,this)}}static computeTelemetryFinalData(t){var e,n;const i=t.get("hasDescription");return{hasAltText:null!==(e=i.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),null===this._drawId)if(Yh(IM,this)){const{lines:t,mustSmooth:e,areContours:n,description:i,uuid:a,heightInPage:s}=Yh(IM,this),{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport,c=bM.processDrawnLines({lines:t,pageWidth:r,pageHeight:o,rotation:l,innerMargin:jM._INNER_MARGIN,mustSmooth:e,areContours:n});this.addSignature(c,s,i,a)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:Yh(OM,this)||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){Xh(FM,this,t),this.addEditToolbar()}getUuid(){return Yh(FM,this)}get description(){return Yh(OM,this)}set description(t){Xh(OM,this,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{null===e||void 0===e||e.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:i,height:a}=Yh(IM,this),s=Math.max(i,a);return{areContours:e,outline:bM.processDrawnLines({lines:{curves:t.map(t=>({points:t})),thickness:n,width:i,height:a},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,i){const{x:a,y:s}=this,{outline:r}=Xh(IM,this,t);let o;Xh(NM,this,r instanceof vM),this.description=n,Yh(NM,this)?o=jM.getDefaultDrawingOptions():(o=jM._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":r.thickness})),this._addOutlines({drawOutlines:r,drawingOptions:o});const[l,c]=this.parentDimensions,[,h]=this.pageDimensions;let d=e/h;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(l*this.width,c*this.height),this.x=a,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return bM.process(t,e,n,i,jM._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return bM.extractContoursFromText(t,e,n,i,a,jM._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:i}=this.parent.viewport;return bM.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:i,innerMargin:jM._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(t){let{areContours:e,thickness:n}=t;e?this._drawingOptions=jM.getDefaultDrawingOptions():(this._drawingOptions=jM._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:e,points:n,rect:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,s={annotationType:cd.SIGNATURE,isSignature:!0,areContours:Yh(NM,this),color:[0,0,0],thickness:Yh(NM,this)?0:a,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(s),t?(s.paths={lines:e,points:n},s.uuid=Yh(FM,this),s.isCopy=!0):s.lines=e,Yh(OM,this)&&(s.accessibilityData={type:"Figure",alt:Yh(OM,this)}),s}static deserializeDraw(t,e,n,i,a,s){return s.areContours?vM.deserialize(t,e,n,i,a,s):lM.deserialize(t,e,n,i,a,s)}static async deserialize(t,e,n){var i;const a=await super.deserialize(t,e,n);return Xh(NM,a,t.areContours),a.description=(null===(i=t.accessibilityData)||void 0===i?void 0:i.alt)||"",Xh(FM,a,t.uuid),a}}r(jM,"_type","signature"),r(jM,"_editorType",cd.SIGNATURE),r(jM,"_defaultDrawingOptions",null);var zM=new WeakMap,BM=new WeakMap,WM=new WeakMap,HM=new WeakMap,VM=new WeakMap,UM=new WeakMap,qM=new WeakMap,GM=new WeakMap,YM=new WeakMap,XM=new WeakMap,KM=new WeakMap,$M=new WeakSet;class QM extends qm{constructor(t){super(l(l({},t),{},{name:"stampEditor"})),Vh(this,$M),Uh(this,zM,null),Uh(this,BM,null),Uh(this,WM,null),Uh(this,HM,null),Uh(this,VM,null),Uh(this,UM,""),Uh(this,qM,null),Uh(this,GM,!1),Uh(this,YM,null),Uh(this,XM,!1),Uh(this,KM,!1),Xh(HM,this,t.bitmapUrl),Xh(VM,this,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){qm.initialize(t,e)}static isHandlingMimeForPasting(t){return Su.includes(t)}static paste(t,e){e.pasteEditor({mode:cd.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!(null===(t=this.altTextData)||void 0===t||!t.altText)}}static computeTelemetryFinalData(t){var e,n;const i=t.get("hasAltText");return{hasAltText:null!==(e=i.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:s}=t||this.copyCanvas(null,null,!0).imageData,r=await n.guess({name:"altText",request:{data:i,width:a,height:s,channels:i.length/(a*s)}});if(!r)throw new Error("No response from the AI service.");if(r.error)throw new Error("Error from the AI service.");if(r.cancel)return null;if(!r.output)throw new Error("No valid response from the AI service.");const o=r.output;return await this.setGuessedAltText(o),e&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var t;Yh(BM,this)&&(Xh(zM,this,null),this._uiManager.imageManager.deleteId(Yh(BM,this)),null===(t=Yh(qM,this))||void 0===t||t.remove(),Xh(qM,this,null),Yh(YM,this)&&(clearTimeout(Yh(YM,this)),Xh(YM,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(Yh(BM,this)&&null===Yh(qM,this)&&qh($M,this,tE).call(this),this.isAttachedToDOM||this.parent.add(this))):Yh(BM,this)&&qh($M,this,tE).call(this)}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(Yh(WM,this)||Yh(zM,this)||Yh(HM,this)||Yh(VM,this)||Yh(BM,this)||Yh(GM,this))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),Yh(GM,this)||(Yh(zM,this)?qh($M,this,eE).call(this):qh($M,this,tE).call(this)),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(Xh(BM,this,n),i&&Xh(zM,this,i),Xh(GM,this,!1),qh($M,this,eE).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==Yh(YM,this)&&clearTimeout(Yh(YM,this));Xh(YM,this,setTimeout(()=>{Xh(YM,this,null),qh($M,this,iE).call(this)},200))}copyCanvas(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(t=224);const{width:i,height:a}=Yh(zM,this),s=new ku;let r=Yh(zM,this),o=i,l=a,c=null;if(e){var h,d;if(i>e||a>e){const t=Math.min(e/i,e/a);o=Math.floor(i*t),l=Math.floor(a*t)}c=document.createElement("canvas");const t=c.width=Math.ceil(o*s.sx),n=c.height=Math.ceil(l*s.sy);Yh(XM,this)||(r=qh($M,this,nE).call(this,t,n));const u=c.getContext("2d");u.filter=this._uiManager.hcmFilter;let p="white",f="#cfcfd8";"none"!==this._uiManager.hcmFilter?f="black":null!==(h=(d=window).matchMedia)&&void 0!==h&&h.call(d,"(prefers-color-scheme: dark)").matches&&(p="#8f8f9d",f="#42414d");const m=15,g=m*s.sx,v=m*s.sy,b=new OffscreenCanvas(2*g,2*v),x=b.getContext("2d");x.fillStyle=p,x.fillRect(0,0,2*g,2*v),x.fillStyle=f,x.fillRect(0,0,g,v),x.fillRect(g,v,g,v),u.fillStyle=u.createPattern(b,"repeat"),u.fillRect(0,0,t,n),u.drawImage(r,0,0,r.width,r.height,0,0,t,n)}let u=null;if(n){let e,n;if(s.symmetric&&r.width<t&&r.height<t)e=r.width,n=r.height;else if(r=Yh(zM,this),i>t||a>t){const s=Math.min(t/i,t/a);e=Math.floor(i*s),n=Math.floor(a*s),Yh(XM,this)||(r=qh($M,this,nE).call(this,e,n))}const o=new OffscreenCanvas(e,n).getContext("2d",{willReadFrequently:!0});o.drawImage(r,0,0,r.width,r.height,0,0,e,n),u={width:e,height:n,data:o.getImageData(0,0,e,n).data}}return{canvas:c,width:o,height:l,imageData:u}}static async deserialize(t,e,n){let i=null,a=!1;if(t instanceof lk){var s;const{data:{rect:r,rotation:o,id:l,structParent:c,popupRef:h,contentsObj:d},container:u,parent:{page:{pageNumber:p}},canvas:f}=t;let m,g;f?(delete t.canvas,({id:m,bitmap:g}=n.imageManager.getFromCanvas(u.id,f)),f.remove()):(a=!0,t._hasNoCanvas=!0);const v=(null===(s=await e._structTree.getAriaAttributes("".concat(iu).concat(l)))||void 0===s?void 0:s.get("aria-label"))||"";i=t={annotationType:cd.STAMP,bitmapId:m,bitmap:g,pageIndex:p-1,rect:r.slice(0),rotation:o,annotationElementId:l,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:v},isSvg:!1,structParent:c,popupRef:h,comment:(null===d||void 0===d?void 0:d.str)||null}}const r=await super.deserialize(t,e,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:h,isSvg:d,accessibilityData:u}=t;a?(n.addMissingCanvas(t.id,r),Xh(GM,r,!0)):h&&n.imageManager.isValidId(h)?(Xh(BM,r,h),l&&Xh(zM,r,l)):Xh(HM,r,c),Xh(XM,r,d);const[p,f]=r.pageDimensions;return r.width=(o[2]-o[0])/p,r.height=(o[3]-o[1])/f,u&&(r.altTextData=u),r._initialData=i,t.comment&&r.setCommentData(t.comment),Xh(KM,r,!!i),r}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:cd.STAMP,bitmapId:Yh(BM,this),pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,isSvg:Yh(XM,this),structTreeParentId:this._structTreeParentId};if(this.addComment(n),t)return n.bitmapUrl=qh($M,this,aE).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(n.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const t=qh($M,this,sE).call(this,n);if(t.isSame)return null;var s;if(t.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(s=this._initialData.structParent)&&void 0!==s?s:-1}if(n.id=this.annotationElementId,null===e)return n;e.stamps||(e.stamps=new Map);const r=Yh(XM,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(Yh(BM,this))){if(Yh(XM,this)){const t=e.stamps.get(Yh(BM,this));r>t.area&&(t.area=r,t.serialized.bitmap.close(),t.serialized.bitmap=qh($M,this,aE).call(this,!1))}}else e.stamps.set(Yh(BM,this),{area:r,serialized:n}),n.bitmap=qh($M,this,aE).call(this,!1);return n}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const e={rect:this.getPDFRect()};return this.hasEditedComment&&(e.popup=this.comment),t.updateEdited(e),null}}function JM(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(Xh(zM,this,t.bitmap),e||(Xh(BM,this,t.id),Xh(XM,this,t.isSvg)),t.file&&Xh(UM,this,t.file.name),qh($M,this,eE).call(this)):this.remove()}function ZM(){if(Xh(WM,this,null),this._uiManager.enableWaiting(!1),Yh(qM,this))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&Yh(zM,this))this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&Yh(zM,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(t){}}this.div.focus()}}function tE(){if(Yh(BM,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(Yh(BM,this)).then(t=>qh($M,this,JM).call(this,t,!0)).finally(()=>qh($M,this,ZM).call(this));if(Yh(HM,this)){const t=Yh(HM,this);return Xh(HM,this,null),this._uiManager.enableWaiting(!0),void Xh(WM,this,this._uiManager.imageManager.getFromUrl(t).then(t=>qh($M,this,JM).call(this,t)).finally(()=>qh($M,this,ZM).call(this)))}if(Yh(VM,this)){const t=Yh(VM,this);return Xh(VM,this,null),this._uiManager.enableWaiting(!0),void Xh(WM,this,this._uiManager.imageManager.getFromFile(t).then(t=>qh($M,this,JM).call(this,t)).finally(()=>qh($M,this,ZM).call(this)))}const t=document.createElement("input");t.type="file",t.accept=Su.join(",");const e=this._uiManager._signal;Xh(WM,this,new Promise(n=>{t.addEventListener("change",async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),qh($M,this,JM).call(this,e)}else this.remove();n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>qh($M,this,ZM).call(this))),t.click()}function eE(){var t;const{div:e}=this;let{width:n,height:i}=Yh(zM,this);const[a,s]=this.pageDimensions,r=.75;if(this.width)n=this.width*a,i=this.height*s;else if(n>r*a||i>r*s){const t=Math.min(r*a/n,r*s/i);n*=t,i*=t}const[o,l]=this.parentDimensions;this.setDims(n*o/a,i*l/s),this._uiManager.enableWaiting(!1);const c=Xh(qM,this,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=n/a,this.height=i/s,null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),qh($M,this,iE).call(this),Yh(KM,this)||(this.parent.addUndoableEditor(this),Xh(KM,this,!0)),this._reportTelemetry({action:"inserted_image"}),Yh(UM,this)&&this.div.setAttribute("aria-description",Yh(UM,this)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}function nE(t,e){const{width:n,height:i}=Yh(zM,this);let a=n,s=i,r=Yh(zM,this);for(;a>2*t||s>2*e;){const n=a,i=s;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const o=new OffscreenCanvas(a,s);o.getContext("2d").drawImage(r,0,0,n,i,0,0,a,s),r=o.transferToImageBitmap()}return r}function iE(){const[t,e]=this.parentDimensions,{width:n,height:i}=this,a=new ku,s=Math.ceil(n*t*a.sx),r=Math.ceil(i*e*a.sy),o=Yh(qM,this);if(!o||o.width===s&&o.height===r)return;o.width=s,o.height=r;const l=Yh(XM,this)?Yh(zM,this):qh($M,this,nE).call(this,s,r),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,s,r)}function aE(t){if(t){if(Yh(XM,this)){const t=this._uiManager.imageManager.getSvgUrl(Yh(BM,this));if(t)return t}const t=document.createElement("canvas");({width:t.width,height:t.height}=Yh(zM,this));return t.getContext("2d").drawImage(Yh(zM,this),0,0),t.toDataURL()}if(Yh(XM,this)){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*ou.PDF_TO_CSS_UNITS),i=Math.round(this.height*e*ou.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(n,i);return a.getContext("2d").drawImage(Yh(zM,this),0,0,Yh(zM,this).width,Yh(zM,this).height,0,0,n,i),a.transferToImageBitmap()}return structuredClone(Yh(zM,this))}function sE(t){var e;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===n,s=((null===(e=t.accessibilityData)||void 0===e?void 0:e.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}}r(QM,"_type","stamp"),r(QM,"_editorType",cd.STAMP);var rE=new WeakMap,oE=new WeakMap,lE=new WeakMap,cE=new WeakMap,hE=new WeakMap,dE=new WeakMap,uE=new WeakMap,pE=new WeakMap,fE=new WeakMap,mE=new WeakMap,gE=new WeakMap,vE=new WeakMap,bE=new WeakMap,xE=new WeakMap,yE=new WeakMap,wE=new WeakMap,_E=new WeakSet;class kE{constructor(t){let{uiManager:e,pageIndex:n,div:i,structTreeLayer:a,accessibilityManager:s,annotationLayer:r,drawLayer:o,textLayer:l,viewport:c,l10n:h}=t;Vh(this,_E),Uh(this,rE,void 0),Uh(this,oE,!1),Uh(this,lE,null),Uh(this,cE,null),Uh(this,hE,null),Uh(this,dE,new Map),Uh(this,uE,!1),Uh(this,pE,!1),Uh(this,fE,!1),Uh(this,mE,null),Uh(this,gE,null),Uh(this,vE,null),Uh(this,bE,null),Uh(this,xE,null),Uh(this,yE,-1),Uh(this,wE,void 0);const d=[...TE._.values()];if(!kE._initialized){kE._initialized=!0;for(const t of d)t.initialize(h,e)}e.registerEditorTypes(d),Xh(wE,this,e),this.pageIndex=n,this.div=i,Xh(rE,this,s),Xh(lE,this,r),this.viewport=c,Xh(vE,this,l),this.drawLayer=o,this._structTree=a,Yh(wE,this).addLayer(this)}get isEmpty(){return 0===Yh(dE,this).size}get isInvisible(){return this.isEmpty&&Yh(wE,this).getMode()===cd.NONE}updateToolbar(t){Yh(wE,this).updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yh(wE,this).getMode();switch(qh(_E,this,CE).call(this),t){case cd.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case cd.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case cd.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of TE._.values())e.toggle("".concat(n._type,"Editing"),t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===(null===(e=Yh(vE,this))||void 0===e?void 0:e.div)}setEditingState(t){Yh(wE,this).setEditingState(t)}addCommands(t){Yh(wE,this).addCommands(t)}cleanUndoStack(t){Yh(wE,this).cleanUndoStack(t)}toggleDrawing(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!t)}togglePointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(t=Yh(lE,this))||void 0===t||t.div.classList.toggle("disabled",!e)}async enable(){var t;Xh(fE,this,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),null===(t=Yh(xE,this))||void 0===t||t.abort(),Xh(xE,this,null);const e=new Set;for(const i of Yh(dE,this).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(Yh(wE,this).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!Yh(lE,this))return void Xh(fE,this,!1);const n=Yh(lE,this).getEditableAnnotations();for(const i of n){if(i.hide(),Yh(wE,this).isDeletedAnnotationElement(i.data.id))continue;if(e.has(i.data.id))continue;const t=await this.deserialize(i);t&&(this.addOrRebuild(t),t.enableEditing())}Xh(fE,this,!1)}disable(){if(Xh(pE,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),Yh(vE,this)&&!Yh(xE,this)){Xh(xE,this,new AbortController);const t=Yh(wE,this).combinedSignal(Yh(xE,this));Yh(vE,this).div.addEventListener("pointerdown",t=>{const{clientX:e,clientY:n,timeStamp:i}=t;if(i-Yh(yE,this)>500)return void Xh(yE,this,i);Xh(yE,this,-1);const{classList:a}=this.div;a.toggle("getElements",!0);const s=document.elementsFromPoint(e,n);if(a.toggle("getElements",!1),!this.div.contains(s[0]))return;let r;const o=new RegExp("^".concat(ld,"[0-9]+$"));for(const c of s)if(o.test(c.id)){r=c.id;break}if(!r)return;const l=Yh(dE,this).get(r);null===(null===l||void 0===l?void 0:l.annotationElementId)&&(t.stopPropagation(),t.preventDefault(),l.dblclick())},{signal:t,capture:!0})}const t=new Map,e=new Map;for(const a of Yh(dE,this).values()){var n;a.disableEditing(),a.annotationElementId&&(null===a.serialize()?(e.set(a.annotationElementId,a),null===(n=this.getEditableAnnotation(a.annotationElementId))||void 0===n||n.show(),a.remove()):t.set(a.annotationElementId,a))}if(Yh(lE,this)){const n=Yh(lE,this).getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(Yh(wE,this).isDeletedAnnotationElement(n)){i.updateEdited({deleted:!0});continue}let a=e.get(n);a?(a.resetAnnotationElement(i),a.show(!1),i.show()):(a=t.get(n),a&&(Yh(wE,this).addChangedExistingAnnotation(a),a.renderAnnotationElement(i)&&a.show(!1)),i.show())}}qh(_E,this,CE).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of TE._.values())i.remove("".concat(a._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Xh(pE,this,!1)}getEditableAnnotation(t){var e;return(null===(e=Yh(lE,this))||void 0===e?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){Yh(wE,this).getActive()!==t&&Yh(wE,this).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,null!==(t=Yh(vE,this))&&void 0!==t&&t.div&&!Yh(bE,this)){Xh(bE,this,new AbortController);const t=Yh(wE,this).combinedSignal(Yh(bE,this));Yh(vE,this).div.addEventListener("pointerdown",qh(_E,this,SE).bind(this),{signal:t}),Yh(vE,this).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,null!==(t=Yh(vE,this))&&void 0!==t&&t.div&&Yh(bE,this)&&(Yh(bE,this).abort(),Xh(bE,this,null),Yh(vE,this).div.classList.remove("highlighting"))}enableClick(){if(Yh(cE,this))return;Xh(cE,this,new AbortController);const t=Yh(wE,this).combinedSignal(Yh(cE,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;null===(t=Yh(cE,this))||void 0===t||t.abort(),Xh(cE,this,null)}attach(t){Yh(dE,this).set(t.id,t);const{annotationElementId:e}=t;e&&Yh(wE,this).isDeletedAnnotationElement(e)&&Yh(wE,this).removeDeletedAnnotationElement(t)}detach(t){var e;Yh(dE,this).delete(t.id),null===(e=Yh(rE,this))||void 0===e||e.removePointerInTextLayer(t.contentDiv),!Yh(pE,this)&&t.annotationElementId&&Yh(wE,this).addDeletedAnnotationElement(t)}remove(t){this.detach(t),Yh(wE,this).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(Yh(wE,this).addDeletedAnnotationElement(t.annotationElementId),qm.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),null===(e=t.parent)||void 0===e||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),Yh(wE,this).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!Yh(fE,this)),Yh(wE,this).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var e;if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!Yh(hE,this)&&(t._focusEventsAllowed=!1,Xh(hE,this,setTimeout(()=>{Xh(hE,this,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:Yh(wE,this)._signal}),n.focus())},0))),t._structTreeParentId=null===(e=Yh(rE,this))||void 0===e?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getNextId(){return Yh(wE,this).getId()}combinedSignal(t){return Yh(wE,this).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return null===(t=Gh(_E,this,AE))||void 0===t?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await Yh(wE,this).updateMode(t.mode);const{offsetX:n,offsetY:i}=qh(_E,this,EE).call(this),a=this.getNextId(),s=qh(_E,this,ME).call(this,l({parent:this,id:a,x:n,y:i,uiManager:Yh(wE,this),isCentered:!0},e));s&&this.add(s)}async deserialize(t){var e,n;return await(null===(e=TE._.get(null!==(n=t.annotationType)&&void 0!==n?n:t.annotationEditorType))||void 0===e?void 0:e.deserialize(t,this,Yh(wE,this)))||null}createAndAddNewEditor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),a=qh(_E,this,ME).call(this,l({parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:Yh(wE,this),isCentered:e},n));return a&&this.add(a),a}addNewEditor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(qh(_E,this,EE).call(this),!0,t)}setSelected(t){Yh(wE,this).setSelected(t)}toggleSelected(t){Yh(wE,this).toggleSelected(t)}unselect(t){Yh(wE,this).unselect(t)}pointerup(t){var e;const{isMac:n}=Kd.platform;if(0!==t.button||t.ctrlKey&&n)return;if(t.target!==this.div)return;if(!Yh(uE,this))return;if(Xh(uE,this,!1),null!==(e=Gh(_E,this,AE))&&void 0!==e&&e.isDrawer&&Gh(_E,this,AE).supportMultipleDrawings)return;if(!Yh(oE,this))return void Xh(oE,this,!0);const i=Yh(wE,this).getMode();i!==cd.STAMP&&i!==cd.SIGNATURE?this.createAndAddNewEditor(t,!1):Yh(wE,this).unselectAll()}pointerdown(t){var e;if(Yh(wE,this).getMode()===cd.HIGHLIGHT&&this.enableTextSelection(),Yh(uE,this))return void Xh(uE,this,!1);const{isMac:n}=Kd.platform;if(0!==t.button||t.ctrlKey&&n)return;if(t.target!==this.div)return;if(Xh(uE,this,!0),null!==(e=Gh(_E,this,AE))&&void 0!==e&&e.isDrawer)return void this.startDrawingSession(t);const i=Yh(wE,this).getActive();Xh(oE,this,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),Yh(mE,this))return void Gh(_E,this,AE).startDrawing(this,Yh(wE,this),!1,t);Yh(wE,this).setCurrentDrawingSession(this),Xh(mE,this,new AbortController);const e=Yh(wE,this).combinedSignal(Yh(mE,this));this.div.addEventListener("blur",t=>{let{relatedTarget:e}=t;e&&!this.div.contains(e)&&(Xh(gE,this,null),this.commitOrRemove())},{signal:e}),Gh(_E,this,AE).startDrawing(this,Yh(wE,this),!1,t)}pause(t){if(t){const{activeElement:t}=document;return void(this.div.contains(t)&&Xh(gE,this,t))}Yh(gE,this)&&setTimeout(()=>{var t;null===(t=Yh(gE,this))||void 0===t||t.focus(),Xh(gE,this,null)},0)}endDrawingSession(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Yh(mE,this)?(Yh(wE,this).setCurrentDrawingSession(null),Yh(mE,this).abort(),Xh(mE,this,null),Xh(gE,this,null),Gh(_E,this,AE).endDrawing(t)):null}findNewParent(t,e,n){const i=Yh(wE,this).findParent(e,n);return null!==i&&i!==this&&(i.changeParent(t),!0)}commitOrRemove(){return!!Yh(mE,this)&&(this.endDrawingSession(),!0)}onScaleChanging(){Yh(mE,this)&&Gh(_E,this,AE).onScaleChangingWhenDrawing(this)}destroy(){var t;this.commitOrRemove(),(null===(t=Yh(wE,this).getActive())||void 0===t?void 0:t.parent)===this&&(Yh(wE,this).commitOrRemove(),Yh(wE,this).setActiveEditor(null)),Yh(hE,this)&&(clearTimeout(Yh(hE,this)),Xh(hE,this,null));for(const n of Yh(dE,this).values()){var e;null===(e=Yh(rE,this))||void 0===e||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,Yh(dE,this).clear(),Yh(wE,this).removeLayer(this)}render(t){let{viewport:e}=t;this.viewport=e,_u(this.div,e);for(const n of Yh(wE,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(t){let{viewport:e}=t;Yh(wE,this).commitOrRemove(),qh(_E,this,CE).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,_u(this.div,{rotation:i}),n!==i)for(const a of Yh(dE,this).values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return Yh(wE,this).viewParameters.realScale}}function SE(t){Yh(wE,this).unselectAll();const{target:e}=t;if(e===Yh(vE,this).div||("img"===e.getAttribute("role")||e.classList.contains("endOfContent"))&&Yh(vE,this).div.contains(e)){const{isMac:e}=Kd.platform;if(0!==t.button||t.ctrlKey&&e)return;Yh(wE,this).showAllEditors("highlight",!0,!0),Yh(vE,this).div.classList.add("free"),this.toggleDrawing(),tA.startHighlighting(this,"ltr"===Yh(wE,this).direction,{target:Yh(vE,this).div,x:t.x,y:t.y}),Yh(vE,this).div.addEventListener("pointerup",()=>{Yh(vE,this).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:Yh(wE,this)._signal}),t.preventDefault()}}function AE(t){return TE._.get(Yh(wE,t).getMode())}function ME(t){const e=Gh(_E,this,AE);return e?new e.prototype.constructor(t):null}function EE(){const{x:t,y:e,width:n,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,t),s=Math.max(0,e),r=(a+Math.min(window.innerWidth,t+n))/2-t,o=(s+Math.min(window.innerHeight,e+i))/2-e,[l,c]=this.viewport.rotation%180===0?[r,o]:[o,r];return{offsetX:l,offsetY:c}}function CE(){for(const t of Yh(dE,this).values())t.isEmpty()&&t.remove()}r(kE,"_initialized",!1);var TE={_:new Map([Ck,mM,QM,tA,jM].map(t=>[t._editorType,t]))},PE=new WeakMap,DE=new WeakMap,RE=new WeakMap,LE=new WeakSet;class NE{constructor(t){let{pageIndex:e}=t;Vh(this,LE),Uh(this,PE,null),Uh(this,DE,new Map),Uh(this,RE,new Map),this.pageIndex=e}setParent(t){if(Yh(PE,this)){if(Yh(PE,this)!==t){if(Yh(DE,this).size>0)for(const e of Yh(DE,this).values())e.remove(),t.append(e);Xh(PE,this,t)}}else Xh(PE,this,t)}static get _svgFactory(){return zd(this,"_svgFactory",new Rw)}draw(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=(zE._=(e=zE._,n=e++,e),n),r=qh(LE,this,IE).call(this),o=NE._svgFactory.createElement("defs");r.append(o);const l=NE._svgFactory.createElement("path");o.append(l);const c="path_p".concat(this.pageIndex,"_").concat(s);l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),i&&Yh(RE,this).set(s,l);const h=a?qh(LE,this,FE).call(this,o,c):null,d=NE._svgFactory.createElement("use");return r.append(d),d.setAttribute("href","#".concat(c)),this.updateProperties(r,t),Yh(DE,this).set(s,r),{id:s,clipPathId:"url(#".concat(h,")")}}drawOutline(t,e){var n,i;const a=(zE._=(n=zE._,i=n++,n),i),s=qh(LE,this,IE).call(this),r=NE._svgFactory.createElement("defs");s.append(r);const o=NE._svgFactory.createElement("path");r.append(o);const l="path_p".concat(this.pageIndex,"_").concat(a);let c;if(o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),e){const t=NE._svgFactory.createElement("mask");r.append(t),c="mask_p".concat(this.pageIndex,"_").concat(a),t.setAttribute("id",c),t.setAttribute("maskUnits","objectBoundingBox");const e=NE._svgFactory.createElement("rect");t.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white");const n=NE._svgFactory.createElement("use");t.append(n),n.setAttribute("href","#".concat(l)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const h=NE._svgFactory.createElement("use");s.append(h),h.setAttribute("href","#".concat(l)),c&&h.setAttribute("mask","url(#".concat(c,")"));const d=h.cloneNode();return s.append(d),h.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(s,t),Yh(DE,this).set(a,s),a}finalizeDraw(t,e){Yh(RE,this).delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:i,rootClass:a,path:s}=e,r="number"===typeof t?Yh(DE,this).get(t):t;if(r){if(n&&qh(LE,this,jE).call(this,r,n),i&&OE.call(NE,r,i),a){const{classList:t}=r;for(const[e,n]of Object.entries(a))t.toggle(e,n)}if(s){const t=r.firstChild.firstChild;qh(LE,this,jE).call(this,t,s)}}}updateParent(t,e){if(e===this)return;const n=Yh(DE,this).get(t);n&&(Yh(PE,e).append(n),Yh(DE,this).delete(t),Yh(DE,e).set(t,n))}remove(t){Yh(RE,this).delete(t),null!==Yh(PE,this)&&(Yh(DE,this).get(t).remove(),Yh(DE,this).delete(t))}destroy(){Xh(PE,this,null);for(const t of Yh(DE,this).values())t.remove();Yh(DE,this).clear(),Yh(RE,this).clear()}}function OE(t,e){let[n,i,a,s]=e;const{style:r}=t;r.top="".concat(100*i,"%"),r.left="".concat(100*n,"%"),r.width="".concat(100*a,"%"),r.height="".concat(100*s,"%")}function IE(){const t=jh._svgFactory.create(1,1,!0);return Yh(PE,this).append(t),t.setAttribute("aria-hidden",!0),t}function FE(t,e){const n=jh._svgFactory.createElement("clipPath");t.append(n);const i="clip_".concat(e);n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const a=jh._svgFactory.createElement("use");return n.append(a),a.setAttribute("href","#".concat(e)),a.classList.add("clip"),i}function jE(t,e){for(const[n,i]of Object.entries(e))null===i?t.removeAttribute(n):t.setAttribute(n,i)}jh=NE;var zE={_:0};globalThis._pdfjsTestingUtils={HighlightOutliner:SS},globalThis.pdfjsLib={AbortException:Gd,AnnotationEditorLayer:kE,AnnotationEditorParamsType:hd,AnnotationEditorType:cd,AnnotationEditorUIManager:cf,AnnotationLayer:bk,AnnotationMode:od,AnnotationType:bd,build:"9e2e9e209",ColorPicker:mw,createValidAbsoluteUrl:Fd,DOMSVGFactory:Rw,DrawLayer:NE,FeatureTest:Kd,fetchData:lu,getDocument:vy,getFilenameFromUrl:function(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(du(t))return Nd('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(t=>{try{return new URL(t)}catch(e){try{return new URL(decodeURIComponent(t))}catch(n){try{return new URL(t,"https://foo.bar")}catch(i){try{return new URL(decodeURIComponent(t),"https://foo.bar")}catch(a){return null}}}}})(t);if(!n)return e;const i=t=>{try{let e=decodeURIComponent(t);return e.includes("/")?(e=e.split("/").at(-1),e.test(/^\.pdf$/i)?e:t):e}catch(e){return t}},a=/\.pdf$/i,s=n.pathname.split("/").at(-1);if(a.test(s))return i(s);if(n.searchParams.size>0){const t=Array.from(n.searchParams.values()).reverse();for(const n of t)if(a.test(n))return i(n);const e=Array.from(n.searchParams.keys()).reverse();for(const n of e)if(a.test(n))return i(n)}if(n.hash){const t=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(t)return i(t[0])}return e},getRGB:xu,getUuid:nu,getXfaPageViewport:function(t,e){let{scale:n=1,rotation:i=0}=e;const{width:a,height:s}=t.attributes.style,r=[0,0,parseInt(a),parseInt(s)];return new cu({viewBox:r,userUnit:1,scale:n,rotation:i})},GlobalWorkerOptions:Gb,ImageKind:vd,InvalidPDFException:Vd,isDataScheme:du,isPdfFile:uu,isValidExplicitDest:Pg,MathClamp:au,noContextMenu:mu,normalizeUnicode:function(t){return tu||(tu=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,eu=new Map([["\ufb05","\u017ft"]])),t.replaceAll(tu,(t,e,n)=>e?e.normalize("NFKC"):eu.get(n))},OPS:Ad,OutputScale:ku,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:Ay,PDFDateString:vu,PDFWorker:Iy,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:ou,RenderingCancelledException:hu,ResponseException:Ud,setLayerDimensions:_u,shadow:zd,SignatureExtractor:bM,stopEvent:gu,SupportedImageMimeTypes:Su,TextLayer:iy,TouchManager:mm,updateUrlHash:jd,Util:Qd,VerbosityLevel:Sd,version:"5.4.149",XfaLayer:Lw};const BE="Data Operator";function WE(){const[e,n]=(0,t.useState)([]),[i,a]=(0,t.useState)(!1),[s,r]=(0,t.useState)(null),[o,c]=(0,t.useState)({rawText:"---- Sample Extracted Claim JSON ----\n"+JSON.stringify({claimId:"FRA2025-0789",applicant:"Ramesh Kumar",village:"Bhavanpur",status:"Under Review",remarks:"Verification pending"},null,2)}),h=(0,t.useCallback)(t=>{n(e=>[...e,...t.map(t=>Object.assign(t,{preview:URL.createObjectURL(t),status:"pending",progress:0}))]),c(null)},[]),{getRootProps:d,getInputProps:u,isDragActive:p}=wh({onDrop:h,accept:{"application/pdf":[".pdf"],"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"]},multiple:!0}),f=async t=>{const e=await vy(await t.arrayBuffer()).promise;let n=[];for(let i=1;i<=e.numPages;i++){const a=await e.getPage(i),s=a.getViewport({scale:1.5}),r=document.createElement("canvas"),o=r.getContext("2d");r.height=s.height,r.width=s.width,await a.render({canvasContext:o,viewport:s}).promise;const l=r.toDataURL("image/png"),c=await fetch(l),h=await c.blob();n.push(new File([h],"".concat(t.name,"_page").concat(i,".png"),{type:"image/png"}))}return n};return(0,we.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#ffffff"},children:[(0,we.jsx)(Pe,{userRole:BE,userName:"Data Operator"}),(0,we.jsxs)("div",{style:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,we.jsx)(Te,{role:BE}),(0,we.jsxs)("div",{style:{padding:"20px 40px 40px 40px"},className:"main-digitization-content",children:[(0,we.jsx)("h1",{className:"section-title",children:"Document Digitization & OCR Extraction"}),(0,we.jsx)("p",{style:{fontSize:"16px",color:"#2f4f2f",marginBottom:"30px"},children:"Upload land records, claim forms, and supporting documents for digital processing, OCR extraction, and claim verification."}),(0,we.jsxs)("div",{className:"digitization-grid",children:[(0,we.jsxs)("div",{className:"upload-box",children:[(0,we.jsxs)("div",l(l({},d()),{},{className:"dropzone-area ".concat(p?"drag-active":""),children:[(0,we.jsx)("input",l({},u())),p?(0,we.jsx)("p",{children:"Release to drop the files here..."}):(0,we.jsxs)("p",{children:[(0,we.jsx)("strong",{children:"Drag & drop"})," files here, or ",(0,we.jsx)("strong",{children:"click"})," to select files.",(0,we.jsx)("br",{}),"(PDF, JPG, PNG accepted)"]})]})),(0,we.jsx)("button",{className:"upload-button",onClick:async()=>{if(0===e.length||i)return;a(!0),r("pending"),c(null);let t="";for(const i of e){n(t=>t.map(t=>t.name===i.name?l(l({},t),{},{status:"processing",progress:30}):t));try{let e=[];e="application/pdf"===i.type?await f(i):[i];for(const n of e){const{data:{text:e}}=await Bh().recognize(n,"eng",{logger:t=>console.log(t)});t+="\n---- File: ".concat(i.name," ----\n").concat(e,"\n")}n(t=>t.map(t=>t.name===i.name?l(l({},t),{},{status:"uploaded",progress:100}):t))}catch(s){console.error("OCR Error:",s),n(t=>t.map(t=>t.name===i.name?l(l({},t),{},{status:"error",progress:100}):t))}}c({rawText:JSON.stringify({extractedText:t},null,2)}),a(!1),r("success")},disabled:i,children:i?"Processing OCR...":"Start Digitization & OCR"}),o&&(0,we.jsxs)("div",{className:"ocr-card",children:[(0,we.jsx)("h4",{children:"\ud83d\udcc4 Extracted Claim JSON"}),(0,we.jsx)("pre",{style:{whiteSpace:"pre-wrap",fontSize:"0.9rem",color:"#065f46"},children:o.rawText})]})]}),(0,we.jsxs)("div",{children:[(0,we.jsxs)("div",{className:"status-box",children:[(0,we.jsx)("h3",{style:{color:"#14532d"},children:"Claim Processing Status"}),(0,we.jsx)("ul",{className:"file-list",children:[{claimId:"FRA2025-0789",applicant:"Ramesh Kumar",status:"Under Review"},{claimId:"FRA2025-0790",applicant:"Sita Devi",status:"Approved"},{claimId:"FRA2025-0791",applicant:"Mohan Lal",status:"Rejected"}].map((t,e)=>(0,we.jsxs)("li",{className:"file-item",children:[(0,we.jsxs)("span",{className:"file-name",children:["ID: ",t.claimId," \u2014 ",t.applicant]}),(0,we.jsx)("span",{className:"status-text",style:{color:"Approved"===t.status?"#22c55e":"Rejected"===t.status?"#dc2626":"#166534"},children:t.status})]},e))}),e.length>0&&(0,we.jsx)("ul",{className:"file-list",children:e.map(t=>(0,we.jsxs)("li",{className:"file-item",children:[(0,we.jsx)("span",{className:"file-name",children:t.name}),(0,we.jsxs)("div",{className:"file-status-wrapper",children:[(0,we.jsx)("div",{className:"progress-bar-small",children:(0,we.jsx)("div",{className:"progress-fill-small",style:{width:"".concat(t.progress||0,"%"),backgroundColor:"uploaded"===t.status?"#22c55e":"#16a34a"}})}),(0,we.jsx)("span",{className:"status-text",style:{color:"uploaded"===t.status?"#22c55e":"#166534"},children:"uploaded"===t.status?"Complete":"error"===t.status?"Error":"".concat(t.progress||0,"%")}),(0,we.jsx)("button",{className:"remove-button",onClick:()=>{return i=t.name,n(e.filter(t=>t.name!==i)),void c(null);var i},disabled:i,children:"\xd7"})]})]},t.name))}),"success"===s&&(0,we.jsx)("div",{className:"alert success-alert",children:"\u2705 OCR extraction completed successfully!"}),"error"===s&&(0,we.jsx)("div",{className:"alert error-alert",children:"\u274c OCR failed. Please check file formats."})]}),(0,we.jsxs)("div",{className:"feature-box-standalone",children:[(0,we.jsx)("h3",{children:"\ud83d\udca1 OCR Features & Tips"}),(0,we.jsxs)("ul",{children:[(0,we.jsx)("li",{children:"Ensure PDFs/images are clear and legible for accurate OCR."}),(0,we.jsx)("li",{children:"Supports multi-page PDFs automatically."}),(0,we.jsx)("li",{children:"Extracted text is structured for verification and further processing."}),(0,we.jsx)("li",{children:"Start digitization to see results in the JSON and structured table."}),(0,we.jsx)("li",{children:"Track file upload progress in the Claim Processing Status panel."}),(0,we.jsx)("li",{children:"Extracted Data uses NER for making data into Structured format."})]})]})]})]}),(0,we.jsxs)("div",{className:"table-card-full",children:[(0,we.jsx)("h3",{children:"Structural Claim Table"}),(0,we.jsxs)("table",{children:[(0,we.jsx)("thead",{children:(0,we.jsxs)("tr",{children:[(0,we.jsx)("th",{children:"Sr. No."}),(0,we.jsx)("th",{children:"Claimant Name"}),(0,we.jsx)("th",{children:"Village Name"}),(0,we.jsx)("th",{children:"Area of Land"}),(0,we.jsx)("th",{children:"Claim Type"}),(0,we.jsx)("th",{children:"Status"})]})}),(0,we.jsx)("tbody",{children:[{sr:1,name:"Ramesh Kumar",village:"Bhavanpur",area:"2 Acres",type:"Land Rights",status:"Under Review"},{sr:2,name:"Sita Devi",village:"Rampur",area:"1.5 Acres",type:"Land Rights",status:"Approved"},{sr:3,name:"Mohan Lal",village:"Shivpuri",area:"3 Acres",type:"Land Rights",status:"Rejected"},{sr:4,name:"Sunita Sharma",village:"Haripur",area:"2.2 Acres",type:"Land Rights",status:"Approved"},{sr:5,name:"Anil Verma",village:"Rajpur",area:"1.8 Acres",type:"Land Rights",status:"Under Review"}].map(t=>(0,we.jsxs)("tr",{children:[(0,we.jsx)("td",{children:t.sr}),(0,we.jsx)("td",{children:t.name}),(0,we.jsx)("td",{children:t.village}),(0,we.jsx)("td",{children:t.area}),(0,we.jsx)("td",{children:t.type}),(0,we.jsx)("td",{className:"status-".concat(t.status.replace(" ","").toLowerCase()),children:t.status})]},t.sr))})]})]})]})]}),(0,we.jsx)("style",{children:"\n        .main-digitization-content { background-color: #ffffff; }\n        .section-title {\n          background: linear-gradient(90deg, #166534, #22c55e);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          font-size: 2rem;\n          margin-bottom: 20px;\n          border-bottom: 2px solid #bbf7d0;\n          padding-bottom: 10px;\n        }\n        .digitization-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; align-items: start; }\n        .upload-box, .status-box { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }\n        .dropzone-area { border: 3px dashed #86efac; border-radius: 12px; padding: 50px 20px; text-align: center; cursor: pointer; margin-bottom: 20px; background-color: #fafffa; transition: 0.3s; color: #166534; font-weight: 500; font-size: 1rem; }\n        .dropzone-area:hover, .dropzone-area.drag-active { border-color: #16a34a; background-color: #dcfce7; }\n        .upload-button { width: 100%; padding: 14px; background: linear-gradient(90deg, #16a34a, #22c55e); color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; }\n        .upload-button:hover:not(:disabled) { background: linear-gradient(90deg, #14532d, #16a34a); }\n        .upload-button:disabled { background-color: #a7f3d0; cursor: not-allowed; }\n        .ocr-card { margin-top: 20px; padding: 15px; background: #f0fdf4; border-left: 4px solid #22c55e; border-radius: 8px; }\n        .ocr-card h4 { margin-bottom: 10px; color: #14532d; }\n        .table-card-full { margin-top: 30px; width: 100%; padding: 20px; border-radius: 12px; background-color: #fffffff6; box-shadow: 0 6px 16px rgba(0,0,0,0.1); }\n        .table-card-full h4 { margin-bottom: 15px; font-size: 1.2rem; font-weight: 600; color: #065f46; }\n        .table-card-full table { width: 100%; border-collapse: collapse; }\n        .table-card-full th, .table-card-full td { padding: 12px 10px; border: 1px solid #0f766e77; text-align: center; }\n        .table-card-full th { background-color: #0f766e; color: white; text-transform: uppercase; letter-spacing: 0.05em; }\n        .table-card-full tbody tr:hover { background-color: #22c55e22; }\n        .status-approved { color: #047857; font-weight: 600; }\n        .status-rejected { color: #b91c1c; font-weight: 600; }\n        .status-underreview { color: #065f46; font-weight: 600; }\n        .file-list { list-style: none; padding: 0; margin: 15px 0; }\n        .file-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee; }\n        .file-name { font-weight: 500; color: #333; max-width: 55%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }\n        .file-status-wrapper { display: flex; align-items: center; gap: 12px; }\n        .progress-bar-small { width: 100px; height: 6px; background: #e9ecef; border-radius: 3px; overflow: hidden; }\n        .progress-fill-small { height: 100%; border-radius: 3px; transition: width 0.3s ease; }\n        .status-text { font-size: 0.9rem; font-weight: 600; min-width: 50px; text-align: right; }\n        .remove-button { background: none; border: none; color: #dc2626; font-size: 1.2rem; cursor: pointer; }\n        .remove-button:hover { color: #b91c1c; }\n        .remove-button:disabled { color: #d1d5db; cursor: not-allowed; }\n        .alert { padding: 12px; border-radius: 8px; margin-top: 15px; font-weight: 600; font-size: 0.95rem; }\n        .success-alert { background-color: #e6fff0; border: 1px solid #22c55e; color: #166534; }\n        .error-alert { background-color: #fff0f0; border: 1px solid #dc2626; color: #dc2626; }\n        .feature-box-standalone { margin-top: 30px; padding: 20px; border-radius: 12px; background: linear-gradient(90deg, #14b8a6, #06b6d4); color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }\n        .feature-box-standalone h3 { margin-bottom: 10px; }\n        .feature-box-standalone ul { margin: 0; padding-left: 20px; }\n        .feature-box-standalone li { margin-bottom: 8px; }\n      "})]})}const HE=function(){return(0,we.jsx)(de,{children:(0,we.jsxs)(Rt,{children:[(0,we.jsx)(Pt,{path:"/",element:(0,we.jsxs)(we.Fragment,{children:[(0,we.jsx)(ke,{}),(0,we.jsx)("section",{id:"home",children:(0,we.jsx)(_e,{})}),(0,we.jsx)("section",{id:"about",children:(0,we.jsx)(Ae,{})}),(0,we.jsx)("section",{id:"features",children:(0,we.jsx)(Se,{})}),(0,we.jsx)("section",{id:"contact",children:(0,we.jsx)(Me,{})}),(0,we.jsx)("section",{id:"faqs",children:(0,we.jsx)(Ee,{})})]})}),(0,we.jsx)(Pt,{path:"/login",element:(0,we.jsx)(Ce,{})}),(0,we.jsx)(Pt,{path:"/dashboard",element:(0,we.jsx)(xc,{})}),(0,we.jsx)(Pt,{path:"/digitization",element:(0,we.jsx)(WE,{})})]})})},VE=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,453)).then(e=>{let{getCLS:n,getFID:i,getFCP:a,getLCP:s,getTTFB:r}=e;n(t),i(t),a(t),s(t),r(t)})};e.createRoot(document.getElementById("root")).render((0,we.jsx)(t.StrictMode,{children:(0,we.jsx)(HE,{})})),VE()})()})();
//# sourceMappingURL=main.20eb553a.js.map